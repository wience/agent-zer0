{
  "title": "my.getBLEDeviceServices",
  "content": "# my.getBLEDeviceServices\n\n2021-05-09 18:43\n\nUse this API to obtain all services of Bluetooth devices that are connected to the native.\n\n**Note:**\n\nCurrently simulation in IDE is not supported. Please debug in production environment.\n\n## Sample Code\n\ncopy\n\n```javascript\n //Obtain the services of the connected device\n  getBLEDeviceServices() {\n    my.getConnectedBluetoothDevices({\n      success: res => {\n        if (res.devices.length === 0) {\n          my.alert({ content: 'No connected devices' });\n          return;\n        }\n        my.getBLEDeviceServices({\n          deviceId: this.data.devid,\n          success: res => {\n            my.alert({ content: JSON.stringify(res) });\n            this.setData({\n              serid: res.services[0].serviceId,\n            });\n          },\n          fail: error => {\n            my.alert({ content: JSON.stringify(error) });\n          },\n        });\n      },\n    });\n  },\n```\n\n## Return Value Sample\n\ncopy\n\n```json\n{\n    \"services\": [{\\\n        \"isPrimary\": true,\\\n        \"serviceId\": \"00001800-0000-1000-8000-00805f9b34fb\"\\\n    }, {\\\n        \"isPrimary\": true,\\\n        \"serviceId\": \"00001801-0000-1000-8000-00805f9b34fb\"\\\n    }, {\\\n        \"isPrimary\": true,\\\n        \"serviceId\": \"d0611e78-bbb4-4591-a5f8-487910ae4366\"\\\n    }, {\\\n        \"isPrimary\": true,\\\n        \"serviceId\": \"9fa480e0-4967-4542-9390-d343dc5d04ae\"\\\n    }]\n}\n```\n\n## Parameters\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Required** | **Description** |\n| deviceId | String | Yes | The Bluetooth device ID. |\n| success | Function | No | The callback function for a successful API call. |\n| fail | Function | No | The callback function for a failed API call. |\n| complete | Function | No | The callback function used when the API call is completed. This function is always executed no matter the call succeeds or fails. |\n\n### Success return value\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| services | Array | List of discovered device services |\n\n#### services\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| isPrimary | Boolean | This field indicates whether the service is the main service. Valid values are:<br>`true`: The service is the main service.<br>`false`: The service is not the main service. |\n| serviceId | String | The UUID of the service corresponding to a Bluetooth characteristic. |",
  "date": "2021-05-09",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_device_bluetooth_ble_getbledeviceservices",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_api_device_bluetooth_ble_getbledeviceservices.json"
}