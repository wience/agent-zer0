{
  "title": "my.setKeepScreenOn",
  "content": "# my.setKeepScreenOn\n\n2021-05-10 03:43\n\nSet whether to keep screen on Takes effect in the current Mini Program only.\n\n## Sample Code\n\ncopy\n\n```html\n<!-- API-DEMO page/API/screen/screen.axml-->\n<view class=\"page\">\n  <view class=\"page-description\">Screen brightness API</view>\n  <view class=\"page-section\">\n    <view class=\"page-section-title\">Set whether to keep screen on</view>\n    <view class=\"page-section-demo\">\n      <switch checked=\"{{status}}\" onChange=\"switchKeepScreenOn\"/>\n    </view>\n  </view>\n  <view class=\"page-section\">\n    <view class=\"page-section-title\">Set screen brightness</view>\n    <view class=\"page-section-demo\">\n      <slider value=\"{{brightness}}\" max=\"1\" min=\"0\" onChange=\"sliderChange\" step=\"0.02\"/>\n    </view>\n  </view>\n  <view class=\"page-section\">\n    <view class=\"page-section-title\">Get screen brightness</view>\n    <view class=\"page-section-demo\">\n      <button type=\"primary\" onTap=\"getBrightness\">Get screen brightness</button>\n    </view>\n  </view>\n</view>\n```\n\ncopy\n\n```javascript\n// API-DEMO page/API/screen/screen.js\nPage({\n  data: {\n    status: false,\n    brightness: 1,\n  },\n  onLoad() {\n    my.getScreenBrightness({\n      success: res => {\n        this.setData({\n          brightness: res.brightness\n        })\n      },\n    })\n  },\n  sliderChange(e) {\n    my.setScreenBrightness({\n      brightness: e.detail.value,\n      success: (res) => {\n        this.setData({\n          brightness: e.detail.value,\n        })\n      }\n    })\n  },\n  switchKeepScreenOn(e) {\n    my.setKeepScreenOn({\n      keepScreenOn: e.detail.value,\n      success: (res) => {\n        this.setData({\n          status: e.detail.value,\n        })\n      }\n    })\n  },\n  getBrightness() {\n    my.getScreenBrightness({\n      success: res => {\n        my.alert({\n          content: `Current screen brightness: ${res.brightness}`\n        });\n      }\n    })\n  }\n});\n```\n\n## Parameters\n\nObject type with the following attributes:\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Required** | **Description** |\n| keepScreenOn | Boolean | Yes | Whether to keep screen on. |\n| success | Function | No | Callback function upon call success. |\n| fail | Function | No | Callback function upon call failure. |\n| complete | Function | No | Callback function upon call completion (to be executed upon either call success or failure). |",
  "date": "2021-05-10",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_device_screen_setkeepscreenon",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_api_device_screen_setkeepscreenon.json"
}