{
  "title": "my.getSetting",
  "content": "# my.getSetting\n\n2021-05-09 18:43\n\nUse this API to obtain the user's current settings. Only the permissions that have been requested by the Mini Program from the user are returned.\n\n## Sample Code\n\ncopy\n\n```javascript\nmy.getSetting({\n  success: (res) => {\n    /*\n     * res.authSetting = {\n     *   \"location\": true,\n     *   \"audioRecord\": true,\n     *   ...\n     * }\n     */\n  }\n})\n```\n\n## Parameters\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Required** | **Description** |\n| success | Function | No | The callback function for a successful API call. See Sample Return Value for details. |\n| fail | Function | No | The callback function for a failed API call. |\n| complete | Function | No | The callback function used when the API call is completed. This function is always executed no matter the call succeeds or fails. |\n\n### Success callback function\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| authSetting | Object | Results of user authorization. Keys are the values of `scopes` and values are boolean types, which shows whether the user gives the permission or not. See Scopes for details. |\n\n## Return Value Sample\n\ncopy\n\n```json\n{\n    \"authSetting\": {\n        \"camera\": true,\n        \"location\": true,\n        \"album\": true,\n        \"userInfo\": true,\n        \"phoneNumber\": true\n    }\n}\n```\n\n## Scopes\n\n|     |     |     |\n| --- | --- | --- |\n| **Scope** | **API** | **Description** |\n| location | [my.getLocation](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_location_getlocation) | This field specifies whether to authorize access to geographic location. |\n| album | [my.chooseImage](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_media_image_chooseimage)„ÄÅ [my.saveImage](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_media_image_saveimage) | This field specifies whether to authorize to save images to the albums. |\n| camera | [my.scan](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_device_scan_scan) | This field specifies whether to authorize access to camera. |\n| phoneNumber | [my.getPhoneNumber](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/API_OpenAPI_getPhoneNumber) | This field specifies whether to authorize access to phone number. |\n| userInfo | [my.getOpenUserInfo](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_openapi_getopenuserinfo) | This field specifies whether to authorize access to user information. |",
  "date": "2021-05-09",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_device_setting_getsetting",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_api_device_setting_getsetting.json"
}