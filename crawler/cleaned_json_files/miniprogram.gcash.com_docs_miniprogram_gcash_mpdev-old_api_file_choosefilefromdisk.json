{
  "title": "my.chooseFileFromDisk",
  "content": "# my.chooseFileFromDisk\n\n2021-05-09 18:43\n\nYou can choose a file to upload. You can also view the details of the file or delete the file you have added.\n\n## Sample code\n\ncopy\n\n```html\n<!--.axml-->\n<view class=\"page\">\n  <view class=\"page-description\">file API</view>\n    <view class=\"page-section-demo\">\n      <button class=\"page-body-button\" onTap=\"chooseFileFromDisk\">Choose file from disk</button>\n    </view>\n  </view>\n</view>\n```\n\ncopy\n\n```javascript\n// .js\nPage({\n  chooseFileFromDisk(){\n    my.chooseFileFromDisk({\n      success: (res) => {\n        my.alert({\n          content: JSON.stringify(res),\n        });\n      },\n      fail: (res) => {\n        my.alert({\n          content: JSON.stringify(res),\n        });\n      }\n  \t});\n  },\n});\n```\n\n## Parameters\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Description** | **Required** |\n| success | Function | The callback function for a successful API call. | NO |\n| fail | Function | The callback function for a failed API call. | NO |\n| complete | Function | The callback function used when the API call is completed. This function is always executed no matter the call succeeds or fails. | NO |\n\n### Success callback function\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| apFilePath | string | The temporary local file path. |\n\n### Failure callback function\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| error | number | Error code. |\n| errorMessage | string | Error message. |\n\n## Error codes\n\n|     |     |     |\n| --- | --- | --- |\n| **Error code** | **Error message** | **Remark** |\n| 4 | The JSAPI call is denied. | The mini program that is developed by the merchant/ISV has no right to call the JSAPI. |\n| 12 | Errors occur when copying the file. |  |\n| 15 | The user cancels the file selection. |  |\n| 16 | The user denies the permission to read the storage. | Android Only. |\n| 17 | No permission to read the storage. | Android Only. |\n| 18 | Choosing large file is not supported. |  |\n\n**Note:**\n\nThe following list describes the difference between the error code 16 and 17:\n\n- 16: The user denies the permission to read the storage for the current request.\n- 17: The user denied the permission last time and chose to never asking the permission again. In this case, the dialog box for the permission cannot pop up. The error code of 17 is returned directly. The mini program developer requires to call the [showAuthGuide](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_device_permission_showauthguide) to guide the user to grant the related permission.\n\n## File size limit\n\nIf you choose a file that is too large, the mini program or the wallet app cannot run properly. For this reason, the file size is limited to 50MB. When the file size exceeds 50MB, the error code of 18 is returned and the corresponding error message is displayed.\n\n九色鹿",
  "date": "2021-05-09",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_file_choosefilefromdisk",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_api_file_choosefilefromdisk.json"
}