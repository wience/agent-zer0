{
  "title": "my.getLocation",
  "content": "# my.getLocation\n\n2021-05-09 18:43\n\nGet the current geographical location of the user.\n\n## Sample Code\n\ncopy\n\n```javascript\nmy.getLocation({\n  success(res) {\n    my.hideLoading();\n    console.log(res)\n    that.setData({\n      hasLocation: true,\n      location: formatLocation(res.longitude, res.latitude)\n    })\n  },\n  fail() {\n    my.hideLoading();\n    my.alert({ title: 'location failed' });\n  },\n})\n```\n\n## Parameters\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Required** | **Description** |\n| cacheTimeout | Number | No | longitude and latitude location cache expiry time in seconds. Default is 30s. Use of cache can speed up location process. Re-location is done upon cache expiry. |\n| type | Number | No | 0: default, get the longitude and latitude. |\n| success | Function | No | Callback function upon call success. |\n| fail | Function | No | Callback function upon call failure. |\n| complete | Function | No | Callback function upon call completion (to be executed upon either call success or failure). |\n\n### Success Callback Function\n\nThe incoming parameter is of the Object type with the following attributes:\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| longitude | String | Longitude. |\n| latitude | String | Latitude. |\n| accuracy | String | Accuracy, in m. |\n\n## Error Code\n\n|     |     |     |\n| --- | --- | --- |\n| **Error** | **Description** | **Solution** |\n| 11 | Make sure the location related right Â  has been enabled. | Prompt the user to enable location permission. |\n| 12 | Network abnormity, try again later. | Prompt the user to check the current network. |\n| 13 | Location failure, try again later. | - |\n| 14 | Service location timeout. | Prompt the user to try again. |",
  "date": "2021-05-09",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_location_getlocation",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_api_location_getlocation.json"
}