{
  "title": "Constructor",
  "content": "# Constructor\n\n2021-05-10 03:43\n\n## Constructor\n\n### Parameter Description\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Parameter** | **Type** | **Required** | **Description** |\n| data | Object | No | Component internal status. |\n| props | Object | No | Set default for incoming data. |\n| onInit | Function | No | Component lifecycle function, trigger on component creation. |\n| deriveDataFromProps | Function | No | Component lifecycle function, trigger on component creation and update. |\n| didMount | Function | No | Component lifecycle function, trigger on component creation completion. |\n| didUpdate | Function | No | Component lifecycle function, trigger on component update completion. |\n| didUnmount | Function | No | Component lifecycle function, trigger on component deletion. |\n| mixins | Array | No | Code reuse mechanism between components. |\n| methods | Object | No | Component method, can be event response function or any customized method. |\n\n### Sample Code\n\n**js sample code:**\n\ncopy\n\n```javascript\nComponent({\n  mixins:[{ didMount() {}, }],\n  data: {y:2},\n  props:{x:1},\n  didUpdate(prevProps,prevData){},\n  didUnmount(){},\n  methods:{\n    onMyClick(ev){\n      my.alert({});\n      this.props.onXX({ ...ev, e2:1});\n    },\n  },\n})\n```\n\n## Component Instance Attribute List\n\n### Parameter Description\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| data | Object | Component internal data. |\n| props | Object | Incoming component attribute. |\n| is | String | Component path. |\n| $page | Object | Component page instance. |\n| $id | Number | Component id, can render value in component axml. |\n\n### Sample Code\n\n**js sample code:**\n\ncopy\n\n```javascript\n// /components/xx/index.js\nComponent({\n  didMount(){\n    this.$page.xxCom = this; // this operation can load the component instance to the belonging page instance\n    console.log(this.is);\n    console.log(this.$page);\n    console.log(this.$id);\n  }\n});\n```\n\n**axml sample code:**\n\ncopy\n\n```html\n<!-- /components/xx/index.axml component id can directly render value in component axml -->\n<view>{{$id}}</view>\n```\n\n**json sample code:**\n\ncopy\n\n```json\n// /pages/index/index.json\n{\n  \"usingComponents\": {\n  \t\"xx\": \"/components/xx/index\"\n  }\n}\n```\n\n**js sample code:**\n\ncopy\n\n```javascript\nPage({\n  onReady() {\n    console.log(this.xxCom); // can access all loaded components loaded onto the current page\n  },\n})\n```\n\nWhen the component is rendered on the page, execute the didMount callback, and the console has the following output:\n\ncopy\n\n```\n/components/xx/index\n{$viewId: 51, route: \"pages/index/index\"}\n1\n```\n\n## Component Instance Method List\n\n|     |     |     |\n| --- | --- | --- |\n| **Method name** | **Parameter** | **Descrsiption** |\n| setData | Object | Setting data triggers view rendering. |\n| $spliceData | Object | Setting data triggers view rendering. |",
  "date": "2021-05-10",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/framework_custom-component_create-custom-component_constructor",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_framework_custom-component_create-custom-component_constructor.json"
}