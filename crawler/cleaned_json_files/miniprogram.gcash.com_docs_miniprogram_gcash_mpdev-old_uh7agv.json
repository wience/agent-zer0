{
  "title": "/v1/authorizations/cancelToken",
  "content": "# /v1/authorizations/cancelToken\n\n2021-05-09 18:43\n\nPOST `/v1/authorizations/cancelToken`\n\nThe `cancelToken`Â API is used to cancel access token at wallet.\n\n# Message structure\n\n## Request\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Data type** | **Required** | **Description** |\n| accessToken | String | Yes | An access token that can be used to access the user resource scope.<br>Max. length: 128 characters. |\n| extendInfo | String | No | The extend information,wallet and merchant can put extend info here.<br>Max. length: 4096 characters. |\n\n## Response\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Data type** | **Required** | **Description** |\n| result | [**Result**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/vs3pkf#sHXZc) | Yes | The request result, which contains information related to the request result, such as status and error codes. |\n| extendInfo | String | No | The extend information,wallet and merchant can put extend info here.<br>Max. length: 4096 characters. |\n\n### Result process logic\n\nFor different request results, different actions are to be performed. See the following list for details:\n\n- If the value of **result.resultStatus** is **S**, that means the authorization is cancelled successfully. AuthClient will not be able to use the AccessToken to access user's resources, and may not use the relative refreshToken to retrieve new AccessToken.\n- If the value of **result.resultStatus** is **F** or **U**, that means authorization is cancelled failed, AuthClient may guide user to try again.\n\n### Result\n\n|     |     |     |\n| --- | --- | --- |\n| **resultStatus** | **resultCode** | **resultMessage** |\n| S | SUCCESS | Success. |\n| U | UNKNOWN\\_EXCEPTION | An API calling is failed, which is caused by unknown reasons. |\n| U | REQUEST\\_TRAFFIC\\_EXCEED\\_LIMIT | The request traffic exceeds the limit. |\n| F | PROCESS\\_FAIL | A general business failure occurred. Don't retry. |\n| F | PARAM\\_ILLEGAL | Illegal parameters exist. For example, a non-numeric input, or an invalid date. |\n| F | ACCESS\\_DENIED | The access is denied. |\n| F | INVALID\\_API | The called API is invalid or not active. |\n| F | INVALID\\_AUTH\\_CLIENT\\_STATUS | Invalid auth client status. |\n| F | INVALID\\_ACCESS\\_TOKEN | The access token is invalid. |\n| F | INVALID\\_AUTH\\_CLIENT | The auth client id is invalid. |\n| F | EXPIRED\\_ACCESS\\_TOKEN | The access token is expired. |\n| F | EXPIRED\\_AGENT\\_TOKEN | The access token of mini program is expired. |\n| F | INVALID\\_AGENT\\_TOKEN | The access token of mini program is invalid. |\n\n# Sample\n\nYou can cancel the authorization. After cancellation, the refresh\\_token cannot be used even if it is valid.\n\n![/v1/authorizations/cancelToken](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png)\n\nWhen user cancel access token from the Mini Program,\n\n1. The Merchant server calls /v1/authorizations/cancelToken interface to cancel access token (Step 2).\n2. And wallet server returns token cacnel result to merchant server (Step 3).\n\n## Request\n\ncopy\n\n```json\n{\n  \"accessToken\": \"281010033AB2F588D14B43238637264FCA5Axxxx\",\n  \"extendInfo\": \"{\\\"customerBelongsTo\\\":\\\"siteNameExample\\\"}\"\n}\n```\n\n- **extendInfo,** includes key - **customerBelongsTo** the e-wallet that the customer uses. Corresponding to the field 'siteName' that obtained from the API 'my.getSiteInfo', in the Mini Program scenario this is mandatory.\n\n## Response\n\ncopy\n\n```json\n{\n \"result\": {\n    \"resultCode\":\"SUCCESS\",\n    \"resultStatus\":\"S\",\n    \"resultMessage\":\"success\"\n  }\n}\n```",
  "date": "2021-05-09",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/uh7agv",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev-old_uh7agv.json"
}