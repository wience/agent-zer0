{
  "title": "my.createMapContext",
  "content": "# my.createMapContext\n\n2022-07-03 18:44\n\nCall this API to create and return a map context object [mapContext](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_map_mapcontext_overview).\n\nFor more information about the related components, see [map](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_map_map).\n\n## Parameter~~~~\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Required** | **Description** |\n| mapId | Yes | The ID of the [map component](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_map_map). |\n\n## Return value\n\nThe return value is [MapContext](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_map_mapcontext_overview).\n\n## Sample code\n\ncopy\n\n```xml\n//.axml\n<view class=\"page-section\">\n      <map\n        id=\"map\"\n        customMapStyle=\"light\"\n        longitude=\"{{longitude}}\"\n        latitude=\"{{latitude}}\"\n        scale=\"{{scale}}\"\n        controls=\"{{controls}}\"\n        onControlTap=\"controltap\"\n        markers=\"{{markers}}\"\n        onMarkerTap=\"markertap\"\n        polyline=\"{{polyline}}\"\n        polygon=\"{{polygon}}\"\n        circles=\"{{circles}}\"\n        onRegionChange=\"regionchange\"\n        onTap=\"tap\"\n        onCalloutTap=\"callouttap\"\n        show-location style=\"width: 100%; height: 200px;\"\n        include-points=\"{{includePoints}}\"\n        ground-overlays=\"{{ground-overlays}}\">\n      </map>\n  </view>\n\n```\n\ncopy\n\n```javascript\n//.js\nPage({\n  // ... ...\n  onReady() {\n    //Call my.createMapContext to obtain the map context.\n    this.mapCtx = my.createMapContext('map');\n  },\n  // ... ...\n}）\n\n```\n\n## PageContext.setData(Object)\n\nCall this operation to initialize or reset map data. The parameters are optional.\n\n### Sample code\n\ncopy\n\n```javascript\n//  .js\n\nthis.setData({\n    scale: 14,\n    longitude: 120.131441,\n    latitude: 30.279383,\n    'show-location':true,\n    // Add a ground overlay. Feature added in v10.1.35.\n    'ground-overlays':[{\\\n        'include-points':[{// Upper-right\\\n            latitude: 39.935029,\\\n            longitude: 116.384377,\\\n          },{// Lower-left\\\n            latitude: 39.939577,\\\n            longitude: 116.388331,\\\n          }],\\\n        image:'/image/groundoverlay.png',\\\n        alpha:0.75,\\\n        zIndex:0,\\\n    }],\n    // Add a tile overlay. It is a feature added in v10.1.35.\n    'tile-overlay':{\n      url:'http://xixi.fullspeed.cn/public/map',\n      type:0,\n      tileWidth:256,\n      tileHeight:256,\n      zIndex:1,\n    },\n    markers:[{},{}],\n    'include-points':[{},{}],\n    // New overview logic added in v10.1.35.\n    'include-padding':{left:0, right:0, top:0, bottom:0},\n    polyline: [{},{}],\n    circles: [{},{}],\n    controls: [{},{}],\n    polygon: [{},{}],\n    'include-padding':{},\n    // Support settings at map initialization. It is a feature added in v10.1.50.\n    setting:{\n        // Gesture\n        gestureEnable:0/1,\n        // Scale\n        showScale:0/1,\n        // Compass\n        showCompass:0/1,\n        // Tilt gestures with both hands\n        tiltGesturesEnabled:0/1,\n        // Show or hide traffic\n        trafficEnabled:0/1,\n        // Map POI\n        showMapText:0/1,\n        // Map logo position\n        logoPosition:{centerX:150, centerY:90},\n    },\n});\n\n```",
  "date": "2022-07-03",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_map_createmapcontext",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev_api_map_createmapcontext.json"
}