{
  "title": "UpdateManager Overview",
  "content": "# UpdateManager Overview\n\n2022-07-03 18:44\n\nThe UpdateManager object is used to manage the mini program updates. Call [my.getUpdateManager](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_update_getupdatemanager) to obtain an UpdateManager instance.\n\n## Methods\n\n|     |     |\n| --- | --- |\n| **Name** | **Description** |\n| [UpdateManager.applyUpdate](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_update_updatemanager_applyupdate) | Force to restart the mini program and update to the latest version. This API is called after the `onUpdateReady` callback is received, which means that the new version of the mini program is downloaded. |\n| [UpdateManager.onCheckForUpdate](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_update_updatemanager_checkupdate) | Listen for the event that a request is sent to the server to check  for updates. |\n| [UpdateManager.onUpdateReady](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_update_updatemanager_updateready) | Listen for the event that a newer mini program version is available. |\n| [UpdateManager.onUpdateFailed](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_update_updatemanager_updatefail) | Listen for the event that the mini program update is failed. |\n\n## Sample code\n\ncopy\n\n```json\nconst updateManager = my.getUpdateManager()\n\nupdateManager.onCheckForUpdate(function (res) {\n  // Callback of onCheckForUpdate\n  console.log(res.hasUpdate)\n})\n\nupdateManager.onUpdateReady(function () {\n  my.confirm({\n    title: 'Update reminder',\n    content: 'The new version is ready. Do you want to restart the mini program?',\n    success: function (res) {\n      if (res.confirm) {\n        // The new version is downloaded. Call UpdateManager.applyUpdate to restart and apply the new version.\n        updateManager.applyUpdate()\n      }\n    }\n  })\n})\n\nupdateManager.onUpdateFailed(function () {\n  // The new version of the mini program is failed to be downloaded.\n})\n\n```",
  "date": "2022-07-03",
  "source": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_update_updatemanager_overview",
  "path": "miniprogram_gcash",
  "type": "miniprogram",
  "filename": "miniprogram.gcash.com_docs_miniprogram_gcash_mpdev_api_update_updatemanager_overview.json"
}