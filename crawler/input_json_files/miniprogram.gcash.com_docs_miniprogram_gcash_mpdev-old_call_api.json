{
  "markdown": "# Call an API via adding a signature\n\n2021-05-09 18:43\n\nBefore calling an API, signing a request is needed. After sending the request and obtaining the response, need to validate the response signature accordingly.\n\n# Sign a request\n\n## Procedure\n\n1. Obtain your private key, represented by `privateKey`, which is used to sign a request.\n2. Construct the content to be signed ( `Content_To_Be_Signed`).\n3. Calculate and generate the signature.\n4. Add the generated signature to the request header.\n\nFor details of each step, see the following examples.\n\n## Example\n\n### 1\\. Obtain your private key to sign the request\n\nGet your private key ready, which is used to generate the signature later.\n\n### 2\\. Construct the content to be signed\n\nFor example, a request has the following properties:\n\n- `HTTP_URI` : for example, /api/v2/payments/pay\n- `Client-Id` : TEST\\_5X00000000000000\n- `Request-Time` : 2019-05-28T12:12:12+08:00\n- `HTTP_BODY` : the body looks like the following format.\n\ncopy\n\n```json\n{\n \"order\":{\n    \"orderId\":\"OrderID_0101010101\",\n    \"orderDescription\":\"sample_order\",\n    \"orderAmount\":{\n       \"value\":\"100\",\n       \"currency\":\"JPY\"\n    }，\n },\n \"paymentAmount\":{\n    \"value\":\"100\",\n    \"currency\":\"JPY\"\n },\n \"paymentFactor\": {\n     \"isInStorePayment\": \"true\"\n }\n}\n```\n\nBy complying with the [Syntax of Content\\_To\\_Be\\_Signed](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api#dc6tR), the content to be signed ( `Content_To_Be_Signed`) is created as follows:\n\ncopy\n\n```\nPOST /api/v2/payments/pay\nTEST_5X00000000000000.2019-05-28T12:12:12+08:00.{\n\"order\":{\n    \"orderId\":\"OrderID_0101010101\",\n    \"orderDescription\":\"sample_order\",\n    \"orderAmount\":{\n       \"value\":\"100\",\n       \"currency\":\"JPY\"\n    }，\n },\n \"paymentAmount\":{\n    \"value\":\"100\",\n    \"currency\":\"JPY\"\n },\n \"paymentFactor\": {\n     \"isInStorePayment\": \"true\"\n }\n}\n```\n\n### 3\\. Calculate and generate the signature\n\nUse the `sha256withrsa` method that involve the proper algorithm and private keyto calculate and generate the signature.\n\ncopy\n\n```\ngeneratedSignature=base64UrlEncode(sha256withrsa(<Content_To_Be_Signed>), <privateKey>))\n```\n\n- `Content_To_Be_Signed:` the content to be signed that is obtained in step 2.\n- `privateKey` : the private key value that is obtained in step 1.\n- `sha256withrsa` : the algorithm to use, RSA256.\n\nFor example, the generated signature `generatedSignature` looks as follows:\n\ncopy\n\n```\nKrwDE9tAPJYBb4cUZU6ALJxGIZgwDXn5UkFPMip09n%2FkYKPhEIII%2Fki2rYY2lPtuKVgMNz%2BtuCU%\n2FjzRpohDbrOd8zYriiukpGAxBQDIVbatGI7WYOcc9YVQwdCR6ROuRQvr%2FD1AfdhHd6waAASu5Xugow9\nw1OW7Ti93LTd0tcyEWQYd2S7c3A73sHOJNYl8DC1PjasiBozZ%2FADgb7ONsqHo%2B8fKHsLygX9cuMkQY\nTGIRBQsvfgICnJhh%2BzXV8AQoecJBTrv6p%xxxx\n```\n\n### 4\\. Add the generated signature to the request header\n\na. Assemble a signature string as the following syntax.\n\ncopy\n\n```\n'Signature: algorithm=<algorithm>, keyVersion=<key-version>, signature=<generatedSignature>'\n```\n\n- `algorithm` , `keyVersion` : see the header of the [Message structure](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/xxpbkg#3mLq0) chapter.\n- `generatedSignature` : the signature that is generated in step 3.\n\nFor example:\n\ncopy\n\n```\n'Signature: algorithm=RSA256, keyVersion=0, signature=KrwDE9tAPJYBb4cUZU6ALJxGIZgwDXn5UkFPMip09n%2FkYKPhEIII%2Fki2rYY2lPtuKVgMNz%2BtuCU%2FjzRpohDbrOd8zYriiukpGAxBQDIVbatGI7WYOcc9YVQwdCR6ROuRQvr%2FD1AfdhHd6waAASu5Xugow9w1OW7Ti93LTd0tcyEWQYd2S7c3A73sHOJNYl8DC1PjasiBozZ%2FADgb7ONsqHo%2B8fKHsLygX9cuMkQYTGIRBQsvfgICnJhh%2BzXV8AQoecJBTrv6p%xxxx'\n```\n\nb. Add the signature string to the request header.\n\nFor example：\n\ncopy\n\n```\n-H 'Signature: algorithm=RSA256, keyVersion=0, signature=KrwDE9tAPJYBb4cUZU6ALJxGIZgwDXn5UkFPMip09n%2FkYKPhEIII%2Fki2rYY2lPtuKVgMNz%2BtuCU%2FjzRpohDbrOd8zYriiukpGAxBQDIVbatGI7WYOcc9YVQwdCR6ROuRQvr%2FD1AfdhHd6waAASu5Xugow9w1OW7Ti93LTd0tcyEWQYd2S7c3A73sHOJNYl8DC1PjasiBozZ%2FADgb7ONsqHo%2B8fKHsLygX9cuMkQYTGIRBQsvfgICnJhh%2BzXV8AQoecJBTrv6p%xxxx'\n```\n\n## Syntax of `Content_To_Be_Signed`\n\ncopy\n\n```\n<HTTP_METHOD> <HTTP_URI>\n<Client-Id>.<Request-Time>.<HTTP_BODY>\n```\n\n- `HTTP_METHOD` : POST\n- `HTTP_URI` : For example, if the HTTP URL is [https://example.com/api/v2/payments/pay,](https://example.com/api/v2/payments/pay,) this property is `/api/v2/payments/pay`.\n- `Client-Id` : is used to identify a client, and is associated with the keys that are used for signature and encryption. You can get this field from the request header.\n- `Request-Time`: Specifies the time when a request is sent, as defined by [RFC3339](https://tools.ietf.org/html/rfc3339). Note: This field must be accurate to milliseconds. For example, `2019-05-28T12:12:12+08:00` . You can get this field from the request header.\n- `HTTP_BODY` : the data body of a request.\n\n# Send a request\n\nConstruct a request by adding the `Client-Id`, `Request-Time`, and `Signature` fields to the request header. After a request is constructed, you can use common tools, like cURL or Postman to send the request. In the following example, cURL is used.\n\ncopy\n\n```\ncurl -X POST \\\n  https://example.com/api/v2/payments/pay \\\n  -H 'Content-Type: application/json' \\\n  -H 'Client-Id: TEST_5X00000000000000' \\\n  -H 'Request-Time: 2019-05-28T12:12:12+08:00' \\\n  -H 'Signature: algorithm=RSA256, keyVersion=0, signature=KrwDE9tAPJYBb4cUZU6ALJxGIZgwDXn5UkFPMip09n%2FkYKPhEIII%2Fki2rYY2lPtuKVgMNz%2BtuCU%2FjzRpohDbrOd8zYriiukpGAxBQDIVbatGI7WYOcc9YVQwdCR6ROuRQvr%2FD1AfdhHd6waAASu5Xugow9w1OW7Ti93LTd0tcyEWQYd2S7c3A73sHOJNYl8DC1PjasiBozZ%2FADgb7ONsqHo%2B8fKHsLygX9cuMkQYTGIRBQsvfgICnJhh%2BzXV8AQoecJBTrv6p%xxxx' \\\n  -d '{\n      \"order\":{\n          \"orderId\":\"OrderID_0101010101\",\n          \"orderDescription\":\"sample_order\",\n          \"orderAmount\":{\n             \"value\":\"100\",\n             \"currency\":\"JPY\"\n          }\n       },\n       \"paymentAmount\":{\n          \"value\":\"100\",\n          \"currency\":\"JPY\"\n       },\n       \"paymentFactor\": {\n           \"isInStorePayment\": \"true\"\n       }\n}'\n```\n\n# Handle a response\n\nAfter you receive a response, you need to validate the signature of the response. A response consists of response headers and response body. For example:\n\n- The response header sample\n\ncopy\n\n```\nClient-Id: 5X00000000000000\nResponse-Time: 2019-05-28T12:12:14+08:00\nSignature: algorithm=RSA256, keyVersion=0, signature=p9T2hXxIjek0UOLw3fwlthNsV6ATaioIvu8X1uFx8a9tE87d2XEhqylnf0KjifJ3WhCoMokl\nGwwlDS3tsSenwnL0Ha6BsXbJvUHRC5qcVlNy5Oq%2FpNqx2%2BKdwbw4eY7tZBDQhMKoaMVSbqbCb3eRBxxxx\nTrace-Id: 0ba604b41558615600801371953814.0\n```\n\n- The response body sample\n\ncopy\n\n```json\n{\n\"result\": {\n\t\"resultCode\":\"SUCCESS\",\n\t\"resultStatus\":\"S\",\n\t\"resultMessage\":\"success\"\n},\n\"paymentTime\": \"2019-05-28T12:12:13+08:00\",\n\"paymentId\":\"1234567\"\n}\n```\n\n## Validate a signature\n\n1. Obtain the platform public key.\n2. Construct the content to be validated ( `Content_To_Be_Validated` ).\n3. Get the signature from the response header.\n4. Validate the signature.\n\nFor details of each step, see the following examples.\n\n## Example\n\n### 1\\. Obtain the platform public key\n\nThe `Client-Id` and `KeyVersion` properties can be obtained from the response header. Merchants send these properties to the wallet, based on which, the wallet returns the public key to the merchant.\n\n### 2\\. Construct the content to be validated\n\nGiven the [response body sample](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api#9Elhj) above, by complying with the [Syntax of Content\\_To\\_Be\\_Validated](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api#NDDwc), construct the content to be validated (`Content_To_Be_Validated`) as follows:\n\ncopy\n\n```\nPOST /api/v2/payments/pay\nTEST_5X00000000000000.2019-05-28T12:12:14+08:00.{\n \"result\": {\n    \"resultCode\":\"SUCCESS\",\n    \"resultStatus\":\"S\",\n    \"resultMessage\":\"success\"\n },\n \"paymentTime\": \"2019-05-28T12:12:13+08:00\",\n \"paymentId\":\"1234567\"\n}\n\n```\n\n### 3\\. Get the signature from the response header\n\nThe target signature string ( `target_signature` ) is extracted from `Signature` header of the response. For details about the response header, see the [Message structure](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/xxpbkg#YdmVS) chapter.\n\ncopy\n\n```\nSignature: algorithm=RSA256, keyVersion=0, signature=<target_signature>\n```\n\n### 4\\. Validate the signature\n\nUse the `sha256withrsa_verify`method to validate the signature of a response.\n\nSyntax of the `sha256withrsa_verify` method:\n\ncopy\n\n```\nsha256withrsa_verify(base64UrlDecode(<target_signature>), <Content_To_Be_Validated>, <serverPublicKey>)\n```\n\n- `target_signature` : the signature extracted from the response header, which is obtained from step 3.\n- `Content_To_Be_Validated`: the content to be validated that is created from step 2.\n- `serverPublicKey` : the platform public key that is obtained from step 1.\n\n## Syntax of `Content_To_Be_Validated`\n\ncopy\n\n```\n<HTTP_METHOD> <HTTP_URI>\n<Client-Id>.<Response-Time>.<HTTP_BODY>\n```\n\n- `Client-Id` : identifies a client. You can get this field from the response header. For example `TEST_5X00000000000000`\n- `Response-Time`: Indicates the time when a response is returned, as defined by [RFC3339](https://tools.ietf.org/html/rfc3339). Note: This field must be accurate to milliseconds. You can get this field from the response header.\n- `HTTP_BODY` : Indicates the data body of the response.\n\n[iframe](https://tracert.alipay.com/cross.html)",
  "metadata": {
    "title": "Call an API via adding a signature | Developing Mini Programs | Documentation",
    "og:title": "Call an API via adding a signature | Developing Mini Programs | Documentation",
    "ogTitle": "Call an API via adding a signature | Developing Mini Programs | Documentation",
    "keywords": "",
    "ogDescription": "Before calling an API, signing a request is needed. After sending the request and obtaining the response, need to validate the response signature accordingly.",
    "ogUrl": "",
    "robots": "noarchive",
    "viewport": "width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover",
    "favicon": "https://gw.alipayobjects.com/mdn/rms_150082/afts/img/A*rOH-T5TEL-cAAAAAAAAAAABkARQnAQ",
    "og:description": "Before calling an API, signing a request is needed. After sending the request and obtaining the response, need to validate the response signature accordingly.",
    "og:image": "",
    "og:type": "website",
    "description": "Before calling an API, signing a request is needed. After sending the request and obtaining the response, need to validate the response signature accordingly.",
    "og:url": "",
    "ogImage": "",
    "scrapeId": "4c3b9b10-f603-423b-bd4c-d3cb172e46fb",
    "sourceURL": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api",
    "url": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api",
    "statusCode": 200
  },
  "html": "<!DOCTYPE html><html style=\"--vh: 1000px;\" data-theme=\"light\">\n    <body>\n    \n    \n    <div id=\"root\"><div class=\"index-module_height100__dDLuI\"><div style=\"top:0\"></div><div class=\"styles-module_searchWrap__mIEtV index-module_mobileSearch__Lianv \"><svg class=\"icon icon-search styles-module_searchIcon__2wekS\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"></path></svg><input type=\"text\" title=\"Press 's' to start the search\" placeholder=\"Search documentation\"><div class=\"styles-module_resultWrap__LQyY1 \"><div class=\"styles-module_result__6EDKs\"><div class=\"styles-module_resultScroll__x5srB\"></div></div><div class=\"styles-module_mask__naKUh\"></div></div></div><div class=\"undefined index-module_height100__dDLuI\"><div class=\"index-module_container__-pyWH    idocs-global-container  idocs-global-normal-container\"><div class=\"index-module_center__Kh8xX  idocs-global-index-center \" style=\"max-width: none; min-height: calc(var(--vh, 1vh) * 100 - 26px);\"><main class=\"index-module_main__2B9Eq    idocs-global-main-with-toc\" style=\"padding-left:264px;width:0\"><article class=\"index-module_content__6p5ch  idocs-global-content\"><div class=\"index-module_contentInner__KQHGJ idocs-global-content-inner\"><div class=\"styles-module_docBody__zUo8V\"><h1 class=\"styles-module_title__6bcTh styles-module_anchored__AxVRP \"><span class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span><span>Call an API via adding a signature</span></span></h1><div class=\"styles-module_updateDate__1rqmL\"><time datetime=\"2021-05-09 18:43\" style=\"color: var(--font-color-third);\"><svg class=\"icon icon-clock\" width=\"1em\" height=\"1em\"><path d=\"M6.832 0C3.058 0 0 3.134 0 7s3.058 7 6.832 7 6.833-3.134 6.833-7-3.059-7-6.833-7zm4.152 11.253a5.835 5.835 0 01-1.867 1.29 5.695 5.695 0 01-2.285.473 5.717 5.717 0 01-2.284-.472 5.872 5.872 0 01-1.867-1.29 5.995 5.995 0 01-1.259-1.912A6.096 6.096 0 01.961 7c0-.812.155-1.6.46-2.34A6.032 6.032 0 012.68 2.746a5.835 5.835 0 011.866-1.29A5.706 5.706 0 016.832.984c.793 0 1.562.159 2.285.472.699.304 1.326.737 1.867 1.29.539.552.963 1.196 1.258 1.912.307.742.462 1.53.462 2.342s-.155 1.6-.46 2.34a5.998 5.998 0 01-1.26 1.913zM9.78 6.891H7.313V3.609a.486.486 0 00-.48-.492c-.266 0-.481.22-.481.492v3.282c0 .544.43.984.96.984h2.47c.265 0 .48-.22.48-.492a.486.486 0 00-.48-.492z\" fill=\"currentColor\" fill-rule=\"nonzero\" fill-opacity=\".7\"></path></svg>2021-05-09 18:43</time></div><div class=\"styles-module_content__2jcQS styles-module_yuqueContent__iJuXe\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">Before calling an API,<span class=\"lake-fontsize-11\"> signing a request is needed. After sending the request and obtaining the response, need to validate the response signature accordingly.</span></p><h1 id=\"ZxxlA\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"ZxxlA\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Sign a request</h1><h2 id=\"qN5Yu\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"qN5Yu\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Procedure</h2><ol start=\"1\"><li><span class=\"lake-fontsize-11\"><span>Obtain your private key, represented by </span></span><code><span class=\"lake-fontsize-11\" style=\"color:#262626\">privateKey</span></code>,<span class=\"lake-fontsize-11\"><span> which is used to sign a request. </span></span></li><li><span class=\"lake-fontsize-11\"><span>Construct the content to be signed (</span></span><code><span>Content_To_Be_Signed</span></code><span class=\"lake-fontsize-11\"><span>).</span></span></li><li><span class=\"lake-fontsize-11\"><span>Calculate and generate the signature.</span></span></li><li><span class=\"lake-fontsize-11\"><span>Add the generated signature to the request header.</span></span></li></ol><p data-lake-id=\"6d2edba1c427c4876eb5cbd5d3cda42f\"><span class=\"lake-fontsize-11\"><span>For details of each step, see the following examples.</span></span></p><h2 id=\"DyLEr\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"DyLEr\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Example </h2><h3 id=\"kzSWj\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"kzSWj\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>1. Obtain your private key to sign the request</h3><p data-lake-id=\"646d15370f2d207c3e7a2ebba7f479ce\">Get your private key ready, which is used to generate the signature later.</p><h3 id=\"xpE0x\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"xpE0x\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>2. Construct the content to be signed </h3><p data-lake-id=\"3fa4ec77646c5b9e7507e5934e88d1ea\">For example, a request has the following properties:</p><ul><li><code>HTTP_URI</code> : for example,  /api/v2/payments/pay</li><li><code>Client-Id</code> :  <span>TEST_5X00000000000000</span></li><li><code>Request-Time</code>&nbsp;: 2019-05-28T12:12:12+08:00</li><li><code>HTTP_BODY</code> : the body looks like the following format.</li></ul><p data-lake-id=\"b7aab43fcba46431e98188d4a4745dcd\"><span class=\"lake-fontsize-11\" style=\"color:#FFFFFF\"><strong> </strong></span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-json\" style=\"white-space:pre\"><span>{\n</span><span> </span><span style=\"color:#986801\">\"order\"</span><span>:{\n</span><span>    </span><span style=\"color:#986801\">\"orderId\"</span><span>:</span><span style=\"color:#50a14f\">\"OrderID_0101010101\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"orderDescription\"</span><span>:</span><span style=\"color:#50a14f\">\"sample_order\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"orderAmount\"</span><span>:{\n</span><span>       </span><span style=\"color:#986801\">\"value\"</span><span>:</span><span style=\"color:#50a14f\">\"100\"</span><span>,\n</span><span>       </span><span style=\"color:#986801\">\"currency\"</span><span>:</span><span style=\"color:#50a14f\">\"JPY\"</span><span>\n</span>    }，\n<!-- --> },\n<span> </span><span style=\"color:#986801\">\"paymentAmount\"</span><span>:{\n</span><span>    </span><span style=\"color:#986801\">\"value\"</span><span>:</span><span style=\"color:#50a14f\">\"100\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"currency\"</span><span>:</span><span style=\"color:#50a14f\">\"JPY\"</span><span>\n</span> },\n<span> </span><span style=\"color:#986801\">\"paymentFactor\"</span><span>: {\n</span><span>     </span><span style=\"color:#986801\">\"isInStorePayment\"</span><span>: </span><span style=\"color:#50a14f\">\"true\"</span><span>\n</span> } \n<!-- -->}</code></pre></div><p data-lake-id=\"0eb6997ee12fca5fbcdf14c5b1372e96\"><span class=\"lake-fontsize-11\"><span>B</span></span><span class=\"lake-fontsize-11\"><span>y complying with the </span></span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api#dc6tR\">Syntax of Content_To_Be_Signed</a>, t<span class=\"lake-fontsize-11\"><span>he content to be signed (</span></span><code><span>Content_To_Be_Signed</span></code><span class=\"lake-fontsize-11\"><span>) is created as follows:</span></span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span>POST /api/v2/payments/pay\n</span><span>TEST_5X00000000000000</span><span style=\"color:#986801\">.2019</span><span style=\"color:#986801\">-05</span><span style=\"color:#986801\">-28</span><span>T12:</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">12</span><span>+</span><span style=\"color:#986801\">08</span><span>:</span><span style=\"color:#986801\">00.</span><span>{\n</span><span></span><span style=\"color:#986801\">\"order\"</span><span>:{\n</span><span>    </span><span style=\"color:#986801\">\"orderId\"</span><span>:</span><span style=\"color:#50a14f\">\"OrderID_0101010101\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"orderDescription\"</span><span>:</span><span style=\"color:#50a14f\">\"sample_order\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"orderAmount\"</span><span>:{\n</span><span>       </span><span style=\"color:#986801\">\"value\"</span><span>:</span><span style=\"color:#50a14f\">\"100\"</span><span>,\n</span><span>       </span><span style=\"color:#986801\">\"currency\"</span><span>:</span><span style=\"color:#50a14f\">\"JPY\"</span><span>\n</span>    }，\n<!-- --> },\n<span> </span><span style=\"color:#986801\">\"paymentAmount\"</span><span>:{\n</span><span>    </span><span style=\"color:#986801\">\"value\"</span><span>:</span><span style=\"color:#50a14f\">\"100\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"currency\"</span><span>:</span><span style=\"color:#50a14f\">\"JPY\"</span><span>\n</span> },\n<span> </span><span style=\"color:#986801\">\"paymentFactor\"</span><span>: {\n</span><span>     </span><span style=\"color:#986801\">\"isInStorePayment\"</span><span>: </span><span style=\"color:#50a14f\">\"true\"</span><span>\n</span> } \n<!-- -->}</code></pre></div><h3 id=\"HGNu0\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"HGNu0\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>3. Calculate and generate the signature</h3><p data-lake-id=\"9fe6c4c57642701a5090ca1a8a871fc0\"><span class=\"lake-fontsize-11\" style=\"color:#313131\"><span>Use the</span></span> <code>sha256withrsa</code>&nbsp;<span class=\"lake-fontsize-11\" style=\"color:#313131\"><span>method that involve the proper </span></span><span class=\"lake-fontsize-11\">algorithm and private key</span><span class=\"lake-fontsize-11\"> </span><span class=\"lake-fontsize-11\" style=\"color:#313131\"><span>to calculate and generate the signature.</span><span><br></span></span><span class=\"lake-fontsize-11\" style=\"color:#4B4848\"><br></span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#a626a4\">ge</span><span style=\"color:#4078f2\">neratedSignature=base64</span><span>UrlE</span><span style=\"color:#4078f2\">ncode(sha256</span><span>withrsa</span><span style=\"color:#a0a1a7;font-style:italic\">(&lt;Content_To_Be_Signed&gt;)</span><span>, &lt;privateKey&gt;))</span></code></pre></div><ul><li><code><span>Content_To_Be_Signed:</span></code><span class=\"lake-fontsize-11\"><span> the content to be signed </span><span>that is obtained in step 2.</span></span></li><li><code>privateKey</code>&nbsp;: <span class=\"lake-fontsize-11\">the private key value</span><span class=\"lake-fontsize-11\"><span> that is obtained in step 1. </span></span></li><li><code>sha256withrsa</code> : t<span class=\"lake-fontsize-11\"><span>he algorithm to use,  RSA256.</span></span></li></ul><p data-lake-id=\"a228ea4cda53d5f64534d0476d23f262\">For example, the generated signature <code>generatedSignature</code>&nbsp;looks as follows:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#50a14f\">KrwDE9tAPJYBb4cUZU6ALJxGIZgwDXn5UkFPMip09n</span><span>%</span><span style=\"color:#986801\">2</span><span>FkYKPhEIII%</span><span style=\"color:#986801\">2</span><span>Fki</span><span style=\"color:#986801\">2</span><span>rYY</span><span style=\"color:#986801\">2</span><span>lPtuKVgMNz%</span><span style=\"color:#986801\">2</span><span>BtuCU%\n</span><span></span><span style=\"color:#50a14f\">2FjzRpohDbrOd8zYriiukpGAxBQDIVbatGI7WYOcc9YVQwdCR6ROuRQvr</span><span>%</span><span style=\"color:#986801\">2</span><span>FD</span><span style=\"color:#986801\">1</span><span>AfdhHd</span><span style=\"color:#986801\">6</span><span>waAASu</span><span style=\"color:#986801\">5</span><span>Xugow</span><span style=\"color:#986801\">9</span><span>\n</span><span></span><span style=\"color:#50a14f\">w1OW7Ti93LTd0tcyEWQYd2S7c3A73sHOJNYl8DC1PjasiBozZ</span><span>%</span><span style=\"color:#986801\">2</span><span>FADgb</span><span style=\"color:#986801\">7</span><span>ONsqHo%</span><span style=\"color:#986801\">2</span><span>B</span><span style=\"color:#986801\">8</span><span>fKHsLygX</span><span style=\"color:#986801\">9</span><span>cuMkQY\n</span><span></span><span style=\"color:#50a14f\">TGIRBQsvfgICnJhh</span><span>%</span><span style=\"color:#986801\">2</span><span>BzXV</span><span style=\"color:#986801\">8</span><span>AQoecJBTrv</span><span style=\"color:#986801\">6</span><span>p%xxxx</span></code></pre></div><p data-lake-id=\"c8e8ae36d81f345879ee209a708b5a38\"><span class=\"lake-fontsize-11\" style=\"color:#313131\"> </span></p><h3 id=\"4z3fb\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"4z3fb\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>4. Add the generated signature to the request header</span></h3><p data-lake-id=\"ccfa91b8b94a998c73947f82b414b3c8\"><span class=\"lake-fontsize-11\">a. Assemble a signature string as the following syntax. </span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span>'Signature: algorithm=</span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">algorithm</span><span class=\"hljs-tag\">&gt;</span><span>, keyVersion=</span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">key-version</span><span class=\"hljs-tag\">&gt;</span><span>, signature=</span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">generatedSignature</span><span class=\"hljs-tag\">&gt;</span><span>'</span></code></pre></div><ul><li><code>algorithm</code> , <code>keyVersion</code><span style=\"background-color:transparent\"> :</span><span style=\"background-color:transparent\"> see the header of the </span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/xxpbkg#3mLq0\" data-idocs-page-id=\"40fb3d6c-2411-4aa9-9248-f8e9ee8e8f72\" data-idocs-page-slug=\"xxpbkg\"><span style=\"background-color:transparent\">Message structure</span></a><span style=\"background-color:transparent\"> chapter.</span></li><li><code>generatedSignature</code>&nbsp;: the signature that is generated in step 3.</li></ul><p data-lake-id=\"e2ab015014f9ec31d6e91b9e54c5dbbe\">For example: </p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span>'</span><span style=\"color:#50a14f\">Signature</span><span>: algorithm=RSA</span><span style=\"color:#986801\">256</span><span>, keyVersion=</span><span style=\"color:#986801\">0</span><span>, signature=KrwDE</span><span style=\"color:#986801\">9</span><span>tAPJYBb</span><span style=\"color:#986801\">4</span><span>cUZU</span><span style=\"color:#986801\">6</span><span>ALJxGIZgwDXn</span><span style=\"color:#986801\">5</span><span>UkFPMip</span><span style=\"color:#986801\">09</span><span>n%</span><span style=\"color:#986801\">2</span><span>FkYKPhEIII%</span><span style=\"color:#986801\">2</span><span>Fki</span><span style=\"color:#986801\">2</span><span>rYY</span><span style=\"color:#986801\">2</span><span>lPtuKVgMNz%</span><span style=\"color:#986801\">2</span><span>BtuCU%</span><span style=\"color:#986801\">2</span><span>FjzRpohDbrOd</span><span style=\"color:#986801\">8</span><span>zYriiukpGAxBQDIVbatGI</span><span style=\"color:#986801\">7</span><span>WYOcc</span><span style=\"color:#986801\">9</span><span>YVQwdCR</span><span style=\"color:#986801\">6</span><span>ROuRQvr%</span><span style=\"color:#986801\">2</span><span>FD</span><span style=\"color:#986801\">1</span><span>AfdhHd</span><span style=\"color:#986801\">6</span><span>waAASu</span><span style=\"color:#986801\">5</span><span>Xugow</span><span style=\"color:#986801\">9</span><span>w</span><span style=\"color:#986801\">1</span><span>OW</span><span style=\"color:#986801\">7</span><span>Ti</span><span style=\"color:#986801\">93</span><span>LTd</span><span style=\"color:#986801\">0</span><span>tcyEWQYd</span><span style=\"color:#986801\">2</span><span>S</span><span style=\"color:#986801\">7</span><span>c</span><span style=\"color:#986801\">3</span><span>A</span><span style=\"color:#986801\">73</span><span>sHOJNYl</span><span style=\"color:#986801\">8</span><span>DC</span><span style=\"color:#986801\">1</span><span>PjasiBozZ%</span><span style=\"color:#986801\">2</span><span>FADgb</span><span style=\"color:#986801\">7</span><span>ONsqHo%</span><span style=\"color:#986801\">2</span><span>B</span><span style=\"color:#986801\">8</span><span>fKHsLygX</span><span style=\"color:#986801\">9</span><span>cuMkQYTGIRBQsvfgICnJhh%</span><span style=\"color:#986801\">2</span><span>BzXV</span><span style=\"color:#986801\">8</span><span>AQoecJBTrv</span><span style=\"color:#986801\">6</span><span>p%xxxx'</span></code></pre></div><p data-lake-id=\"946f338fe513c11820950a9e90ee4bb4\">b. Add the signature string to the request header.</p><p data-lake-id=\"63614c981062798217cdf48303192e72\">For example：</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span>-</span><span style=\"color:#50a14f\">H</span><span> 'Signature: algorithm=RSA</span><span style=\"color:#986801\">256</span><span>, keyVersion=</span><span style=\"color:#986801\">0</span><span>, signature=KrwDE</span><span style=\"color:#986801\">9</span><span>tAPJYBb</span><span style=\"color:#986801\">4</span><span>cUZU</span><span style=\"color:#986801\">6</span><span>ALJxGIZgwDXn</span><span style=\"color:#986801\">5</span><span>UkFPMip</span><span style=\"color:#986801\">09</span><span>n%</span><span style=\"color:#986801\">2</span><span>FkYKPhEIII%</span><span style=\"color:#986801\">2</span><span>Fki</span><span style=\"color:#986801\">2</span><span>rYY</span><span style=\"color:#986801\">2</span><span>lPtuKVgMNz%</span><span style=\"color:#986801\">2</span><span>BtuCU%</span><span style=\"color:#986801\">2</span><span>FjzRpohDbrOd</span><span style=\"color:#986801\">8</span><span>zYriiukpGAxBQDIVbatGI</span><span style=\"color:#986801\">7</span><span>WYOcc</span><span style=\"color:#986801\">9</span><span>YVQwdCR</span><span style=\"color:#986801\">6</span><span>ROuRQvr%</span><span style=\"color:#986801\">2</span><span>FD</span><span style=\"color:#986801\">1</span><span>AfdhHd</span><span style=\"color:#986801\">6</span><span>waAASu</span><span style=\"color:#986801\">5</span><span>Xugow</span><span style=\"color:#986801\">9</span><span>w</span><span style=\"color:#986801\">1</span><span>OW</span><span style=\"color:#986801\">7</span><span>Ti</span><span style=\"color:#986801\">93</span><span>LTd</span><span style=\"color:#986801\">0</span><span>tcyEWQYd</span><span style=\"color:#986801\">2</span><span>S</span><span style=\"color:#986801\">7</span><span>c</span><span style=\"color:#986801\">3</span><span>A</span><span style=\"color:#986801\">73</span><span>sHOJNYl</span><span style=\"color:#986801\">8</span><span>DC</span><span style=\"color:#986801\">1</span><span>PjasiBozZ%</span><span style=\"color:#986801\">2</span><span>FADgb</span><span style=\"color:#986801\">7</span><span>ONsqHo%</span><span style=\"color:#986801\">2</span><span>B</span><span style=\"color:#986801\">8</span><span>fKHsLygX</span><span style=\"color:#986801\">9</span><span>cuMkQYTGIRBQsvfgICnJhh%</span><span style=\"color:#986801\">2</span><span>BzXV</span><span style=\"color:#986801\">8</span><span>AQoecJBTrv</span><span style=\"color:#986801\">6</span><span>p%xxxx'</span></code></pre></div><h2 id=\"dc6tR\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"dc6tR\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Syntax of </span><code><span>Content_To_Be_Signed</span></code></h2><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#e45649\">&lt;HTTP_METHOD&gt;</span><span> </span><span style=\"color:#e45649\">&lt;HTTP_URI&gt;</span><span>\n</span><span></span><span style=\"color:#e45649\">&lt;Client-Id&gt;</span><span>.</span><span style=\"color:#e45649\">&lt;Request-Time&gt;</span><span>.</span><span style=\"color:#e45649\">&lt;HTTP_BODY&gt;</span></code></pre></div><ul><li><code>HTTP_METHOD</code> : POST</li><li><code>HTTP_URI</code> : For example, if the HTTP URL is <a href=\"https://example.com/api/v2/payments/pay,\" target=\"_blank\">https://example.com/api/v2/payments/pay,</a> this property is <code>/api/v2/payments/pay</code>.</li><li><code>Client-Id</code> : is used to identify a client, and is associated with the keys that are used for signature and encryption.  You can get this field from the request header.</li><li><code>Request-Time</code><span class=\"lake-fontsize-11\" style=\"color:#333333\">: Specifies the time when a request is sent, as defined by </span><a href=\"https://tools.ietf.org/html/rfc3339\" target=\"_blank\">RFC3339</a><span class=\"lake-fontsize-11\" style=\"color:#333333\">. Note: This field must be accurate to milliseconds. </span><span class=\"lake-fontsize-11\" style=\"color:#333333\">For example, </span><span class=\"lake-fontsize-11\"><code><span>2019-05-28T12:12:12+08:00</span></code></span><span> . You can get this </span><span>field </span><span>from the request header. </span></li><li><code>HTTP_BODY</code> : the data body of a request.</li></ul><h1 id=\"sKUvC\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"sKUvC\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Send a request  </h1><p data-lake-id=\"045422e436d9cfe89c31d4fb380bd628\"><span class=\"lake-fontsize-11\">Construct a request by adding the </span><span class=\"lake-fontsize-11\"><code><span>Client-Id</span></code></span><span class=\"lake-fontsize-11\">, </span><span class=\"lake-fontsize-11\"><code><span>Request-Time</span></code></span><span class=\"lake-fontsize-11\">, and </span><span class=\"lake-fontsize-11\"><code><span>Signature</span></code> fields </span>to the request header. After a request is constructed, you can use common tools, like cURL or Postman to send the request. In the following example, cURL is used. </p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#50a14f\">curl</span><span> -X POST \\\n</span><span>  </span><span style=\"color:#50a14f\">https</span><span>://example.com/api/v</span><span style=\"color:#986801\">2</span><span>/payments/pay \\\n</span><span>  -</span><span style=\"color:#50a14f\">H</span><span> 'Content-Type: application/json' \\\n</span><span>  -</span><span style=\"color:#50a14f\">H</span><span> 'Client-Id: TEST_</span><span style=\"color:#986801\">5</span><span>X</span><span style=\"color:#986801\">00000000000000</span><span>' \\\n</span><span>  -</span><span style=\"color:#50a14f\">H</span><span> 'Request-Time: </span><span style=\"color:#986801\">2019</span><span>-</span><span style=\"color:#986801\">05</span><span>-</span><span style=\"color:#986801\">28</span><span>T</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">12</span><span>+</span><span style=\"color:#986801\">08</span><span>:</span><span style=\"color:#986801\">00</span><span>' \\\n</span><span>  -</span><span style=\"color:#50a14f\">H</span><span> 'Signature: algorithm=RSA</span><span style=\"color:#986801\">256</span><span>, keyVersion=</span><span style=\"color:#986801\">0</span><span>, signature=KrwDE</span><span style=\"color:#986801\">9</span><span>tAPJYBb</span><span style=\"color:#986801\">4</span><span>cUZU</span><span style=\"color:#986801\">6</span><span>ALJxGIZgwDXn</span><span style=\"color:#986801\">5</span><span>UkFPMip</span><span style=\"color:#986801\">09</span><span>n%</span><span style=\"color:#986801\">2</span><span>FkYKPhEIII%</span><span style=\"color:#986801\">2</span><span>Fki</span><span style=\"color:#986801\">2</span><span>rYY</span><span style=\"color:#986801\">2</span><span>lPtuKVgMNz%</span><span style=\"color:#986801\">2</span><span>BtuCU%</span><span style=\"color:#986801\">2</span><span>FjzRpohDbrOd</span><span style=\"color:#986801\">8</span><span>zYriiukpGAxBQDIVbatGI</span><span style=\"color:#986801\">7</span><span>WYOcc</span><span style=\"color:#986801\">9</span><span>YVQwdCR</span><span style=\"color:#986801\">6</span><span>ROuRQvr%</span><span style=\"color:#986801\">2</span><span>FD</span><span style=\"color:#986801\">1</span><span>AfdhHd</span><span style=\"color:#986801\">6</span><span>waAASu</span><span style=\"color:#986801\">5</span><span>Xugow</span><span style=\"color:#986801\">9</span><span>w</span><span style=\"color:#986801\">1</span><span>OW</span><span style=\"color:#986801\">7</span><span>Ti</span><span style=\"color:#986801\">93</span><span>LTd</span><span style=\"color:#986801\">0</span><span>tcyEWQYd</span><span style=\"color:#986801\">2</span><span>S</span><span style=\"color:#986801\">7</span><span>c</span><span style=\"color:#986801\">3</span><span>A</span><span style=\"color:#986801\">73</span><span>sHOJNYl</span><span style=\"color:#986801\">8</span><span>DC</span><span style=\"color:#986801\">1</span><span>PjasiBozZ%</span><span style=\"color:#986801\">2</span><span>FADgb</span><span style=\"color:#986801\">7</span><span>ONsqHo%</span><span style=\"color:#986801\">2</span><span>B</span><span style=\"color:#986801\">8</span><span>fKHsLygX</span><span style=\"color:#986801\">9</span><span>cuMkQYTGIRBQsvfgICnJhh%</span><span style=\"color:#986801\">2</span><span>BzXV</span><span style=\"color:#986801\">8</span><span>AQoecJBTrv</span><span style=\"color:#986801\">6</span><span>p%xxxx' \\\n</span><span>  -</span><span style=\"color:#50a14f\">d</span><span> '{\n</span><span>      \"</span><span class=\"hljs-nomarkup\" style=\"color:#50a14f\">order</span><span style=\"color:#50a14f\">\":{\n</span><span style=\"color:#50a14f\">          \"</span><span>orderId</span><span style=\"color:#50a14f\">\":\"</span><span>OrderID_</span><span style=\"color:#986801\">0101010101</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\">          \"</span><span>orderDescription</span><span style=\"color:#50a14f\">\":\"</span><span>sample_order</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\">          \"</span><span>orderAmount</span><span style=\"color:#50a14f\">\":{\n</span><span style=\"color:#50a14f\">             \"</span><span>value</span><span style=\"color:#50a14f\">\":\"</span><span style=\"color:#986801\">100</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\">             \"</span><span>currency</span><span style=\"color:#50a14f\">\":\"</span><span>JPY</span><span style=\"color:#50a14f\">\"\n</span><span style=\"color:#50a14f\">          }\n</span><span style=\"color:#50a14f\">       },\n</span><span style=\"color:#50a14f\">       \"</span><span>paymentAmount</span><span style=\"color:#50a14f\">\":{\n</span><span style=\"color:#50a14f\">          \"</span><span>value</span><span style=\"color:#50a14f\">\":\"</span><span style=\"color:#986801\">100</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\">          \"</span><span>currency</span><span style=\"color:#50a14f\">\":\"</span><span>JPY</span><span style=\"color:#50a14f\">\"\n</span><span style=\"color:#50a14f\">       },\n</span><span style=\"color:#50a14f\">       \"</span><span>paymentFactor</span><span style=\"color:#50a14f\">\": {\n</span><span style=\"color:#50a14f\">           \"</span><span>isInStorePayment</span><span style=\"color:#50a14f\">\": \"</span><span>true</span><span style=\"color:#50a14f\">\"\n</span><span style=\"color:#50a14f\">       } \n</span><span style=\"color:#50a14f\">}'</span></code></pre></div><h1 id=\"9Elhj\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"9Elhj\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Handle a response  </h1><p data-lake-id=\"d218e005e3606706c3d0daf8a13a3a9a\"><span class=\"lake-fontsize-11\">After you receive a response, you need to validate the signature of the response. A response consists of response headers and response body. For example:</span></p><ul><li><span class=\"lake-fontsize-11\"> T</span><span class=\"lake-fontsize-11\" style=\"color:#313131\"><span>he response header sample</span></span></li></ul><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#50a14f\">Client</span><span>-Id: </span><span style=\"color:#986801\">5</span><span>X</span><span style=\"color:#986801\">00000000000000</span><span>\n</span><span></span><span style=\"color:#50a14f\">Response</span><span>-Time: </span><span style=\"color:#986801\">2019</span><span>-</span><span style=\"color:#986801\">05</span><span>-</span><span style=\"color:#986801\">28</span><span>T</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">14</span><span>+</span><span style=\"color:#986801\">08</span><span>:</span><span style=\"color:#986801\">00</span><span>\n</span><span></span><span style=\"color:#50a14f\">Signature</span><span>: algorithm=RSA</span><span style=\"color:#986801\">256</span><span>, keyVersion=</span><span style=\"color:#986801\">0</span><span>, signature=p</span><span style=\"color:#986801\">9</span><span>T</span><span style=\"color:#986801\">2</span><span>hXxIjek</span><span style=\"color:#986801\">0</span><span>UOLw</span><span style=\"color:#986801\">3</span><span>fwlthNsV</span><span style=\"color:#986801\">6</span><span>ATaioIvu</span><span style=\"color:#986801\">8</span><span>X</span><span style=\"color:#986801\">1</span><span>uFx</span><span style=\"color:#986801\">8</span><span>a</span><span style=\"color:#986801\">9</span><span>tE</span><span style=\"color:#986801\">87</span><span>d</span><span style=\"color:#986801\">2</span><span>XEhqylnf</span><span style=\"color:#986801\">0</span><span>KjifJ</span><span style=\"color:#986801\">3</span><span>WhCoMokl\n</span><span></span><span style=\"color:#50a14f\">GwwlDS3tsSenwnL0Ha6BsXbJvUHRC5qcVlNy5Oq</span><span>%</span><span style=\"color:#986801\">2</span><span>FpNqx</span><span style=\"color:#986801\">2</span><span>%</span><span style=\"color:#986801\">2</span><span>BKdwbw</span><span style=\"color:#986801\">4</span><span>eY</span><span style=\"color:#986801\">7</span><span>tZBDQhMKoaMVSbqbCb</span><span style=\"color:#986801\">3</span><span>eRBxxxx\n</span><span></span><span style=\"color:#50a14f\">Trace</span><span>-Id: </span><span style=\"color:#986801\">0</span><span>ba</span><span style=\"color:#986801\">604</span><span>b</span><span style=\"color:#986801\">41558615600801371953814</span><span>.</span><span style=\"color:#986801\">0</span></code></pre></div><p data-lake-id=\"b14c8a13aa6399a4b51cceaa41c8ea58\"><span class=\"lake-fontsize-11\" style=\"color:#313131\"> </span></p><ul><li><span class=\"lake-fontsize-11\">The response body sample</span></li></ul><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-json\" style=\"white-space:pre\"><span>{\n</span><span></span><span style=\"color:#986801\">\"result\"</span><span>: {\n</span><span>\t</span><span style=\"color:#986801\">\"resultCode\"</span><span>:</span><span style=\"color:#50a14f\">\"SUCCESS\"</span><span>,\n</span><span>\t</span><span style=\"color:#986801\">\"resultStatus\"</span><span>:</span><span style=\"color:#50a14f\">\"S\"</span><span>,\n</span><span>\t</span><span style=\"color:#986801\">\"resultMessage\"</span><span>:</span><span style=\"color:#50a14f\">\"success\"</span><span>\n</span>},\n<span></span><span style=\"color:#986801\">\"paymentTime\"</span><span>: </span><span style=\"color:#50a14f\">\"2019-05-28T12:12:13+08:00\"</span><span>,\n</span><span></span><span style=\"color:#986801\">\"paymentId\"</span><span>:</span><span style=\"color:#50a14f\">\"1234567\"</span><span>\n</span>}</code></pre></div><h2 id=\"2QWY3\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"2QWY3\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Validate a signature </h2><ol start=\"1\"><li><span>Obtain the platform public key. </span></li><li>Construct the content to be validated ( <code>Content_To_Be_Validated</code>&nbsp;).</li><li>Get the signature from the response header.</li><li>Validate the signature.</li></ol><p data-lake-id=\"18db4a39d942ce5792ceb61d5bb9eeda\"><span class=\"lake-fontsize-11\">For details of each step, see the following examples. </span></p><h2 id=\"AZFZ0\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"AZFZ0\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Example</h2><h3 id=\"VnvnM\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"VnvnM\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>1. Obtain the platform public key</h3><p data-lake-id=\"c6c4ded8f845905ba9bebdbb64056dfb\">The <code><span style=\"color:#111F2C\">Client-Id</span></code> <span style=\"color:#111F2C\"><span> and </span></span><code><span style=\"color:#111F2C\"><span>KeyVersion</span></span></code> properties can be obtained<span style=\"color:#111F2C\"><span> from the response header. Merchants send these properties to the wallet, based on which, the wallet returns the public key to the merchant.</span></span></p><h3 id=\"j9bhB\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"j9bhB\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>2. Construct the content to be validated</span></h3><p data-lake-id=\"3f31b3eb4e260a7b041c1fdcb147f92d\"><span class=\"lake-fontsize-11\" style=\"color:#313131\">Given the </span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api#9Elhj\" data-idocs-page-id=\"f2110da9-0330-419f-b9ee-0175b16d92c7\" data-idocs-page-slug=\"call_api\"><span class=\"lake-fontsize-11\"><span>response body sample</span></span></a><span class=\"lake-fontsize-11\"><span> above,</span></span><span class=\"lake-fontsize-11\" style=\"color:#313131\"> b</span><span class=\"lake-fontsize-11\"><span>y complying with the </span></span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/call_api#NDDwc\">Syntax of Content_To_Be_Validated</a>, c<span class=\"lake-fontsize-11\"><span>onstruct the conten</span></span><span class=\"lake-fontsize-11\" style=\"background-color:transparent\"><span>t to b</span></span><span class=\"lake-fontsize-11\" style=\"background-color:transparent\"><span>e validated (</span></span><span style=\"background-color:transparent\"><code><span>Content_To_Be_Validated</span></code></span><span class=\"lake-fontsize-11\" style=\"background-color:transparent\"><span>) as follows:</span></span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#50a14f\">POST</span><span> /api/v</span><span style=\"color:#986801\">2</span><span>/payments/pay\n</span><span></span><span style=\"color:#50a14f\">TEST_5X00000000000000</span><span>.</span><span style=\"color:#986801\">2019</span><span>-</span><span style=\"color:#986801\">05</span><span>-</span><span style=\"color:#986801\">28</span><span>T</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">14</span><span>+</span><span style=\"color:#986801\">08</span><span>:</span><span style=\"color:#986801\">00</span><span>.{\n</span><span> \"</span><span style=\"color:#50a14f\">result</span><span style=\"color:#50a14f\">\": {\n</span><span style=\"color:#50a14f\">    \"</span><span>resultCode</span><span style=\"color:#50a14f\">\":\"</span><span>SUCCESS</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\">    \"</span><span>resultStatus</span><span style=\"color:#50a14f\">\":\"</span><span>S</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\">    \"</span><span>resultMessage</span><span style=\"color:#50a14f\">\":\"</span><span>success</span><span style=\"color:#50a14f\">\"\n</span><span style=\"color:#50a14f\"> },\n</span><span style=\"color:#50a14f\"> \"</span><span>paymentTime</span><span style=\"color:#50a14f\">\": \"</span><span style=\"color:#986801\">2019</span><span>-</span><span style=\"color:#986801\">05</span><span>-</span><span style=\"color:#986801\">28</span><span>T</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">12</span><span>:</span><span style=\"color:#986801\">13</span><span>+</span><span style=\"color:#986801\">08</span><span>:</span><span style=\"color:#986801\">00</span><span style=\"color:#50a14f\">\",\n</span><span style=\"color:#50a14f\"> \"</span><span>paymentId</span><span style=\"color:#50a14f\">\":\"</span><span style=\"color:#986801\">1234567</span><span style=\"color:#50a14f\">\"\n</span><span style=\"color:#50a14f\">}\n</span><span style=\"color:#50a14f\"></span></code></pre></div><h3 id=\"YlNnT\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"YlNnT\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>3. Get the signature from the response header</h3><p data-lake-id=\"8b136c7c863213fc0a80afcd1b6b3e1d\">The target signature string ( <code>target_signature</code> ) is extracted from <code>Signature</code> header of the response. For details about the response<span style=\"background-color:transparent\"> header, </span><span style=\"background-color:transparent\">see the </span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/xxpbkg#YdmVS\" data-idocs-page-id=\"40fb3d6c-2411-4aa9-9248-f8e9ee8e8f72\" data-idocs-page-slug=\"xxpbkg\"><span style=\"background-color:transparent\">Message structure</span></a><span style=\"background-color:transparent\"> chapter.</span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span>Signature: </span><span style=\"color:#50a14f\">algorithm</span><span>=RSA256, </span><span style=\"color:#50a14f\">keyVersion</span><span>=0, </span><span style=\"color:#50a14f\">signature</span><span>=&lt;target_signature&gt;</span></code></pre></div><p data-lake-id=\"bb7c60379e017828cae4894773c2d122\"><span class=\"lake-fontsize-11\" style=\"color:#313131\"> </span></p><h3 id=\"VRjup\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"VRjup\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>4. Validate the signature</h3><p data-lake-id=\"4cc5318b06631f846a76c303d1965d11\"><span class=\"lake-fontsize-11\">Use the </span><code><span>sha256withrsa_verify</span></code><span class=\"lake-fontsize-11\"><span> </span>method to validate the signature of a response.</span></p><p data-lake-id=\"be43a63e95aa1d3ec2820ce2ac96add1\"><span class=\"lake-fontsize-11\" style=\"color:#4B4848\">Syntax of </span><span class=\"lake-fontsize-11\">the </span><code><span>sha256withrsa_verify</span></code><span class=\"lake-fontsize-11\"> method: </span></p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span>sha256withrsa_verify(base64UrlDecode(</span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">target_signature</span><span class=\"hljs-tag\">&gt;</span><span>), </span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">Content_To_Be_Validated</span><span class=\"hljs-tag\">&gt;</span><span>, </span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">serverPublicKey</span><span class=\"hljs-tag\">&gt;</span><span>)</span></code></pre></div><ul><li><code>target_signature</code>&nbsp;: the signature extracted from the response header, which is obtained from step 3.</li><li><code><span class=\"lake-fontsize-11\">Content_To_Be_Validated</span></code>&nbsp;<span class=\"lake-fontsize-11\">: t</span><span class=\"lake-fontsize-11\" style=\"color:#313131\"><span>he content to be validated </span></span><span>that is created from step 2.</span></li><li><code><span>serverPublicKey</span></code> : the platform public key that is obtained from step 1.</li></ul><h2 id=\"NDDwc\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"NDDwc\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Syntax of <code>Content_To_Be_Validated</code>&nbsp;</h2><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#e45649\">&lt;HTTP_METHOD&gt;</span><span> </span><span style=\"color:#e45649\">&lt;HTTP_URI&gt;</span><span>\n</span><span></span><span style=\"color:#e45649\">&lt;Client-Id&gt;</span><span>.</span><span style=\"color:#e45649\">&lt;Response-Time&gt;</span><span>.</span><span style=\"color:#e45649\">&lt;HTTP_BODY&gt;</span></code></pre></div><ul><li><code>Client-Id</code> : identifies a client. <span>You can get this field from the response header. For example </span><code>TEST_5X00000000000000</code></li><li><code><span>Response-Time</span></code>:  <span>Indicates </span><span class=\"lake-fontsize-11\" style=\"color:#333333\">the time when a response is returned, as defined by </span><a href=\"https://tools.ietf.org/html/rfc3339\" target=\"_blank\">RFC3339</a><span class=\"lake-fontsize-11\" style=\"color:#333333\">. Note: This field must be accurate to milliseconds. </span><span>You can get this </span><span>field </span><span>from the response header.</span></li><li><code>HTTP_BODY</code> : Indicates the data body of the response. </li></ul></div></div><div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><button class=\"pswp__button pswp__button--share\" title=\"Share\"></button><button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button><button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button><button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div></div></article></main></div></div></div></div></div>\n    \n    \n  \n  <iframe src=\"https://tracert.alipay.com/cross.html\" style=\"width: 1px; height: 1px; position: absolute; left: -100px; bottom: -100px; display: none;\"></iframe></body></html>",
  "warning": "This scrape job was throttled at your current concurrency limit. If you'd like to scrape faster, you can upgrade your plan."
}