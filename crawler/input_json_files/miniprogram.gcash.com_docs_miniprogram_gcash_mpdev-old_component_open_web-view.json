{
  "markdown": "# web-view\n\n2021-05-09 18:43\n\nWebview\n\nScan QR code to try:\n\n![web-view](https://marmot-local-dev.oss-ap-southeast-1.aliyuncs.com/storage/2020/1/10/7737ac30-a845-45fd-bdc8-a5b8cdb1a0f2.png#align=left&display=inline&height=196&margin=%5Bobject%20Object%5D&originHeight=196&originWidth=196&status=done&style=none&width=196)\n\n> This component does not support personal Mini Program temporarily.\n\n`<web-view/>` The component is a component that is used to carry H5 webpage and automatically bespreads the whole Mini Program page.\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Default** | **Description** |\n| src | String | No | H5 webpage URL to be rendered in web-view H5 webpage URL needs login Mini Program management background- In Mini Program details - Setting, configure H5 domain whitelist. |\n| onMessage | EventHandle | No | postMessage message from webpage to Mini Program e.detail = { data }. |\n\n> Each page can have only one . Do not render multiple . It bespreads whole page and overlaps other components.\n\n### Sample Code\n\ncopy\n\n```\n<!-- axml -->\n<!-- web-view pointing to google -->\n<web-view src=\"https://google.com/\" onMessage=\"test\"></web-view>\n```\n\n### APIs Available\n\n|     |     |     |\n| --- | --- | --- |\n| **API Type** | **Name** | **Description** |\n| Navigation | my.navigateTo | Navigate to another page of the app while keeping current one. |\n| Navigation | my.navigateBack | Close current page and return to one of the pages before. |\n| Navigation | my.switchTab | Navigate to a page on tabBar and close any other pages that are not on the tabBar. |\n| Navigation | my.reLaunch | Close all pages and navigate to a page from the app. |\n| Navigation | my.redirectTo | Close current page and navigate to a page from the app. |\n| Image | my.chooseImage | Take a photo or choose one from the album. (The file path of the obtained photo  can be sent to the current mini program via `my.postMessage()`, and then be uploaded if needed.) |\n| Image | my.previewImage | Preview the image. |\n| Location | my.getLocation | Get location information of current user. |\n| Popups | my.alert | Show alert window. |\n| Popups | my.showLoading | Show loading indicator. |\n| Popups | my.hideLoading | Hide loading indicator. |\n| Storage | my.setStorage | Store some data in local storage with a key. Will overwrite if the key already exists. |\n| Storage | my.getStorage | Retrieve stored data. |\n| Storage | my.removeStorage | Delete stored data. |\n| Storage | my.clearStorage | Clear local storage. |\n| Storage | my.getStorageInfo | Get information about local storage asynchronously. |\n| Network | my.getNetworkType | Get information about current network status. |\n| Payment | my.tradePay | Invoke payment procedures. (Don't process payment in H5 environment, and always call this API for payments.) |\n| Message | my.postMessage | Send message to the current mini program, in JSON format. |\n| Message | my.onMessage | Listen to messages from the current mini program. |\n| Environment | my.getEnv | Get information about current environment. |\n\n### Demo Code\n\nCode for `web-view` page for H5.\n\ncopy\n\n```html\n<script type=\"text/javascript\" src=\"https://appx/web-view.min.js\"></script>\n<script>\n  my.navigateTo({url: '../get-user-info/get-user-info'});\n\n  // Send message to Mini Program.\n  my.postMessage({name:\"test web-view\"});\n\n  // Did receive message from Mini Program.\n  my.onMessage = function(e) {\n    console.log(e); // {'sendToWebView': '1'}\n  }\n  // Check if is run in Mini Program environment\n  my.getEnv(function(res) {\n    console.log(res.miniprogram) // true\n  });\n</script>\n```\n\nAfter `my.postMessage` is called, `onMessage` will be executed in this mini program page.\n\ncopy\n\n```html\n<!-- .axml -->\n<view>\n  <web-view id=\"web-view-1\" src=\"...\" onMessage=\"test\"></web-view>\n</view>\n```\n\ncopy\n\n```javascript\n// A 'test' method is declared in this page.\n// As web-view in page.axml has set 'test' for the call of 'onMessage',\n// after my.postMessage is executed in the web-view, test will be called.\nPage({\n  onLoad(e){\n    this.webViewContext = my.createWebViewContext('web-view-1');\n  },\n  test(e){\n    my.alert({\n      content:JSON.stringify(e.detail),\n    });\n    this.webViewContext.postMessage({'sendToWebView': '1'});\n  },\n});\n```\n\n九色鹿",
  "metadata": {
    "title": "web-view | Developing Mini Programs | Documentation",
    "robots": "noarchive",
    "viewport": [
      "width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover",
      "width=device-width, initial-scale=1.0"
    ],
    "description": "WebviewScan QR code to try:This component does not support personal Mini Program temporarily.",
    "keywords": "",
    "ogDescription": "WebviewScan QR code to try:This component does not support personal Mini Program temporarily.",
    "ogUrl": "",
    "og:url": "",
    "ogTitle": "web-view | Developing Mini Programs | Documentation",
    "ogImage": "",
    "og:title": "web-view | Developing Mini Programs | Documentation",
    "og:image": "",
    "og:type": "website",
    "og:description": "WebviewScan QR code to try:This component does not support personal Mini Program temporarily.",
    "favicon": "https://gw.alipayobjects.com/mdn/rms_150082/afts/img/A*rOH-T5TEL-cAAAAAAAAAAABkARQnAQ",
    "scrapeId": "218a4233-c32d-4a70-a565-179d7aa659a9",
    "sourceURL": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/component_open_web-view",
    "url": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/component_open_web-view",
    "statusCode": 200
  },
  "html": "<html style=\"--vh: 1000px;\" data-theme=\"light\">\n    <body>\n    \n    \n    <div id=\"root\"><div class=\"index-module_height100__dDLuI\"><div style=\"top:0\"></div><div class=\"styles-module_searchWrap__mIEtV index-module_mobileSearch__Lianv \"><svg class=\"icon icon-search styles-module_searchIcon__2wekS\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"></path></svg><input type=\"text\" title=\"Press 's' to start the search\" placeholder=\"Search documentation\"><div class=\"styles-module_resultWrap__LQyY1 \"><div class=\"styles-module_result__6EDKs\"><div class=\"styles-module_resultScroll__x5srB\"></div></div><div class=\"styles-module_mask__naKUh\"></div></div></div><div class=\"undefined index-module_height100__dDLuI\"><div class=\"index-module_container__-pyWH    idocs-global-container  idocs-global-normal-container\"><div class=\"index-module_center__Kh8xX  idocs-global-index-center \" style=\"max-width: none; min-height: calc(var(--vh, 1vh) * 100 - 26px);\"><main class=\"index-module_main__2B9Eq    idocs-global-main-with-toc\" style=\"padding-left:264px;width:0\"><article class=\"index-module_content__6p5ch  idocs-global-content\"><div class=\"index-module_contentInner__KQHGJ idocs-global-content-inner\"><div class=\"styles-module_docBody__zUo8V\"><h1 class=\"styles-module_title__6bcTh styles-module_anchored__AxVRP \"><span class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span><span>web-view</span></span></h1><div class=\"styles-module_updateDate__1rqmL\"><time datetime=\"2021-05-09 18:43\" style=\"color: var(--font-color-third);\"><svg class=\"icon icon-clock\" width=\"1em\" height=\"1em\"><path d=\"M6.832 0C3.058 0 0 3.134 0 7s3.058 7 6.832 7 6.833-3.134 6.833-7-3.059-7-6.833-7zm4.152 11.253a5.835 5.835 0 01-1.867 1.29 5.695 5.695 0 01-2.285.473 5.717 5.717 0 01-2.284-.472 5.872 5.872 0 01-1.867-1.29 5.995 5.995 0 01-1.259-1.912A6.096 6.096 0 01.961 7c0-.812.155-1.6.46-2.34A6.032 6.032 0 012.68 2.746a5.835 5.835 0 011.866-1.29A5.706 5.706 0 016.832.984c.793 0 1.562.159 2.285.472.699.304 1.326.737 1.867 1.29.539.552.963 1.196 1.258 1.912.307.742.462 1.53.462 2.342s-.155 1.6-.46 2.34a5.998 5.998 0 01-1.26 1.913zM9.78 6.891H7.313V3.609a.486.486 0 00-.48-.492c-.266 0-.481.22-.481.492v3.282c0 .544.43.984.96.984h2.47c.265 0 .48-.22.48-.492a.486.486 0 00-.48-.492z\" fill=\"currentColor\" fill-rule=\"nonzero\" fill-opacity=\".7\"></path></svg>2021-05-09 18:43</time></div><div class=\"styles-module_content__2jcQS styles-module_yuqueContent__iJuXe\"><p data-lake-id=\"d14a43ba19a698288d0dbd05d72f736e_p_0\">Webview</p><p data-lake-id=\"601db8e4d95a7ef37755a6ace24bbc42_p_2\">Scan QR code to try:</p><p data-lake-id=\"72463c7b18450670c3a6f51a033e7705_p_4\"><img alt=\"web-view\" src=\"https://marmot-local-dev.oss-ap-southeast-1.aliyuncs.com/storage/2020/1/10/7737ac30-a845-45fd-bdc8-a5b8cdb1a0f2.png#align=left&amp;display=inline&amp;height=196&amp;margin=%5Bobject%20Object%5D&amp;originHeight=196&amp;originWidth=196&amp;status=done&amp;style=none&amp;width=196\" style=\"max-width:600px;width:196px\" class=\"docs-image loaded showImg\" data-src=\"https://marmot-local-dev.oss-ap-southeast-1.aliyuncs.com/storage/2020/1/10/7737ac30-a845-45fd-bdc8-a5b8cdb1a0f2.png#align=left&amp;display=inline&amp;height=196&amp;margin=%5Bobject%20Object%5D&amp;originHeight=196&amp;originWidth=196&amp;status=done&amp;style=none&amp;width=196\" loading=\"lazy\"></p><blockquote><p data-lake-id=\"49b5a69269ccffd666bf55166c8fc747_p_6\">This component does not support personal Mini Program temporarily.</p></blockquote><p data-lake-id=\"591ad8f2c9a2581b01de68b13d334bc9_p_8\"><code>&lt;web-view/&gt;</code> The component is a component that is used to carry H5 webpage and automatically bespreads the whole Mini Program page.</p><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:710px\" class=\"lake-table\"><colgroup><col width=\"139\"><col width=\"120\"><col width=\"78\"><col width=\"373\"></colgroup><tbody><tr><td style=\"text-align:left;background-color:#D4EEFC\"><p data-lake-id=\"37b685cd56d9e2c787abd79f371f033f\"><strong>Property</strong></p></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>Type</strong></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>Default</strong></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>Description</strong></td></tr></tbody><tbody><tr><td style=\"text-align:left\">src</td><td style=\"text-align:left\">String</td><td style=\"text-align:left\">No</td><td style=\"text-align:left\">H5 webpage URL to be rendered in web-view H5 webpage URL needs login Mini Program management background- In Mini Program details - Setting, configure H5 domain whitelist.</td></tr><tr><td style=\"text-align:left\">onMessage</td><td style=\"text-align:left\">EventHandle</td><td style=\"text-align:left\">No</td><td style=\"text-align:left\">postMessage message from webpage to Mini Program e.detail = { data }.</td></tr></tbody></table></div><blockquote><p data-lake-id=\"db983b2e001b0f0e1faa7b1b5fa0b93e_p_10\">Each page can have only one . Do not render multiple . It bespreads whole page and overlaps other components.</p></blockquote><h3 id=\"2d071c97\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"2d071c97\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Sample Code</h3><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code style=\"white-space:pre\"><span style=\"color:#a0a1a7;font-style:italic\">&lt;!-- axml --&gt;</span><span>\n</span><span></span><span style=\"color:#a0a1a7;font-style:italic\">&lt;!-- web-view pointing to google --&gt;</span><span>\n</span><span></span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">web-view</span><span class=\"hljs-tag\"> </span><span class=\"hljs-tag\" style=\"color:#986801\">src</span><span class=\"hljs-tag\">=</span><span class=\"hljs-tag\" style=\"color:#50a14f\">\"https://google.com/\"</span><span class=\"hljs-tag\"> </span><span class=\"hljs-tag\" style=\"color:#986801\">onMessage</span><span class=\"hljs-tag\">=</span><span class=\"hljs-tag\" style=\"color:#50a14f\">\"test\"</span><span class=\"hljs-tag\">&gt;</span><span class=\"hljs-tag\">&lt;/</span><span class=\"hljs-tag\" style=\"color:#e45649\">web-view</span><span class=\"hljs-tag\">&gt;</span></code></pre></div><h3 id=\"90097f89\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"90097f89\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>APIs Available</h3><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:718px\" class=\"lake-table\"><colgroup><col width=\"124\"><col width=\"180\"><col width=\"414\"></colgroup><tbody><tr><td style=\"text-align:left;background-color:#D4EEFC\"><strong>API Type</strong></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>Name</strong></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>Description</strong></td></tr></tbody><tbody><tr><td style=\"text-align:left\">Navigation</td><td style=\"text-align:left\">my.navigateTo</td><td style=\"text-align:left\">Navigate to another page of the app while keeping current one.</td></tr><tr><td style=\"text-align:left\">Navigation</td><td style=\"text-align:left\">my.navigateBack</td><td style=\"text-align:left\">Close current page and return to one of the pages before.</td></tr><tr><td style=\"text-align:left\">Navigation</td><td style=\"text-align:left\">my.switchTab</td><td style=\"text-align:left\">Navigate to a page on tabBar and close any other pages that are not on the tabBar.</td></tr><tr><td style=\"text-align:left\">Navigation</td><td style=\"text-align:left\">my.reLaunch</td><td style=\"text-align:left\">Close all pages and navigate to a page from the app.</td></tr><tr><td style=\"text-align:left\">Navigation</td><td style=\"text-align:left\">my.redirectTo</td><td style=\"text-align:left\">Close current page and navigate to a page from the app.</td></tr><tr><td style=\"text-align:left\">Image</td><td style=\"text-align:left\">my.chooseImage</td><td style=\"text-align:left\">Take a photo or choose one from the album. (The file path of the obtained photo &nbsp;can be sent to the current mini program via <code>my.postMessage()</code>, and then be uploaded if needed.)</td></tr><tr><td style=\"text-align:left\">Image</td><td style=\"text-align:left\">my.previewImage</td><td style=\"text-align:left\">Preview the image.</td></tr><tr><td style=\"text-align:left\">Location</td><td style=\"text-align:left\">my.getLocation</td><td style=\"text-align:left\">Get location information of current user.</td></tr><tr><td style=\"text-align:left\">Popups</td><td style=\"text-align:left\">my.alert</td><td style=\"text-align:left\">Show alert window.</td></tr><tr><td style=\"text-align:left\">Popups</td><td style=\"text-align:left\">my.showLoading</td><td style=\"text-align:left\">Show loading indicator.</td></tr><tr><td style=\"text-align:left\">Popups</td><td style=\"text-align:left\">my.hideLoading</td><td style=\"text-align:left\">Hide loading indicator.</td></tr><tr><td style=\"text-align:left\">Storage</td><td style=\"text-align:left\">my.setStorage</td><td style=\"text-align:left\">Store some data in local storage with a key. Will overwrite if the key already exists.</td></tr><tr><td style=\"text-align:left\">Storage</td><td style=\"text-align:left\">my.getStorage</td><td style=\"text-align:left\">Retrieve stored data.</td></tr><tr><td style=\"text-align:left\">Storage</td><td style=\"text-align:left\">my.removeStorage</td><td style=\"text-align:left\">Delete stored data.</td></tr><tr><td style=\"text-align:left\">Storage</td><td style=\"text-align:left\">my.clearStorage</td><td style=\"text-align:left\">Clear local storage.</td></tr><tr><td style=\"text-align:left\">Storage</td><td style=\"text-align:left\">my.getStorageInfo</td><td style=\"text-align:left\">Get information about local storage asynchronously.</td></tr><tr><td style=\"text-align:left\">Network</td><td style=\"text-align:left\">my.getNetworkType</td><td style=\"text-align:left\">Get information about current network status.</td></tr><tr><td style=\"text-align:left\">Payment</td><td style=\"text-align:left\">my.tradePay</td><td style=\"text-align:left\">Invoke payment procedures. (Don't process payment in H5 environment, and always call this API for payments.)</td></tr><tr><td style=\"text-align:left\">Message</td><td style=\"text-align:left\">my.postMessage</td><td style=\"text-align:left\">Send message to the current mini program, in JSON format.</td></tr><tr><td style=\"text-align:left\">Message</td><td style=\"text-align:left\">my.onMessage</td><td style=\"text-align:left\">Listen to messages from the current mini program.</td></tr><tr><td style=\"text-align:left\">Environment</td><td style=\"text-align:left\">my.getEnv</td><td style=\"text-align:left\">Get information about current environment.</td></tr></tbody></table></div><h3 id=\"07ef90ae\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"07ef90ae\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Demo Code</h3><p data-lake-id=\"e0969aeef27e043611d43673d0aa42b1_p_16\">Code for <code>web-view</code> page for H5.</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-html\" style=\"white-space:pre\"><span>&lt;script </span><span style=\"color:#a626a4\">type</span><span>=</span><span style=\"color:#50a14f\">\"text/javascript\"</span><span> src=</span><span style=\"color:#50a14f\">\"https://appx/web-view.min.js\"</span><span>&gt;&lt;/script&gt;\n</span>&lt;script&gt;\n<span>  my.navigate</span><span class=\"hljs-constructor\">To({</span><span class=\"hljs-constructor hljs-params\">url</span><span class=\"hljs-constructor\">: '..</span><span class=\"hljs-constructor hljs-operator\">/</span><span class=\"hljs-constructor hljs-params\">get</span><span class=\"hljs-constructor\">-</span><span class=\"hljs-constructor hljs-params\">user</span><span class=\"hljs-constructor\">-</span><span class=\"hljs-constructor hljs-params\">info</span><span class=\"hljs-constructor hljs-operator\">/</span><span class=\"hljs-constructor hljs-params\">get</span><span class=\"hljs-constructor\">-</span><span class=\"hljs-constructor hljs-params\">user</span><span class=\"hljs-constructor\">-</span><span class=\"hljs-constructor hljs-params\">info</span><span class=\"hljs-constructor\">'})</span><span>;\n</span>\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Send message to Mini Program.</span><span>\n</span><span>  my.post</span><span class=\"hljs-constructor\">Message({</span><span class=\"hljs-constructor hljs-params\">name</span><span class=\"hljs-constructor\">:</span><span class=\"hljs-constructor\" style=\"color:#50a14f\">\"test web-view\"</span><span class=\"hljs-constructor\">})</span><span>;\n</span>\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Did receive message from Mini Program.</span><span>\n</span><span>  my.onMessage = </span><span style=\"color:#a626a4\">function</span><span>(e) {\n</span><span>    console.log(e); </span><span style=\"color:#a0a1a7;font-style:italic\">// {'sendToWebView': '1'}</span><span>\n</span>  }\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Check if is run in Mini Program environment</span><span>\n</span><span>  my.get</span><span class=\"hljs-constructor\">Env(</span><span class=\"hljs-constructor hljs-params\">function</span><span class=\"hljs-constructor\">(</span><span class=\"hljs-constructor hljs-params\">res</span><span class=\"hljs-constructor\">)</span><span> {\n</span><span>    console.log(res.miniprogram) </span><span style=\"color:#a0a1a7;font-style:italic\">// true</span><span>\n</span>  });\n<!-- -->&lt;/script&gt;</code></pre></div><p data-lake-id=\"b8c433ef6faccd9ab0f03ea71a0bb15c_p_19\">After <code>my.postMessage</code> is called, <code>onMessage</code> will be executed in this mini program page.</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-html\" style=\"white-space:pre\"><span style=\"color:#a0a1a7;font-style:italic\">&lt;!-- .axml --&gt;</span><span>\n</span><span></span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">view</span><span class=\"hljs-tag\">&gt;</span><span>\n</span><span>  </span><span class=\"hljs-tag\">&lt;</span><span class=\"hljs-tag\" style=\"color:#e45649\">web-view</span><span class=\"hljs-tag\"> </span><span class=\"hljs-tag\" style=\"color:#986801\">id</span><span class=\"hljs-tag\">=</span><span class=\"hljs-tag\" style=\"color:#50a14f\">\"web-view-1\"</span><span class=\"hljs-tag\"> </span><span class=\"hljs-tag\" style=\"color:#986801\">src</span><span class=\"hljs-tag\">=</span><span class=\"hljs-tag\" style=\"color:#50a14f\">\"...\"</span><span class=\"hljs-tag\"> </span><span class=\"hljs-tag\" style=\"color:#986801\">onMessage</span><span class=\"hljs-tag\">=</span><span class=\"hljs-tag\" style=\"color:#50a14f\">\"test\"</span><span class=\"hljs-tag\">&gt;</span><span class=\"hljs-tag\">&lt;/</span><span class=\"hljs-tag\" style=\"color:#e45649\">web-view</span><span class=\"hljs-tag\">&gt;</span><span>\n</span><span></span><span class=\"hljs-tag\">&lt;/</span><span class=\"hljs-tag\" style=\"color:#e45649\">view</span><span class=\"hljs-tag\">&gt;</span></code></pre></div><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-javascript\" style=\"white-space:pre\"><span style=\"color:#a0a1a7;font-style:italic\">// A 'test' method is declared in this page.</span><span>\n</span><span></span><span style=\"color:#a0a1a7;font-style:italic\">// As web-view in page.axml has set 'test' for the call of 'onMessage',</span><span>\n</span><span></span><span style=\"color:#a0a1a7;font-style:italic\">// after my.postMessage is executed in the web-view, test will be called.</span><span>\n</span>Page({\n<span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">onLoad</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">e</span><span class=\"hljs-function\">)</span><span>{\n</span><span>    </span><span style=\"color:#c18401\">this</span><span>.webViewContext = my.createWebViewContext(</span><span style=\"color:#50a14f\">'web-view-1'</span><span>);    \n</span>  },\n<span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">test</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">e</span><span class=\"hljs-function\">)</span><span>{\n</span>    my.alert({\n<span>      </span><span style=\"color:#986801\">content</span><span>:</span><span style=\"color:#c18401\">JSON</span><span>.stringify(e.detail),\n</span>    });  \n<span>    </span><span style=\"color:#c18401\">this</span><span>.webViewContext.postMessage({</span><span style=\"color:#50a14f\">'sendToWebView'</span><span>: </span><span style=\"color:#50a14f\">'1'</span><span>});\n</span>  },\n<!-- -->});</code></pre></div></div></div><div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><button class=\"pswp__button pswp__button--share\" title=\"Share\"></button><button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button><button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button><button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div></div></article></main></div></div></div></div></div>\n    \n    \n  \n  <div src=\"https://tracert.alipay.com/cross.html\" style=\"width: 1px; height: 1px; position: absolute; left: -100px; bottom: -100px;\" data-original-tag=\"iframe\"><base target=\"_parent\">\n  \n  \n  \n  <title>九色鹿</title>\n\n\n\n\n</div>\n</body></html>",
  "warning": "This scrape job was throttled at your current concurrency limit. If you'd like to scrape faster, you can upgrade your plan."
}