{
  "markdown": "# /v2/payments/pay\n\n2021-05-09 18:43\n\nPOST `/v2/payments/pay`\n\nThe `pay` API is used to initiate a payment request to wallets.\n\n**Note:** A payment which takes place at wallets _._\n\n1）The merchant/partner initiates a payment request to wallet through this interface.\n\n2）The wallet will handle different payment scenarios based on the parameters in the request.\n\nCurrently, this API support following scenarios:\n\n- Cashier payment：Usually used in the online payment scenario. In this scenario, the merchant/partner will call this API to create an order, and the wallet will return the cashier page URL to the merchant/partner, and then redirect to this cashier page. So user can finish the payment in the cashier page.\n\n# Message structure\n\n## Request\n\n|     |     |     |     |     |\n| --- | --- | --- | --- | --- |\n| **Property** | **Data type** | **Required** | **Description** | **Example** |\n| appId | String | Yes | The Mini Program app ID.<br>Max. length: 32 characters. | \"3333010071465913xxx\" |\n| productCode | String | No | The product code, `AGREEMENT_PAYMENT, IN_STORE_PAYMENT, CASHIER_PAYMENT`<br>Max. length: 32 characters. | \"CASHIER\\_PAYMENT\" |\n| salesCode | String | No | Defined by wallets. The wallet uses the `salesCode` to get the contract configuration which includes fee, limitation information, and so on.<br>Max. length: 32 characters. | \"202011271xxx\" |\n| paymentRequestId | String | Yes | The unqiue ID of a payment generated by merchants.<br>- Max. length: 64 characters.<br>- This field is used for [idempotence](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_idempotency) control. For the payment requests which are initiated with the same `paymentRequestId` and reach a final status (S or F),  the must return the unique result. | \"2019112719074101000700000077771xxxx\" |\n| paymentAmount | [**Amount**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#2umUE) | Yes | The order amount, displaying users' consumption records, payment results page. | {<br>        \"currency\": \"USD\",<br>        \"value\": \"10000\"<br>} |\n| order | [**Order**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#pKKxn) | No | The purchase order details, such as Merchant, Buyer, Goods, etc. The information in the Order is only used to display user's payment result page and transactions history, regulation reporting, etc. It will not make use of the amount in the order for fund operation. | {<br>      \"referenceOrderId\":\"OrderID\\_0101010101xxxx\",<br>      \"orderDescription\":\"SHOES\",<br>      \"orderAmount\":{<br>        \"currency\": \"USD\",<br>        \"value\": \"10000\"<br>      },<br>      \"orderCreateTime\": \"2020-01-01T12:01:01+08:30\",<br>      \"merchant\":{<br>          \"referenceMerchantId\":\"M00000000001xxxx\",<br>          \"merchantMCC\":\"1405\",<br>          \"merchantName\":\"UGG Technology Limited\",<br>          \"merchantDisplayName\":\"UGG\",<br>          \"merchantAddress\":{<br>             \"region\":\"MY\",<br>             \"city\":\"KL\"<br>          }<br>       },<br>      \"env\": {<br>          \"osType\": \"IOS\",<br>          \"terminalType\": \"APP\"<br>         } <br>} |\n| paymentMethod | [**PaymentMethod**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#oyGqE) | No | It is used to collect fund by wallets. | {<br>\"paymentMethodType\":\"ID\\_000001xxxx\",<br>\"paymentMethodId\":\"1\"<br>} |\n| paymentFactor | [**PaymentFactor**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#4Xo31) | No | In the Mini Program scenario, it is fixed value, map format. | {<br>\"needSurcharge\": true,<br>\"isPaymentEvaluation\": false<br>} |\n| paymentExpiryTime | String/Datetime | No | The payment order close time defined by merchant,<br>which follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard. | \"2020-06-08T12:12:12+08:00\" |\n| paymentRedirectUrl | String | No | The redirect URL defined by merchants.<br>Max. length: 1024 characters. | \"https://www.merchant.com/redirectxxx\" |\n| paymentNotifyUrl | String | No | The payment success notification URL defined by merchants.<br>Max. length: 1024 characters. | \"https://www.merchant.com/paymentNotifyxxx\" |\n| extendInfo | String | No | The extensive information. The wallet and merchant can put extensive information in this property.<br>Max. length: 4096 characters. | \"This is additional information\" |\n\n## Response\n\n|     |     |     |     |     |\n| --- | --- | --- | --- | --- |\n| **Property** | **Data type** | **Required** | **Description** | **Example** |\n| result | [**Result**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#sHXZc) | Yes | The request result, which contains information related to the request result, such as status and error codes. | {<br>    \"resultCode\": \"SUCCESS\",<br>    \"resultStatus\": \"S\",<br>    \"resultMessage\": \"success\"  <br>} |\n| paymentId | String | No | The unqiue ID of a payment generated by Wallet.<br>Max. length: 64 characters. | \"4374784884773748478499xxxx\" |\n| paymentTime | String/Datetime | No | Payment success time, which follows the [ISO 8601](https://www.iso.org/iso-8601-date-and-time-format.html) standard. | \"2020-01-08T12:12:12+08:00\" |\n| redirectActionForm | [**RedirectActionForm**](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#2J25W) | No | Indicates a redirect URL. | {<br>    \"method\":\"POST\",<br>    \"redirectionUrl\":\"https://www.wallet.com/cashier?orderId=xxxxxxx\"<br>} |\n| authExpiryTime | String/Datetime | No | The authorization expiry time, has value only when `paymentFactor.isAuthorizationPayment` is `true` . | \"2020-07-08T12:12:12+08:00\" |\n| extendInfo | String | No | The extensive information. The wallet and merchant can put extensive information in this property.<br>Max. length: 4096 characters. | \"This is additional information\" |\n\n### Result process logic\n\nIn the response, the `result.resultStatus` field indicates the result of processing a request as follows.\n\n|     |     |\n| --- | --- |\n| **resultStatus** | **Decription** |\n| S | The corresponding `result.resultCode` is \"SUCCESS\" and the  `result.resultMessage`  is \"Success\".<br>That means that this transaction is successful. The merchant/partner can update transaction to success. What needs to note is :<br>- In the payment evaluation scenario, 'S' just means that the evaluation is successful and there is no real fund transfer.  <br>- In authorization payment scenario, 'S' just means that the authorization  is successful, and need to wait for the capture operation to finish the  transaction (finish the final fund flow). |\n| A | The corresponding `result.resultCode` is \"ACCEPT\"; and the  `result.resultMessage` varies based on different situations.<br>That means that the transaction is already accepted by wallets. The merchant/partner needs to continue the next operation according to the `redirectActionForm`  response, such as display the order code to users or redirect to the wallet cashier page. |\n| U | The corresponding `result.resultCode` is \"UNKNOWN\\_EXCEPTION\" and `result.resultMessage`  is \"An API calling is failed, which is caused by unknown reasons.\". For details, see the [Common error codes](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/error_codes#oyy9K) section.<br>That means that unknown exception occurs on the wallet side. The merchant/partner can inquiry the payment result or wait for the payment notification to get the real payment result. What needs to note is :<br>- Payment evaluation scenario can not be inquiried.<br>- \\`U\\` status can not set to fail or success on the merchant/partner system.<br>- \\`U\\` status can not refund to users by offline (Maybe will make fund loss). |\n| F | That means this transaction is failed. The corresponding `result.resultCode`  and `result.resultMessage` vary based on different situations. For details, see the following [Error codes](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_pay#QiyKe) section.<br>Usually the \\`F\\` transactions can not be successful again if use the same payment request to call wallets. |\n\n# Error codes\n\nError codes are usually classified into the following categories:\n\n- [Common error codes](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/error_codes#oyy9K): are common for all Mini Program OpenAPIs.\n- API-specific error codes: are listed in the following table.\n\n|     |     |     |\n| --- | --- | --- |\n| **resultStatus** | **resultCode** | **resultMessage** |\n| U | PAYMENT\\_IN\\_PROCESS | The payment is still under process. |\n| A | ACCEPT | Need next actions according to the `RedirectActionForm`  field. |\n| F | REPEAT\\_REQ\\_INCONSISTENT | Repeated submission, and requests are inconsistent. |\n| F | PAYMENT\\_AMOUNT\\_EXCEED\\_LIMIT | Payment amount exceeds limit. |\n| F | USER\\_NOT\\_EXIST | User not exist. |\n| F | USER\\_STATUS\\_ABNORMAL | The user status is abnormal. |\n| F | USER\\_BALANCE\\_NOT\\_ENOUGH | User balance is not enough for this payment. |\n| F | PARTNER\\_NOT\\_EXIST | Partner not exist. |\n| F | PARTNER\\_STATUS\\_ABNORMAL | Partner status abnormal. |\n| F | RISK\\_REJECT | Risk reject. |\n| F | CURRENCY\\_NOT\\_SUPPORT | The currency is not supported. |\n| F | ORDER\\_STATUS\\_INVALID | Order is in invaid status such closed. |\n| F | INVALID\\_ACCESS\\_TOKEN | Invalid accesstoken. |\n| F | USER\\_AMOUNT\\_EXCEED\\_LIMIT | Payment amount exceeds user's amount limit. |\n| F | AUTH\\_CODE\\_ALREADY\\_USED | Auth code already used. |\n| F | INVALID\\_CODE | Auth code illegal. |\n| F | EXPIRED\\_AGENT\\_TOKEN | The agent token of mini program is expired. |\n| F | INVALID\\_AGENT\\_TOKEN | The agent token of mini program is invalid. |\n\n# Sample\n\n## Cashier Payment\n\nFor example, a user purchases a 100 USD good at the merchant/partner(online merchant usually) , the merchant/partner calls this API to create the payment order first, the wallet will return the payment order ID and wallet cashier page URL to the merchant/partner, then merchant/partner can redirect user to wallet cashier page with the `my.tradePay` API.\n\n![/v2/payments/pay](https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png)\n\n1. The Mini Program creates an order.\n2. The merchant server calls this pay interface with paymentNotifyUrl to initialte payment flow.\n3. E-wallet server returns payment detail information with paymentId to the merchant server.\n4. The merchant server passes the payment detail information to the Mini Program.\n5. The Mini Program calls the my.tradePay interface to conduct the payment.\n6. When the payment reaches the final status, the e-wallet server notifies the merchant server of the payment result with paymentNotifyUrl provided in Step 2 (Step 8).\n7. Also the E-wallet App returns the payment result to the Mini Program (Step 9).\n\n### Request\n\ncopy\n\n```json\n{\n\n    \"appId\": \"3333010071465913xxx\",\n    \"paymentRequestId\": \"2019112719074101000700000077771xxxx\",\n    \"productCode\": \"CASHIER_PAYMENT\",\n    \"paymentAmount\": {\n        \"currency\": \"USD\",\n        \"value\": \"10000\"\n    },\n    \"order\":{\n      \"referenceOrderId\":\"OrderID_0101010101xxxx\",\n      \"orderDescription\":\"SHOES\",\n      \"orderAmount\":{\n        \"currency\": \"USD\",\n        \"value\": \"10000\"\n      },\n      \"orderCreateTime\": \"2020-01-01T12:01:01+08:30\",\n      \"merchant\":{\n          \"referenceMerchantId\":\"M00000000001xxxx\",\n          \"merchantMCC\":\"1405\",\n          \"merchantName\":\"UGG Technology Limited\",\n          \"merchantDisplayName\":\"UGG\",\n          \"merchantAddress\":{\n             \"region\":\"MY\",\n             \"city\":\"KL\"\n          }\n       },\n      \"env\": {\n          \"osType\": \"IOS\",\n          \"terminalType\": \"APP\"\n         }\n     },\n    \"paymentRedirectUrl\":\"https://www.merchant.com/redirectxxx\",\n    \"paymentNotifyUrl\":\"https://www.merchant.com/paymentNotifyxxx\"\n}\n```\n\n- **paymentRequestId** is generated by the merchant/partner, which uniquely identifies the payment. Wallet must make use of paymentRequestId for idempotent control. For example, if a payment with paymentRequestId== 2019112719074101000700000077771 has been processed successfully by Wallet, when the merchant/partneruses the same paymentRequestId for payment, Wallet will respond with sucessful payment.\n- **productCode** is the product code, including the `IN_STORE_PAYMENT` , `CASHIER_PAYMENT`, and `AGREEMENT_PAYMENT` information\n- **paymentRedirectUrl** is the redirect URL defined by the merchant/partner. In the cashier payment scenario, after the user finished payment in the wallet cashier page, the wallet will direct back to merchant based on this URL.\n- **paymentNotifyUrl** is the URL defined by the merchant/partner.  In the cashier payment scenario, after the user finished payment in the wallet cashier page, the wallet will notify the merchant of the payment result based on this URL.\n- **paymentAmount** describes the amount of 100 USD to be collected by Wallet from user's account for this payment.\n- **order** describes the order details of the purchase of the 100CNY merchandise by the  user at the  merchant. Such as Merchant, Buyer, Goods, etc are included in order . The information in the Order is only used to  display user's payment result page and transactions history,  regulation reporting, etc. It will not make use of the amount in the order for fund operation.\n\n### Response\n\ncopy\n\n```json\n{\n \"result\": {\n    \"resultCode\":\"ACCEPT\",\n    \"resultStatus\":\"A\",\n    \"resultMessage\":\"accept\"\n },\n \"paymentId\": \"4374784884773748478499xxxx\",\n \"redirectActionForm\":{\n    \"method\":\"POST\",\n    \"redirectionUrl\":\"https://www.wallet.com/cashier?orderId=xxxxxxx\"\n }\n}\n```\n\n- **result.resultStatus ==A** shows that the  payment is accept success. After user finish payment in cashier page, payment will change to success.\n- **paymentId** is generated by Wallet, uniquely identifies the payment.\n- **redirectActionForm** returns the cashier page URLto the merchant/partner. After the merchant/partner receives the accept result, which will be redirected to this URL.\n\n[iframe](https://tracert.alipay.com/cross.html)",
  "metadata": {
    "title": "/v2/payments/pay | Developing Mini Programs | Documentation",
    "og:image": "",
    "ogUrl": "",
    "favicon": "https://gw.alipayobjects.com/mdn/rms_150082/afts/img/A*rOH-T5TEL-cAAAAAAAAAAABkARQnAQ",
    "og:title": "/v2/payments/pay | Developing Mini Programs | Documentation",
    "og:url": "",
    "robots": "noarchive,true",
    "ogTitle": "/v2/payments/pay | Developing Mini Programs | Documentation",
    "description": "POST /v2/payments/payThe pay API is used to initiate a payment request to wallets.Note: A payment which takes place at wallets.",
    "viewport": "width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover",
    "og:description": "POST /v2/payments/payThe pay API is used to initiate a payment request to wallets.Note: A payment which takes place at wallets.",
    "ogImage": "",
    "og:type": "website",
    "keywords": "",
    "ogDescription": "POST /v2/payments/payThe pay API is used to initiate a payment request to wallets.Note: A payment which takes place at wallets.",
    "scrapeId": "5dbe3248-36b1-494f-8745-956fbe712d5d",
    "sourceURL": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_pay",
    "url": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_pay",
    "statusCode": 200
  },
  "html": "<!DOCTYPE html><html style=\"--vh: 1000px;\" data-theme=\"light\">\n    <body>\n    \n    \n    <div id=\"root\"><div class=\"index-module_height100__dDLuI\"><div style=\"top:0\"></div><div class=\"styles-module_searchWrap__mIEtV index-module_mobileSearch__Lianv \"><svg class=\"icon icon-search styles-module_searchIcon__2wekS\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"></path></svg><input type=\"text\" title=\"Press 's' to start the search\" placeholder=\"Search documentation\"><div class=\"styles-module_resultWrap__LQyY1 \"><div class=\"styles-module_result__6EDKs\"><div class=\"styles-module_resultScroll__x5srB\"></div></div><div class=\"styles-module_mask__naKUh\"></div></div></div><div class=\"undefined index-module_height100__dDLuI\"><div class=\"index-module_container__-pyWH    idocs-global-container  idocs-global-normal-container\"><div class=\"index-module_center__Kh8xX index-module_noToc__pwJcX idocs-global-no-toc idocs-global-index-center \" style=\"max-width: 1128px; min-height: calc(var(--vh, 1vh) * 100 - 45.90625px);\"><main class=\"index-module_main__2B9Eq    \" style=\"padding-left:0;width:0\"><article class=\"index-module_content__6p5ch  idocs-global-content\" style=\"padding-left:0\"><div class=\"index-module_contentInner__KQHGJ idocs-global-content-inner\"><div class=\"styles-module_docBody__zUo8V\"><h1 class=\"styles-module_title__6bcTh styles-module_anchored__AxVRP \"><span class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span><span>/v2/payments/pay</span></span></h1><div class=\"styles-module_updateDate__1rqmL\"><time datetime=\"2021-05-09 18:43\" style=\"color: var(--font-color-third);\"><svg class=\"icon icon-clock\" width=\"1em\" height=\"1em\"><path d=\"M6.832 0C3.058 0 0 3.134 0 7s3.058 7 6.832 7 6.833-3.134 6.833-7-3.059-7-6.833-7zm4.152 11.253a5.835 5.835 0 01-1.867 1.29 5.695 5.695 0 01-2.285.473 5.717 5.717 0 01-2.284-.472 5.872 5.872 0 01-1.867-1.29 5.995 5.995 0 01-1.259-1.912A6.096 6.096 0 01.961 7c0-.812.155-1.6.46-2.34A6.032 6.032 0 012.68 2.746a5.835 5.835 0 011.866-1.29A5.706 5.706 0 016.832.984c.793 0 1.562.159 2.285.472.699.304 1.326.737 1.867 1.29.539.552.963 1.196 1.258 1.912.307.742.462 1.53.462 2.342s-.155 1.6-.46 2.34a5.998 5.998 0 01-1.26 1.913zM9.78 6.891H7.313V3.609a.486.486 0 00-.48-.492c-.266 0-.481.22-.481.492v3.282c0 .544.43.984.96.984h2.47c.265 0 .48-.22.48-.492a.486.486 0 00-.48-.492z\" fill=\"currentColor\" fill-rule=\"nonzero\" fill-opacity=\".7\"></path></svg>2021-05-09 18:43</time></div><div class=\"styles-module_content__2jcQS styles-module_yuqueContent__iJuXe\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">POST <code>/v2/payments/pay</code></p><p data-lake-id=\"926106e572302584929453a14ddce28a\">The <code>pay</code>&nbsp;API is used to initiate a payment request to wallets.</p><p data-lake-id=\"29c79795076e618a274b253df997ca31\"><strong>Note:</strong> A payment which takes place at wallets<em>.</em></p><p data-lake-id=\"8c4cdf78ec0220d2426cb3fa1980335e\">1）The merchant/partner initiates a payment request to wallet through this interface.</p><p data-lake-id=\"6969f1a192a6436d632a823745735424\">2）The wallet will handle different payment scenarios based on the parameters in the request.</p><p data-lake-id=\"f5f8a7c223d9e79b85c40c9c54cf5ab5\">Currently, this API support following scenarios:</p><ul><li>Cashier payment：Usually used in the online payment scenario. In this scenario, the m<span>erchant/partner will call this API to create an order, and the wallet will return the cashier page URL to the m</span><span>erchant/partner, and then redirect to this cashier page. So user can finish the payment in the cashier page.</span></li></ul><h1 id=\"VBhVX\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"VBhVX\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span style=\"color:#000000\"><span>Message structure</span></span></h1><h2 id=\"OVUf4\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"OVUf4\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Request</span></h2><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:860px\" class=\"lake-table\"><colgroup><col width=\"154\"><col width=\"139\"><col width=\"84\"><col width=\"242\"><col width=\"241\"></colgroup><tbody><tr><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"9b6545cfa0e6ba6daa2c6efcd770514b\"><strong><span>Property</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"576020e8b070725bebec6600af2087c1\"><strong>Data type</strong></p></td><td rowspan=\"1\" style=\"background-color:#D4EEFC\"><strong><span style=\"color:#404040\">Required</span></strong></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"4ad332915fd14334487a6b6111b941c8\"><strong>Description</strong></p></td><td rowspan=\"1\" style=\"background-color:#D4EEFC\"><p data-lake-id=\"67461797418dd5260b77429f7b3172e9_p_0\"><strong>Example</strong></p></td></tr><tr><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\"><span class=\"lake-fontsize-11\" style=\"color:#333333\">appId</span></p></td><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\"><span>String&nbsp;</span></p></td><td colspan=\"1\"><p data-lake-id=\"6ded2c5435a1d85ef083ab7bb685c4b5\">Yes</p></td><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">The Mini Program app ID.</p><p data-lake-id=\"96fa933ec9c263e049580ada7f30de53\">Max. length: 32 characters.</p></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">\"3333010071465913xxx\"</p></td></tr><tr><td colspan=\"1\"><p data-lake-id=\"b9ae9c9d11744184f48ab3481dbfd8df\">productCode</p></td><td colspan=\"1\">String&nbsp;</td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"fe32346799943b2c21d09ef67e3a87f6\"><span style=\"color:#262626\">The </span><span style=\"color:#262626\">product code, </span><span style=\"color:#262626\"><code>AGREEMENT_PAYMENT, IN_STORE_PAYMENT, CASHIER_PAYMENT</code></span><span style=\"color:#262626\">&nbsp;</span></p><p data-lake-id=\"97b3f58afba030120d3769fe6982bab7\"><span style=\"color:#262626\">Max. length: 32 characters.</span></p></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">\"CASHIER_PAYMENT\"</p></td></tr><tr><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\"><span style=\"color:#262626\">salesCode</span></p></td><td colspan=\"1\"><span style=\"color:#262626\">String&nbsp;</span></td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">Defined by wallets.&nbsp;<span>The </span>wallet uses the <code>salesCode</code>&nbsp;to get the contract configuration which includes fee, limitation information, and so on.<span style=\"color:#111F2C;background-color:#C1E6C6\"><br></span></p><p data-lake-id=\"322b45253d55e2bdc5d1529583fb96e7\"><span>Max. length: 32 characters.</span></p></td><td rowspan=\"1\"><p data-lake-id=\"cc1c60fc8e4bb91288bc8a132fc4e9f9\">\"<span>202011271xxx\"</span></p></td></tr><tr><td colspan=\"1\"><p data-lake-id=\"dde00bdfb57bbaa0b219a25c45adb95f\">paymentRequestId</p></td><td colspan=\"1\">String&nbsp;</td><td colspan=\"1\"><p data-lake-id=\"6ded2c5435a1d85ef083ab7bb685c4b5\">Yes</p></td><td colspan=\"1\" rowspan=\"1\"><p data-lake-id=\"3b4f83afd1e74506667bb128780ff21a\">The unqiue ID of a payment generated by merchants.</p><ul><li><span>Max. length: 64 characters.</span></li><li><span class=\"lake-fontsize-11\"><span>This field is used for</span></span><span class=\"lake-fontsize-11\"> </span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/api_idempotency\" data-idocs-page-id=\"cec9e27f-f0ba-43e6-af81-604fcc244c06\" data-idocs-page-slug=\"api_idempotency\"><span class=\"lake-fontsize-11\">idempotence </span></a><span class=\"lake-fontsize-11\">control. For the payment requests which are initiated with the same&nbsp;</span><span class=\"lake-fontsize-11\"><code>paymentRequestId</code></span><span class=\"lake-fontsize-11\">&nbsp;and reach a final status (S or F),&nbsp;</span><span class=\"lake-fontsize-11\"><span>&nbsp;the&nbsp;</span></span><span class=\"lake-fontsize-11\"><span>&nbsp;</span></span><span class=\"lake-fontsize-11\">must return the unique result.</span></li></ul></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">\"2019112719074101000700000077771xxxx\"</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\">paymentAmount</td><td colspan=\"1\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#2umUE\" target=\"_blank\" data-idocs-page-id=\"796c7417-ef84-440f-8b0e-164b66c7ff73\" data-idocs-page-slug=\"v2_data_dict\"><strong><span>Amount</span></strong></a></td><td colspan=\"1\"><p data-lake-id=\"6ded2c5435a1d85ef083ab7bb685c4b5\">Yes</p></td><td colspan=\"1\"><p data-lake-id=\"d582ec8144f30c5fef9e57abfaa17ad1\">The order amount, displaying users' consumption records, payment results page.</p></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">{</p><p data-lake-id=\"793d5c68f52611f84430cc3a2e0738af\"> &nbsp; &nbsp; &nbsp; &nbsp;\"currency\": \"USD\",</p><p data-lake-id=\"2068de43d71678220b307af3a477b789\"> &nbsp; &nbsp; &nbsp; &nbsp;\"value\": \"10000\"</p><p data-lake-id=\"024efc49ef64894ec7488cff1f67e53e\">&nbsp;}</p></td></tr><tr><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">order</p></td><td colspan=\"1\" rowspan=\"1\"><p data-lake-id=\"2ed035920158c8f9f2026a100a3086a2\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#pKKxn\" target=\"_blank\" data-idocs-page-id=\"796c7417-ef84-440f-8b0e-164b66c7ff73\" data-idocs-page-slug=\"v2_data_dict\"><span style=\"color:#096DD9\"><strong>Order</strong></span></a></p></td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"d38e48aeb7280e4cdbcb531d2fdae23d\">The <span>purchase&nbsp;</span>order details, such as Merchant, Buyer, Goods, etc. The information in the Order is only used to display user's payment result page and transactions history, regulation reporting, etc. It will not make use of the amount in the order for fund operation.</p></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">{</p><p data-lake-id=\"79909df8da82fed4e12f3f4b751466ed\"> &nbsp; &nbsp; &nbsp;\"referenceOrderId\":\"OrderID_0101010101xxxx\",</p><p data-lake-id=\"e29a9b4e597b8af17270c6770ec4c98c\"> &nbsp; &nbsp; &nbsp;\"orderDescription\":\"SHOES\",</p><p data-lake-id=\"09dcb1dc159d52f2400e3420a0da1f89\"> &nbsp; &nbsp; &nbsp;\"orderAmount\":{</p><p data-lake-id=\"55e81c8a6f159bd098dbd1290045abaa\"> &nbsp; &nbsp; &nbsp; &nbsp;\"currency\": \"USD\",</p><p data-lake-id=\"b389b182993d666c3718a49347d4a9c7\"> &nbsp; &nbsp; &nbsp; &nbsp;\"value\": \"10000\"</p><p data-lake-id=\"c5bd2d2e9fa634bd0324f6c631db543b\"> &nbsp; &nbsp; &nbsp;},</p><p data-lake-id=\"4b93645d004aadcf04c75ac0a8ffd867\"> &nbsp; &nbsp; &nbsp;\"orderCreateTime\": \"2020-01-01T12:01:01+08:30\",</p><p data-lake-id=\"633c7576bae2b2d3b6dc644c0a02b407\"> &nbsp; &nbsp; &nbsp;\"merchant\":{</p><p data-lake-id=\"5897e8c9ade25205be8c054d46207bc8\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"referenceMerchantId\":\"M00000000001xxxx\",</p><p data-lake-id=\"ce967ba53ae9537b3d2109a9bc4f89a3\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"merchantMCC\":\"1405\",</p><p data-lake-id=\"70f7182a7e303089c81526f921e112a9\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"merchantName\":\"UGG Technology Limited\",</p><p data-lake-id=\"0e0df78aa9a7156c0a0930ec833d0b65\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"merchantDisplayName\":\"UGG\",</p><p data-lake-id=\"ca75d9653c36805b99d32d42f6f9a655\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"merchantAddress\":{</p><p data-lake-id=\"9c952e4026ad0550df99762332a3f873\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"region\":\"MY\",</p><p data-lake-id=\"3db1240f8f8a65f075ab6b07177061ad\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; \"city\":\"KL\"</p><p data-lake-id=\"9fb3c5fcb5a6487a18c5ad4259ddc75d\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</p><p data-lake-id=\"df557ca317ac6b77b0d88d0ab5ab3d27\"> &nbsp; &nbsp; &nbsp; },</p><p data-lake-id=\"6c387162753a33dee1c44c90e00c6a52\"> &nbsp; &nbsp; &nbsp;\"env\": {</p><p data-lake-id=\"256b528e7db0e3d614ee2b102596a3e3\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"osType\": \"IOS\",</p><p data-lake-id=\"cac094fff6185a6faf06db6106c3a27f\"> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;\"terminalType\": \"APP\"</p><p data-lake-id=\"104f5e77609e6bfc86f8b25b9b311f45\"> &nbsp; &nbsp; &nbsp; &nbsp; }&nbsp;</p><p data-lake-id=\"3525e47ecc0143b07a705cfb4fa25786\">  }</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\">paymentMethod</td><td colspan=\"1\"><p data-lake-id=\"b598021916f3d1686e4db6bb64afa00f\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#oyGqE\" target=\"_blank\" data-idocs-page-id=\"796c7417-ef84-440f-8b0e-164b66c7ff73\" data-idocs-page-slug=\"v2_data_dict\"><strong><span>PaymentMethod</span></strong></a></p></td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\" rowspan=\"1\">It is used to collect fund by wallets.</td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">{</p><p data-lake-id=\"c38e5713e581d6c98ef7d9dfd1966856\">&nbsp; \"paymentMethodType\":\"ID_000001xxxx\",</p><p data-lake-id=\"2f45274ae90c81a73ad0a071d22053e0\">&nbsp; &nbsp;\"paymentMethodId\":\"1\"</p><p data-lake-id=\"3a034380ac80bbfa0738c3a22d589c19\">}</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\">paymentFactor</td><td colspan=\"1\" rowspan=\"1\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#4Xo31\" target=\"_blank\" data-idocs-page-id=\"796c7417-ef84-440f-8b0e-164b66c7ff73\" data-idocs-page-slug=\"v2_data_dict\"><strong><span>PaymentFactor</span></strong></a></td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"d377c2d44c18a9908af2169e46d2b538\"><span>In the Mini Program scenario, it is f</span>ixed value,&nbsp;map format.</p></td><td rowspan=\"1\"><p data-lake-id=\"77fb940a97da06a3916d0b913f11c697\">{</p><p data-lake-id=\"ff487b86b8c91d00c8838ff90e012216\">&nbsp; &nbsp;<span>\"</span>needSurcharge<span>\"</span>: true,</p><p data-lake-id=\"f60bfe2367e63af2fd4d43da9a02a412\">&nbsp; &nbsp;<span>\"</span>isPaymentEvaluation<span>\"</span>: false</p><p data-lake-id=\"3f56ca472011cb2a3cc510c7e9ff0bfa\">}&nbsp;</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\">paymentExpiryTime</td><td colspan=\"1\"><p data-lake-id=\"08708d5c078d0a6241cfbdc8879ac464\">String/Datetime</p></td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"a57e2d56a1350a22fa5c55f485c076df\"><span>The </span>payment order close time defined by merchant,</p>which follows the <a href=\"https://www.iso.org/iso-8601-date-and-time-format.html\" target=\"_blank\">ISO 8601&nbsp;</a>standard.</td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">\"2020-06-08T12:12:12+08:00\"</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\"><span style=\"color:#262626\">paymentRedirectUrl</span></p></td><td colspan=\"1\">String&nbsp;</td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><span style=\"color:#3B4151\"><p data-lake-id=\"a5622c1d540db6fb3cf1d8e3c115eea2\"><span>The </span>redirect URL defined by merchants.</p><p data-lake-id=\"6b6cd56c7ed81060a588070e9490b6d5\"><span>Max. length: 1024 characters.</span></p></span></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">\"https://www.merchant.com/redirectxxx\"</p></td></tr><tr><td colspan=\"1\" rowspan=\"1\">paymentNotifyUrl</td><td colspan=\"1\">String&nbsp;</td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\" rowspan=\"1\"><p data-lake-id=\"f106815145e950ca6578e07a5839c858\"><span>The&nbsp;</span><span>payment success notification URL defined by merchants.</span></p><p data-lake-id=\"001f38c4e233e4b1add8b94e642fdced\"><span>Max. length: 1024 characters.</span></p></td><td rowspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\">\"https://www.merchant.com/paymentNotifyxxx\" </p></td></tr><tr><td colspan=\"1\" rowspan=\"1\">extendInfo</td><td colspan=\"1\">String&nbsp;</td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\" rowspan=\"1\"><p data-lake-id=\"3e810c5fd864027a8578b40ce6e11601\"><span>The&nbsp;</span><span>extensive information. The wallet and merchant can put extensive information in this property.</span></p><p data-lake-id=\"de4a7385bd595870b14411c2ed16b5ca\"><span>Max. length: 4096 characters.</span></p></td><td rowspan=\"1\" style=\"background-color:#FFFFFF\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\"><span>\"This is additional information\"</span></p></td></tr></tbody></table></div><h2 id=\"rmDws\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"rmDws\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Response</h2><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:1036px\" class=\"lake-table\"><colgroup><col width=\"150\"><col width=\"170\"><col width=\"86\"><col width=\"259\"><col width=\"371\"></colgroup><tbody><tr><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"9b6545cfa0e6ba6daa2c6efcd770514b\"><strong><span>Property</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"576020e8b070725bebec6600af2087c1\"><strong>Data type</strong></p></td><td rowspan=\"1\" style=\"background-color:#D4EEFC\"><strong><span style=\"color:#404040\">Required</span></strong></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"4ad332915fd14334487a6b6111b941c8\"><strong>Description</strong></p></td><td rowspan=\"1\" style=\"background-color:#D4EEFC\"><p data-lake-id=\"67461797418dd5260b77429f7b3172e9_p_0\"><strong>Example</strong></p></td></tr><tr><td colspan=\"1\">result</td><td colspan=\"1\"><p data-lake-id=\"ab37785bb20ed1cbc36db4d962177452\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#sHXZc\" target=\"_blank\" data-idocs-page-id=\"796c7417-ef84-440f-8b0e-164b66c7ff73\" data-idocs-page-slug=\"v2_data_dict\"><strong>Result</strong></a></p></td><td colspan=\"1\"><p data-lake-id=\"6ded2c5435a1d85ef083ab7bb685c4b5\">Yes</p></td><td colspan=\"1\">The request result, which contains information related to the request result, such as status and error codes.</td><td rowspan=\"1\" style=\"background-color:#FFFFFF\"><p data-lake-id=\"b1e1c619c4ca724b44390c352d3dc0d3\">{</p><p data-lake-id=\"83d07864e8424e6d216b6ecfae69c745\"> &nbsp; &nbsp;\"resultCode\": \"SUCCESS\",</p><p data-lake-id=\"70ac796a704b0126b39335e674be09c6\"> &nbsp; &nbsp;\"resultStatus\": \"S\",</p><p data-lake-id=\"5d33020368f092f4a8c8e0faf4cc5445\"> &nbsp; &nbsp;\"resultMessage\": \"success\" &nbsp;</p><p data-lake-id=\"60e0f813cfad07e5c81a5c1520db38f2\"> &nbsp;}</p></td></tr><tr><td>paymentId</td><td>String&nbsp;</td><td rowspan=\"1\" colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td><p data-lake-id=\"21153700fd89bfaf31e71bf45f5b7fbf\">The unqiue ID of a payment generated by Wallet.</p><p data-lake-id=\"95c73a5e73fa8e0f09163b5454140112\"><span>Max. length: 64 characters.</span></p></td><td rowspan=\"1\"><p data-lake-id=\"80a23b7a175b1b49ff795b89c8a33f6d\">\"4374784884773748478499xxxx\"</p></td></tr><tr><td colspan=\"1\">paymentTime</td><td colspan=\"1\"><p data-lake-id=\"613832ef607a516ae2c8d82db0070c6b\">String/Datetime</p></td><td rowspan=\"1\" colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"27bba79eeac7b8e88d4d84d7f0ae45a9\">Payment success time, which follows the <a href=\"https://www.iso.org/iso-8601-date-and-time-format.html\" target=\"_blank\">ISO 8601&nbsp;</a>standard.</p></td><td rowspan=\"1\" style=\"background-color:#FFFFFF\"><p data-lake-id=\"262586c80173f051a2373fe553e6892d\">\"2020-01-08T12:12:12+08:00\"</p></td></tr><tr><td colspan=\"1\"><p data-lake-id=\"c0632bad1d1c13c3e07859f5cc1bd375\">redirectActionForm</p></td><td colspan=\"1\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_data_dict#2J25W\" target=\"_blank\" data-idocs-page-id=\"796c7417-ef84-440f-8b0e-164b66c7ff73\" data-idocs-page-slug=\"v2_data_dict\"><strong>RedirectActionForm</strong></a></p></td><td rowspan=\"1\" colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"fe74f70bee14503558c6aa73287a2d38\">Indicates a redirect&nbsp;URL.</p></td><td rowspan=\"1\"><p data-lake-id=\"4e49bec0f2dd7e89f2c1fd3cc1ed15b6\">{</p><p data-lake-id=\"8a559ef56d7619a316bc435fd65b45ad\"> &nbsp; &nbsp;\"method\":\"POST\",</p><p data-lake-id=\"f75431813875f9142a1a74e9b6da345d\"> &nbsp; &nbsp;\"redirectionUrl\":\"https://www.wallet.com/cashier?orderId=xxxxxxx\"</p><p data-lake-id=\"2dbfc112a4f401abd6a387b4890ec92e\"> }</p></td></tr><tr><td colspan=\"1\">authExpiryTime</td><td colspan=\"1\"><p data-lake-id=\"8ee1b9c5eb7d14c1d359c60eb3350ccf\">String/Datetime</p></td><td rowspan=\"1\" colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"4d11b65de6b5be86aa153c6310729868\"><span>The&nbsp;</span><span>authorization expiry time, has value only when </span><code><span>paymentFactor.isAuthorizationPayment</span></code>&nbsp;<span>is </span><code><span>true</span></code>&nbsp;.</p></td><td rowspan=\"1\" style=\"background-color:#FFFFFF\"><p data-lake-id=\"e1934391d4778f1cb03d3de439ab081c\">\"2020-07-08T12:12:12+08:00\"</p></td></tr><tr><td colspan=\"1\">extendInfo</td><td colspan=\"1\">String&nbsp;</td><td colspan=\"1\"><p data-lake-id=\"083a0927ca23d60a770e7481e9be8e6e\">No</p></td><td colspan=\"1\"><p data-lake-id=\"4f0fd1f07bcde0a429597fdf63f9db6f\"><span>The&nbsp;</span><span>extensive information. The wallet and merchant can put extensive information in this property.</span></p><p data-lake-id=\"d4e899e9d475fe4126e772fd3792c447\"><span>Max. length: 4096 characters.</span></p></td><td rowspan=\"1\" style=\"background-color:#FFFFFF\"><p data-lake-id=\"465798c8a857d5699d42877956b318ac\"><span>\"This is additional information\"</span></p></td></tr></tbody></table></div><h3 id=\"TZn0T\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"TZn0T\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Result process logic</span></h3><p data-lake-id=\"08abee02574358ec80126c81c24531f5\">In the response, the <code><span style=\"background-color:transparent\">result.resultStatus</span></code> field indicates the result of processing a request as follows. </p><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:745px\" class=\"lake-table\"><colgroup><col width=\"107\"><col width=\"638\"></colgroup><tbody><tr><td style=\"background-color:#D4EEFC\"><strong>resultStatus</strong></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"eb5a739a0e0a782de6c79737ee53f4a4\"><strong>Decription&nbsp;</strong></p></td></tr><tr><td style=\"text-align:left\"><p data-lake-id=\"7067e4c5f0244bcbd298a7249dc017e0\"><span>S</span></p></td><td><p data-lake-id=\"a5eef5a5231c7d8c100e02f219118eb2\">The corresponding <code>result.resultCode</code> is \"SUCCESS\" and the&nbsp; <code>result.resultMessage</code>&nbsp; is \"Success\".</p><p data-lake-id=\"96201ddde62292d887eb57abc7626430\">That means that this transaction is successful. The merchant/partner can update transaction to success. What needs to note is :</p><ul><li>In the payment evaluation scenario, 'S' just means that the evaluation is successful and there is no real fund transfer. &nbsp;</li><li>In authorization payment scenario, 'S' just means that the&nbsp;<span>authorization </span><span> is successful</span><span>, and need to wait for the capture operation to finish the &nbsp;transaction (finish the final fund flow).</span><span style=\"background-color:#FADB14\"><br></span></li></ul></td></tr><tr><td style=\"text-align:left\"><p data-lake-id=\"5662418cefd4160bfcc9466c67928fe9\">A</p></td><td><p data-lake-id=\"d436eda091e8f18e506b301fa013451d\">The corresponding <code>result.resultCode</code> is \"ACCEPT\"; and the&nbsp; <code>result.resultMessage</code> <span>varies based on different situations</span>.</p><p data-lake-id=\"dd189e7034c76d1401f4ecf3d2df8b99\">That means that the transaction is already accepted by wallets. The merchant/partner needs to continue the next operation according to the <code>redirectActionForm</code>&nbsp; response, such as display the order code to users or redirect to the wallet cashier page. </p></td></tr><tr><td style=\"text-align:left\"><p data-lake-id=\"27fa24fe771f3dad405871e6634652a3\">U</p></td><td style=\"text-align:left\"><p data-lake-id=\"8f987519926743bde4a241d77e0d5b6d\"><span> </span>The corresponding <code>result.resultCode</code> is \"<span>UNKNOWN_EXCEPTION\"&nbsp;</span>and <code>result.resultMessage</code>&nbsp; is \"<span>An API calling is failed, which is caused by unknown reasons.\".&nbsp;</span>For details, see the <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/error_codes#oyy9K\" target=\"_blank\" data-idocs-page-id=\"a3d4efd8-eaa3-4f0e-8ab7-584a7024a0e7\" data-idocs-page-slug=\"error_codes\">Common error codes</a> section.</p><p data-lake-id=\"ad9520723612e53fbf60435dd7299125\">That means that unknown exception occurs on the wallet side. The merchant/partner can inquiry the payment result or wait for the payment notification to get the real payment result. What needs to note is :</p><ul><li><span>Payment evaluation scenario can not be inquiried.</span></li><li>`U` status can not set to fail or success on the merchant/partner system.</li><li>`U` status can not refund to users by offline (Maybe will make fund loss).</li></ul></td></tr><tr><td style=\"text-align:left\"><p data-lake-id=\"1c55af831526c702e8847428b9cd4376\">F</p></td><td><p data-lake-id=\"6a60a5a2390c57a8cea6278e3e348409\"><span>That means this transaction is failed.&nbsp;</span>The corresponding <code>result.resultCode</code>&nbsp; and <code>result.resultMessage</code> vary based on different situations.&nbsp;For details, see the <span>following&nbsp;</span><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/v2_pay#QiyKe\" target=\"_blank\" data-idocs-page-id=\"9bc1f0e7-0299-4420-bde8-7f5857b50f72\" data-idocs-page-slug=\"v2_pay\">Error codes</a> section.</p><p data-lake-id=\"5536eeab33d8c3395e2491cbd3561aec\"><span>Usually the `F` transactions can not be successful again if use the same payment request to call wallets.</span></p></td></tr></tbody></table></div><h1 id=\"QiyKe\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"QiyKe\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span style=\"background-color:transparent\"><span>Error codes  </span></span></h1><p data-lake-id=\"1054ade8606e948dd778d73df5fbcab6\">Error codes are usually classified into the following categories:</p><ul><li><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev-old/error_codes#oyy9K\" data-idocs-page-id=\"a3d4efd8-eaa3-4f0e-8ab7-584a7024a0e7\" data-idocs-page-slug=\"error_codes\">Common error codes</a>: <span>are common for all Mini Program OpenAPIs. &nbsp;</span></li><li><span>API-specific error codes: </span><span>are listed in the following table.</span></li></ul><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:704px\" class=\"lake-table\"><colgroup><col width=\"106\"><col width=\"280\"><col width=\"318\"></colgroup><tbody><tr><td rowspan=\"1\" style=\"text-align:left;background-color:#D4EEFC\"><strong>resultStatus</strong></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>resultCode</strong></td><td style=\"text-align:left;background-color:#D4EEFC\"><strong>resultMessage</strong></td></tr></tbody><tbody><tr><td colspan=\"1\">U</td><td colspan=\"1\">PAYMENT_IN_PROCESS</td><td colspan=\"1\"><p data-lake-id=\"5f474a427c7b6e9a502381ba91b10895\"><span>The&nbsp;</span><span>payment is still under process.</span></p></td></tr><tr><td colspan=\"1\" style=\"text-align:left\"><p data-lake-id=\"14ad2189790eda0fe5a97d55a5355a14\">A</p></td><td colspan=\"1\">ACCEPT</td><td colspan=\"1\">Need next actions according to the <code>RedirectActionForm</code>&nbsp; field.</td></tr><tr><td rowspan=\"1\"><p data-lake-id=\"216566f8058147c3f12c079c632d43fd\">F</p></td><td>REPEAT_REQ_INCONSISTENT</td><td>Repeated submission, and requests are inconsistent.</td></tr><tr><td rowspan=\"1\" style=\"text-align:left\">F</td><td rowspan=\"1\" colspan=\"1\">PAYMENT_AMOUNT_EXCEED_LIMIT</td><td rowspan=\"1\" colspan=\"1\">Payment amount exceeds limit.</td></tr><tr><td rowspan=\"1\" style=\"text-align:left\">F</td><td rowspan=\"1\" colspan=\"1\">USER_NOT_EXIST</td><td rowspan=\"1\" colspan=\"1\">User not exist.</td></tr><tr><td rowspan=\"1\" style=\"text-align:left\">F</td><td rowspan=\"1\" colspan=\"1\">USER_STATUS_ABNORMAL</td><td rowspan=\"1\" colspan=\"1\">The user status is abnormal.</td></tr><tr><td rowspan=\"1\" style=\"text-align:left\">F</td><td rowspan=\"1\" colspan=\"1\">USER_BALANCE_NOT_ENOUGH</td><td rowspan=\"1\" colspan=\"1\">User balance is not enough for this payment.</td></tr><tr><td rowspan=\"1\" style=\"text-align:left\">F</td><td rowspan=\"1\" colspan=\"1\">PARTNER_NOT_EXIST</td><td rowspan=\"1\" colspan=\"1\">Partner not exist.</td></tr><tr><td rowspan=\"1\" style=\"text-align:left\">F</td><td rowspan=\"1\" colspan=\"1\">PARTNER_STATUS_ABNORMAL</td><td rowspan=\"1\" colspan=\"1\">Partner status abnormal.</td></tr><tr><td colspan=\"1\" style=\"text-align:left\">F</td><td colspan=\"1\" rowspan=\"1\">RISK_REJECT</td><td colspan=\"1\" rowspan=\"1\">Risk reject.</td></tr><tr><td colspan=\"1\" style=\"text-align:left\">F</td><td colspan=\"1\" rowspan=\"1\">CURRENCY_NOT_SUPPORT</td><td colspan=\"1\"><p data-lake-id=\"41baa46eae130647b7216dea7f35067b\">The currency is not supported.</p></td></tr><tr><td colspan=\"1\" style=\"text-align:left\">F</td><td colspan=\"1\" rowspan=\"1\">ORDER_STATUS_INVALID</td><td colspan=\"1\" rowspan=\"1\">Order is in invaid status such closed.</td></tr><tr><td colspan=\"1\" style=\"text-align:left\">F</td><td colspan=\"1\" rowspan=\"1\">INVALID_ACCESS_TOKEN</td><td colspan=\"1\" rowspan=\"1\">Invalid accesstoken.</td></tr><tr><td colspan=\"1\" style=\"text-align:left\">F</td><td colspan=\"1\" rowspan=\"1\">USER_AMOUNT_EXCEED_LIMIT</td><td colspan=\"1\" rowspan=\"1\">Payment amount exceeds user's amount limit.</td></tr><tr><td colspan=\"1\"><p data-lake-id=\"329c0a6c224538d4ec260ecb33ed12c4\">F</p></td><td colspan=\"1\" rowspan=\"1\">AUTH_CODE_ALREADY_USED</td><td colspan=\"1\" rowspan=\"1\">Auth code already used.</td></tr><tr><td colspan=\"1\"><p data-lake-id=\"3152696ac3806910687c17173c09ad84\">F</p></td><td colspan=\"1\" rowspan=\"1\">INVALID_CODE</td><td colspan=\"1\" rowspan=\"1\">Auth code illegal.</td></tr><tr><td colspan=\"1\"><p data-lake-id=\"61f4791751fe18d882455f428138f21c\">F</p></td><td colspan=\"1\"><p data-lake-id=\"0e0d17b06fc685c5de982588a749770d\">EXPIRED_AGENT_TOKEN</p></td><td colspan=\"1\">The agent token of mini program is expired.</td></tr><tr><td colspan=\"1\"><p data-lake-id=\"ce1b7eb0c99737d281ab007e06a061a9\">F</p></td><td colspan=\"1\">INVALID_AGENT_TOKEN</td><td colspan=\"1\"><p data-lake-id=\"5cfc7375eb4070f031d5a11201de031a\">The <span>agent </span>token of mini program is invalid.</p></td></tr></tbody></table></div><h1 id=\"JLXAu\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"JLXAu\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Sample</h1><h2 id=\"vxIkb\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"vxIkb\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Cashier Payment</h2><p data-lake-id=\"0386d01fba70d304f91091085c515784\">For example, a user purchases a 100 USD good at the <span>merchant/partner(online merchant usually) </span>, the <span>merchant/partner calls this API to create the payment order first, the wallet will return the payment order ID and wallet cashier page URL to the </span><span>merchant/partner, then merchant/partner can redirect user to </span><span>wallet cashier page with the </span><code><span>my.tradePay</span></code>&nbsp;<span> API.</span></p><img alt=\"/v2/payments/pay\" src=\"https://ac.alipay.com/storage/2020/5/11/793a3d8d-5270-405b-9362-e6a670b9c842.png\" style=\"max-width:600px\" class=\"docs-image\" data-src=\"https://cdn.nlark.com/lark/__puml/ff7414f05c34cc68581b239dc19bf244.svg?OSSAccessKeyId=LTAI4GGhPJmQ4HWCmhDAn4F5&amp;Expires=4773287339&amp;Signature=bSQz6OUTFac4yqVNE46IHfMykKI%3D#lake_card_v2=eyJjb2RlIjoiQHN0YXJ0dW1sXG5cbmF1dG9udW1iZXJcblxuYm94IFwiV2FsbGV0XCIgICAjc2Vhc2hlbGxcbnBhcnRpY2lwYW50IFwiTWluaSBQcm9ncmFtXCIgYXMgTVAgI2RlZXBza3libHVlXG5wYXJ0aWNpcGFudCBcIldhbGxldCBBcHAgU2VydmljZVwiIGFzIFdhbGxldEFwcCAjb3JhbmdlXG5wYXJ0aWNpcGFudCBcIldhbGxldCBCYWNrZW5kXCIgYXMgV2FsbGV0QmFja2VuZCAjb3JhbmdlXG5lbmQgYm94XG5cbmJveCBcIk1lcmNoYW50XCIgICAjbGlnaHR5ZWxsb3dcbnBhcnRpY2lwYW50IFwiTWVyY2hhbnQgQmFja2VuZFwiIGFzIE1lcmNoYW50ICNza3libHVlXG5lbmQgYm94XG5cbmFjdGl2YXRlIE1QICNkZWVwc2t5Ymx1ZVxuTVAgLT4gTWVyY2hhbnQ6IGNyZWF0ZSBvcmRlclxuYWN0aXZhdGUgTWVyY2hhbnQgI3NreWJsdWVcblxuTWVyY2hhbnQgLT4gV2FsbGV0QmFja2VuZDogaW5pdGlhdGUgcGF5bWVudCByZXF1ZXN0IHdpdGggL3YyL3BheW1lbnRzL3BheVxuYWN0aXZhdGUgV2FsbGV0QmFja2VuZCAjb3JhbmdlXG5cbldhbGxldEJhY2tlbmQgLS0-IE1lcmNoYW50OiByZXR1cm4gcGF5bWVudCBkZXRhaWxcbmRlYWN0aXZhdGUgV2FsbGV0QmFja2VuZFxuXG5NZXJjaGFudCAtLT4gTVA6IHJldHVybiBvcmRlciBkZXRhaWxcbmRlYWN0aXZhdGUgTWVyY2hhbnRcblxuTVAgLT4gV2FsbGV0QXBwOiBteS50cmFkZVBheVxuYWN0aXZhdGUgV2FsbGV0QXBwICNvcmFuZ2VcblxuV2FsbGV0QXBwIC0-IFdhbGxldEJhY2tlbmQ6IHBheW1lbnQucGF5XG5hY3RpdmF0ZSBXYWxsZXRCYWNrZW5kICNvcmFuZ2Vcblxubm90ZSByaWdodCBvZiBXYWxsZXRCYWNrZW5kOiBQYXltZW50IGZsb3dcbldhbGxldEJhY2tlbmQgLS0-IFdhbGxldEFwcDogcmV0dXJuIHBheSByZXN1bHRcbldhbGxldEJhY2tlbmQgLT4gTWVyY2hhbnQ6IG5vdGlmeSBwYXltZW50IHJlc3VsdCB3aXRoIHBheW1lbnROb3RpZnlVcmxcbmRlYWN0aXZhdGUgV2FsbGV0QmFja2VuZFxuXG5XYWxsZXRBcHAgLS0-IE1QOiByZXR1cm4gcGF5IHJlc3VsdFxuZGVhY3RpdmF0ZSBXYWxsZXRBcHBcbmRlYWN0aXZhdGUgTVBcblxuXG5AZW5kdW1sIiwidHlwZSI6InB1bWwiLCJtYXJnaW4iOnRydWUsImlkIjoiN0JweWgiLCJ1cmwiOiJodHRwczovL2Nkbi5ubGFyay5jb20vbGFyay9fX3B1bWwvZmY3NDE0ZjA1YzM0Y2M2ODU4MWIyMzlkYzE5YmYyNDQuc3ZnP09TU0FjY2Vzc0tleUlkPUxUQUk0R0doUEptUTRIV0NtaERBbjRGNSZFeHBpcmVzPTQ3NzMyODczMzkmU2lnbmF0dXJlPWJTUXo2T1VURmFjNHlxVk5FNDZJSGZNeWtLSSUzRCIsImNhcmQiOiJkaWFncmFtIn0=\" loading=\"lazy\"><ol start=\"1\"><li>The Mini Program creates an order.</li><li>The merch<span style=\"background-color:transparent\">ant server calls this </span><span style=\"background-color:transparent\">pay</span><span style=\"background-color:transparent\"> interface with </span><span style=\"background-color:transparent\">paymentNotifyUrl</span><span style=\"background-color:transparent\"> to initialte payment flow.</span></li><li><span style=\"background-color:transparent\">E-wallet server returns payment detail information with paymentId to the merchant server.</span></li><li><span style=\"background-color:transparent\">The merchant server passes the payment detail information to the Mini Program.</span></li><li><span style=\"background-color:transparent\">The Mini Program calls the </span><span style=\"background-color:transparent\">my.tradePay</span><span style=\"background-color:transparent\"> interface to conduct the payment.</span></li><li><span style=\"background-color:transparent\">When the payment reaches the final status, the e-wallet server notifies the </span><span style=\"background-color:transparent\">merchant server of the </span><span style=\"background-color:transparent\">payment result with </span><span style=\"background-color:transparent\"><span>paymentNotifyUrl</span></span><span style=\"background-color:transparent\"> provided in Step 2 (Step 8).</span></li><li><span style=\"background-color:transparent\">Also the E-wallet App returns the payment result to the Mini Program (Step 9).</span></li></ol><h3 id=\"fTkEQ\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"fTkEQ\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span style=\"color:#262626\">Request </span></h3><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-json\" style=\"white-space:pre\"><span>{\n</span>\n<span>    </span><span style=\"color:#986801\">\"appId\"</span><span>: </span><span style=\"color:#50a14f\">\"3333010071465913xxx\"</span><span>, \n</span><span>    </span><span style=\"color:#986801\">\"paymentRequestId\"</span><span>: </span><span style=\"color:#50a14f\">\"2019112719074101000700000077771xxxx\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"productCode\"</span><span>: </span><span style=\"color:#50a14f\">\"CASHIER_PAYMENT\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"paymentAmount\"</span><span>: {\n</span><span>        </span><span style=\"color:#986801\">\"currency\"</span><span>: </span><span style=\"color:#50a14f\">\"USD\"</span><span>,\n</span><span>        </span><span style=\"color:#986801\">\"value\"</span><span>: </span><span style=\"color:#50a14f\">\"10000\"</span><span>\n</span>    },\n<span>    </span><span style=\"color:#986801\">\"order\"</span><span>:{\n</span><span>      </span><span style=\"color:#986801\">\"referenceOrderId\"</span><span>:</span><span style=\"color:#50a14f\">\"OrderID_0101010101xxxx\"</span><span>,\n</span><span>      </span><span style=\"color:#986801\">\"orderDescription\"</span><span>:</span><span style=\"color:#50a14f\">\"SHOES\"</span><span>,\n</span><span>      </span><span style=\"color:#986801\">\"orderAmount\"</span><span>:{\n</span><span>        </span><span style=\"color:#986801\">\"currency\"</span><span>: </span><span style=\"color:#50a14f\">\"USD\"</span><span>,\n</span><span>        </span><span style=\"color:#986801\">\"value\"</span><span>: </span><span style=\"color:#50a14f\">\"10000\"</span><span>\n</span>      },\n<span>      </span><span style=\"color:#986801\">\"orderCreateTime\"</span><span>: </span><span style=\"color:#50a14f\">\"2020-01-01T12:01:01+08:30\"</span><span>,\n</span><span>      </span><span style=\"color:#986801\">\"merchant\"</span><span>:{\n</span><span>          </span><span style=\"color:#986801\">\"referenceMerchantId\"</span><span>:</span><span style=\"color:#50a14f\">\"M00000000001xxxx\"</span><span>,\n</span><span>          </span><span style=\"color:#986801\">\"merchantMCC\"</span><span>:</span><span style=\"color:#50a14f\">\"1405\"</span><span>,\n</span><span>          </span><span style=\"color:#986801\">\"merchantName\"</span><span>:</span><span style=\"color:#50a14f\">\"UGG Technology Limited\"</span><span>,\n</span><span>          </span><span style=\"color:#986801\">\"merchantDisplayName\"</span><span>:</span><span style=\"color:#50a14f\">\"UGG\"</span><span>,\n</span><span>          </span><span style=\"color:#986801\">\"merchantAddress\"</span><span>:{\n</span><span>             </span><span style=\"color:#986801\">\"region\"</span><span>:</span><span style=\"color:#50a14f\">\"MY\"</span><span>,\n</span><span>             </span><span style=\"color:#986801\">\"city\"</span><span>:</span><span style=\"color:#50a14f\">\"KL\"</span><span>\n</span>          }\n<!-- -->       },\n<span>      </span><span style=\"color:#986801\">\"env\"</span><span>: {\n</span><span>          </span><span style=\"color:#986801\">\"osType\"</span><span>: </span><span style=\"color:#50a14f\">\"IOS\"</span><span>,\n</span><span>          </span><span style=\"color:#986801\">\"terminalType\"</span><span>: </span><span style=\"color:#50a14f\">\"APP\"</span><span>\n</span>         } \n<!-- -->     },\n<span>    </span><span style=\"color:#986801\">\"paymentRedirectUrl\"</span><span>:</span><span style=\"color:#50a14f\">\"https://www.merchant.com/redirectxxx\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"paymentNotifyUrl\"</span><span>:</span><span style=\"color:#50a14f\">\"https://www.merchant.com/paymentNotifyxxx\"</span><span>    \n</span>}</code></pre></div><ul><li><strong>paymentRequestId</strong><strong>&nbsp;</strong>is generated by the merchant/partner, which uniquely identifies the payment. Wallet must make use of paymentRequestId for idempotent control. For example, if a payment with paymentRequestId== 2019112719074101000700000077771&nbsp;has been processed successfully by Wallet, when the merchant/partner<em>&nbsp;</em>uses the same paymentRequestId for payment, Wallet will respond with sucessful payment.</li><li><strong>productCode </strong>is the product code, including the <code>IN_STORE_PAYMENT</code> , <code>CASHIER_PAYMENT</code>, and <code>AGREEMENT_PAYMENT</code> information</li><li><strong><span class=\"lake-fontsize-1515\">paymentRedirectUrl</span></strong><strong><span class=\"lake-fontsize-1515\"> </span></strong>is the redirect URL defined by the merchant/partner.&nbsp;In the cashier payment scenario, after the user finished payment in the wallet cashier page, the wallet will direct back to merchant based on this URL.</li><li><strong>paymentNotifyUrl</strong> is the <span>URL </span>defined by the merchant/partner. &nbsp;In the cashier payment scenario, after the user finished payment in the wallet cashier page, the wallet will notify the merchant of the payment result based on this URL.</li><li><strong>paymentAmount</strong><strong>&nbsp;</strong>describes the amount of 100 USD to be collected by Wallet from user's account for this payment.</li><li><strong>order </strong>describes the order details of the purchase of the 100CNY merchandise by the &nbsp;user at the &nbsp;merchant. Such as Merchant, Buyer, Goods, etc are included in order . The information in the Order is only used to &nbsp;display user's payment result page and transactions history, &nbsp;regulation reporting, etc. It will not make use of the amount in the order for fund operation.</li></ul><h3 id=\"GImNp\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"GImNp\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span style=\"color:#262626\">Response</span></h3><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-json\" style=\"white-space:pre\"><span>{\n</span><span> </span><span style=\"color:#986801\">\"result\"</span><span>: {\n</span><span>    </span><span style=\"color:#986801\">\"resultCode\"</span><span>:</span><span style=\"color:#50a14f\">\"ACCEPT\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"resultStatus\"</span><span>:</span><span style=\"color:#50a14f\">\"A\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"resultMessage\"</span><span>:</span><span style=\"color:#50a14f\">\"accept\"</span><span>\n</span> },\n<span> </span><span style=\"color:#986801\">\"paymentId\"</span><span>: </span><span style=\"color:#50a14f\">\"4374784884773748478499xxxx\"</span><span>,\n</span><span> </span><span style=\"color:#986801\">\"redirectActionForm\"</span><span>:{\n</span><span>    </span><span style=\"color:#986801\">\"method\"</span><span>:</span><span style=\"color:#50a14f\">\"POST\"</span><span>,\n</span><span>    </span><span style=\"color:#986801\">\"redirectionUrl\"</span><span>:</span><span style=\"color:#50a14f\">\"https://www.wallet.com/cashier?orderId=xxxxxxx\"</span><span>\n</span> }\n<!-- -->}</code></pre></div><ul><li><strong>result.resultStatus ==A</strong> shows that the &nbsp;payment is accept success. After user finish payment in cashier page, payment will change to success.</li><li><strong>paymentId</strong><strong>&nbsp;</strong>is generated by Wallet, uniquely identifies the payment.</li><li><strong>redirectActionForm</strong><strong> </strong>returns the cashier page URL<span> </span>to the merchant/partner. After the <span>merchant/partner receives the accept result, which will be redirected to this URL.</span></li></ul></div></div><div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><button class=\"pswp__button pswp__button--share\" title=\"Share\"></button><button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button><button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button><button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div></div></article></main></div></div></div></div></div>\n    \n    \n  \n  <iframe src=\"https://tracert.alipay.com/cross.html\" style=\"width: 1px; height: 1px; position: absolute; left: -100px; bottom: -100px; display: none;\"></iframe></body></html>"
}