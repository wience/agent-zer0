{
  "markdown": "# Idempotency\n\n2022-07-07 17:08\n\nIf a request timeout error occurs when you call an API, you might attempt to resend the request. In this case, you can configure the specified idempotency fields in the request to help avoid unwanted duplication in case of failures and retries.\n\nAn API call is idempotent if it has the same result no matter how many times the API call is applied. For example, idempotency can guarantee that the payment is charged only once if the same API payment call is retried multiple times in the case of a timeout error. You can retry the request via using the same idempotency field to guarantee that no more than one charge is created.\n\n# Idempotency fields\n\nThe following table lists the idempotency fields of specific OpenAPI.\n\n|     |     |     |\n| --- | --- | --- |\n| **API name** | **Idempotency field** | **Rule** |\n| - [/v1/payments/pay](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/v1_pay) | paymentRequestId | This field is used for the idempotence control. For the payment requests which are initiated with the same `paymentRequestId` and reach a final status (S or F), the native app must return the unique result. |\n| - [/v1/payments/refund](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/v1_refund) | refundRequestId | This field is used for the idempotence control. For the refund requests which are initiated with the same `refundRequestId` and reach a final status (S or F), the native must return the unique result. |\n\n[iframe](https://tracert.alipay.com/cross.html)",
  "metadata": {
    "robots": "noarchive",
    "ogImage": "",
    "description": "If a request timeout error occurs when you call an API, you might attempt to resend the request.",
    "og:type": "website",
    "favicon": "https://gw.alipayobjects.com/mdn/rms_150082/afts/img/A*rOH-T5TEL-cAAAAAAAAAAABkARQnAQ",
    "ogDescription": "If a request timeout error occurs when you call an API, you might attempt to resend the request.",
    "og:url": "",
    "keywords": "",
    "og:title": "Idempotency | Developer's Guide | Documentation",
    "ogTitle": "Idempotency | Developer's Guide | Documentation",
    "og:image": "",
    "ogUrl": "",
    "viewport": "width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover",
    "og:description": "If a request timeout error occurs when you call an API, you might attempt to resend the request.",
    "title": "Idempotency | Developer's Guide | Documentation",
    "scrapeId": "c75a703e-1ac2-48e9-89d9-36cda60008aa",
    "sourceURL": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_idempotency",
    "url": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_idempotency",
    "statusCode": 200
  },
  "html": "<!DOCTYPE html><html style=\"--vh: 1000px;\" data-theme=\"light\">\n    <body>\n    \n    \n    <div id=\"root\"><div class=\"index-module_height100__dDLuI\"><div style=\"top:0\"></div><div class=\"styles-module_searchWrap__mIEtV index-module_mobileSearch__Lianv \"><svg class=\"icon icon-search styles-module_searchIcon__2wekS\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"></path></svg><input type=\"text\" title=\"Press 's' to start the search\" placeholder=\"Search documentation\"><div class=\"styles-module_resultWrap__LQyY1 \"><div class=\"styles-module_result__6EDKs\"><div class=\"styles-module_resultScroll__x5srB\"></div></div><div class=\"styles-module_mask__naKUh\"></div></div></div><div class=\"undefined index-module_height100__dDLuI\"><div class=\"index-module_container__-pyWH    idocs-global-container  idocs-global-normal-container\"><div class=\"index-module_center__Kh8xX  idocs-global-index-center \" style=\"max-width: none; min-height: calc(var(--vh, 1vh) * 100 - 26px);\"><main class=\"index-module_main__2B9Eq    idocs-global-main-with-toc\" style=\"padding-left:264px;width:0\"><article class=\"index-module_content__6p5ch  idocs-global-content\"><div class=\"index-module_contentInner__KQHGJ idocs-global-content-inner\"><div class=\"styles-module_docBody__zUo8V\"><h1 class=\"styles-module_title__6bcTh styles-module_anchored__AxVRP \"><span class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span><span>Idempotency</span></span></h1><div class=\"styles-module_updateDate__1rqmL\"><time datetime=\"2022-07-07 17:08\" style=\"color: var(--font-color-third);\"><svg class=\"icon icon-clock\" width=\"1em\" height=\"1em\"><path d=\"M6.832 0C3.058 0 0 3.134 0 7s3.058 7 6.832 7 6.833-3.134 6.833-7-3.059-7-6.833-7zm4.152 11.253a5.835 5.835 0 01-1.867 1.29 5.695 5.695 0 01-2.285.473 5.717 5.717 0 01-2.284-.472 5.872 5.872 0 01-1.867-1.29 5.995 5.995 0 01-1.259-1.912A6.096 6.096 0 01.961 7c0-.812.155-1.6.46-2.34A6.032 6.032 0 012.68 2.746a5.835 5.835 0 011.866-1.29A5.706 5.706 0 016.832.984c.793 0 1.562.159 2.285.472.699.304 1.326.737 1.867 1.29.539.552.963 1.196 1.258 1.912.307.742.462 1.53.462 2.342s-.155 1.6-.46 2.34a5.998 5.998 0 01-1.26 1.913zM9.78 6.891H7.313V3.609a.486.486 0 00-.48-.492c-.266 0-.481.22-.481.492v3.282c0 .544.43.984.96.984h2.47c.265 0 .48-.22.48-.492a.486.486 0 00-.48-.492z\" fill=\"currentColor\" fill-rule=\"nonzero\" fill-opacity=\".7\"></path></svg>2022-07-07 17:08</time></div><div class=\"styles-module_content__2jcQS styles-module_yuqueContent__iJuXe\"><div class=\"lake-content-editor-core lake-engine lake-typography-traditional\" data-lake-element=\"root\" data-selection-undefined=\"%7B%22path%22%3A%5B%5B5%2C0%2C1%2C0%5D%2C%5B5%2C0%2C1%2C1%5D%5D%2C%22active%22%3Atrue%7D\"><p data-lake-id=\"a20d224c568e48b9d67847a2c66a8c01_p_0\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:16px\">If a request timeout error occurs when you call an API, you might attempt to resend the request. In this case, you can configure the specified idempotency fields in the request to <span>help avoid unwanted duplication in case of failures and retries. &nbsp;</span><span style=\"color:#F5222D\"> &nbsp;</span></p><p data-lake-id=\"a7a413fc2dfd25468527f36bf4f6a7b7\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:16px\"><span>An API call is idempotent if it has the same result no matter how many times the API call is applied. For example, idempotency can guarantee that </span><span style=\"background-color:transparent\">the payment is charged only once if the same API payment call is retried multiple times in the case of a timeout error. </span><span style=\"background-color:transparent\">You can retry the request via using the same</span><span style=\"background-color:transparent\"> idempotency field</span><span style=\"background-color:transparent\"> to guarantee that no more than one charge is created. </span><span class=\"lake-fontsize-11\" style=\"background-color:rgb(255, 236, 61);font-size:14px\" data-mce-style=\"font-size: 11px\"><br></span></p><h1 data-lake-id=\"ec2bea9a046d7e55997f98d1acf8ba0c\" id=\"v5EfN\" style=\"padding:0px;font-weight:700;font-size:32px;line-height:44px;margin:32px 0px 16px\" class=\"styles-module_anchored__AxVRP h1 \"><span data-id=\"v5EfN\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Idempotency fields </span></h1><p data-lake-id=\"6a7b9d495883471557849ce42e9a2b46\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:16px\"><span style=\"background-color:transparent\">The following table lists the idempotency fields of specific OpenAPI. &nbsp;</span></p><div data-card-type=\"block\" data-lake-card=\"table\" id=\"mQ9fi\" class=\"\"><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:802px;text-align:left;outline:none;border-collapse:collapse;border:1px solid rgb(217, 217, 217)\" class=\"lake-table\"><colgroup><col width=\"239\" span=\"1\"><col width=\"154\" span=\"1\"><col width=\"409\" span=\"1\"></colgroup><tbody><tr style=\"height:33px\"><td style=\"vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"ce1bb5faa14da722a55efa8facde23c8\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><strong>API name</strong></span></p></td><td style=\"vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"4b191576a8157a8d36afc783b94caa69\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><strong>Idempotency field</strong></span></p></td><td style=\"vertical-align:top;background-color:rgb(212, 238, 252);min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"4d965a4687a06f452863f846c8c60786\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><strong>Rule</strong></span></p></td></tr><tr style=\"height:33px\"><td style=\"vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><ul data-lake-id=\"5f02fce915bdc68662eae2018ba9a69e\" lake-indent=\"0\" style=\"list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word\"><li data-lake-id=\"8d646f9ba656a4c643934120f4852c1d\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/v1_pay\" target=\"_blank\">/v1/payments/pay</a></li></ul></td><td style=\"vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"c759767ec912bd747ba27fcb73f6041c\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\">paymentRequestId</span></p></td><td style=\"vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"0a0890abf65073833803dbb93952f5bf\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><span>Thi</span></span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\">s field is used for the idempotence control. For the payment requests which are initiated with the same&nbsp;</span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><code style=\"font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px\">paymentRequestId</code></span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\">&nbsp;and reach a final status (S or F), the native app must return the unique result.</span></p></td></tr><tr style=\"height:33px\"><td style=\"vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><ul data-lake-id=\"02f7e9b86a884032fc3d8c7211fa907c\" lake-indent=\"0\" style=\"list-style-type:disc;padding-left:23px;margin:0px;font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word\"><li data-lake-id=\"3def5ad7805dc5642668a0b09b982949\"><a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/v1_refund\" target=\"_blank\">/v1/payments/refund</a></li></ul></td><td style=\"vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"e9c5cb6ccdb54b34381d7caff4c6bf17\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\">refundRequestId</span></p></td><td style=\"vertical-align:top;min-width:90px;font-size:14px;white-space:normal;overflow-wrap:break-word;border:1px solid rgb(217, 217, 217);padding:4px 8px;cursor:default\"><p data-lake-id=\"20d3e6d5fd28b6e609e9cc5c8dd823c1\" style=\"font-size:14px;color:rgb(38, 38, 38);line-height:1.74;letter-spacing:0.05em;outline-style:none;overflow-wrap:break-word;margin-top:0px;margin-bottom:0px\"><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><span>Thi</span></span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\">s field is used for the idempotence control.&nbsp;</span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\">For the refund requests which are initiated with the same&nbsp;</span><span class=\"lake-fontsize-11\" data-mce-style=\"font-size: 11px\" style=\"font-size:14px\"><code style=\"font-family:monospace;font-size:inherit;background-color:rgba(0, 0, 0, 0.06);padding:0px 2px;border:1px solid rgba(0, 0, 0, 0.08);border-radius:2px;line-height:inherit;overflow-wrap:break-word;text-indent:0px\">refundRequestId</code>&nbsp;and reach a final status (S or F),&nbsp;the native must return the unique result.</span></p></td></tr></tbody></table></div></div></div></div></div><div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><button class=\"pswp__button pswp__button--share\" title=\"Share\"></button><button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button><button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button><button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div></div></article></main></div></div></div></div></div>\n    \n    \n  \n  <iframe src=\"https://tracert.alipay.com/cross.html\" style=\"width: 1px; height: 1px; position: absolute; left: -100px; bottom: -100px; display: none;\"></iframe></body></html>",
  "warning": "This scrape job was throttled at your current concurrency limit. If you'd like to scrape faster, you can upgrade your plan."
}