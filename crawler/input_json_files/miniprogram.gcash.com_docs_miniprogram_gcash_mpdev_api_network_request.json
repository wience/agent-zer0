{
  "markdown": "# my.request\n\n2022-07-03 18:44\n\nNetwork request of a Mini Program.\n\n## Notes\n\n1. Configure the domain name whitelist at first under `Mini Program` \\> `Configuration` \\> `Server Domain Whitelist`. The Mini Program can only communicate with the domain names in the whitelist during the API calls: `my.request` (send HTTP request), `my.uploadFile` (upload file), and `my.downloadFile` (download file).\n2. During the Mini Program development, in the developer tool, select whether to ignore the httpRequest domain name validity check under `Details` \\> `Domain name information`. If yes, the domain name validity will not be checked in the simulator, preview, and real machine debugging scenarios. However, before the Mini Program goes online, you must maintain the domain names in the whitelist, otherwise, the domain names cannot be effective in the official release.\n\nImportant: `my.request` request header is **{'content-type': 'application/json'}** by default,instead of **{'content-type': 'application/x-www-form-urlencoded'}**.\n\n## Sample Code\n\ncopy\n\n```javascript\nmy.request({\n  url: 'https://httpbin.org/post',\n  method: 'POST',\n  data: {\n    from: 'Mini Program',\n    production: 'JSAPI',\n  },\n  dataType: 'json',\n  success: function(res) {\n    my.alert({content: 'success'});\n  },\n  fail: function(res) {\n    my.alert({content: 'fail'});\n  },\n  complete: function(res) {\n    my.hideLoading();\n    my.alert({content: 'complete'});\n  }\n});\n\nconst task = my.request({url: 'https://httpbin.org/post'})\ntask.abort()\n```\n\n## Parameters\n\n|     |     |     |     |\n| --- | --- | --- | --- |\n| **Property** | **Type** | **Required** | **Description** |\n| url | String | Yes | Target server url. |\n| headers | Object | No | Set the request HTTP header. The default value is <br>`{'content-type': 'application/json'}`<br>. |\n| method | String | No | The default value is GET. Both GET and POST are supported. |\n| data | Object | No | Request parameter. |\n| timeout | Number | No | Timeout period in ms. The default value is 30000. |\n| dataType | String | No | Expected format of the returned data. The following formats are supported:<br>- json<br>- text<br>- base64<br>The default format is json. |\n| success | Function | No | The callback function for a successful API call. |\n| fail | Function | No | The callback function for a failed API call. |\n| complete | Function | No | The callback function used when the API call is completed. This function is always executed no matter the call succeeds or fails. |\n\n### Data Parameter Description\n\nData transferred to the server is eventually expressed in String. If the type is not String, the data will be converted into String. Conversion rules are:\n\n- If the method is `GET`, the data will be converted into query string: encodeURIComponent(k)=encodeURIComponent(v)&encodeURIComponent(k)=encodeURIComponent(v)...\n- If the method is `POST` and the `headers['content-type']` is `application/json`, the data will be JSON serialized.\n- If the method is `POST` and the `headers['content-type']` is `application/x-www-form-urlencoded`, the data will be converted into query string: encodeURIComponent(k)=encodeURIComponent(v)&encodeURIComponent(k)=encodeURIComponent(v)...\n\n### Success Callback Function\n\nThe type of the incoming parameter is Object with the following attributes:\n\n|     |     |     |\n| --- | --- | --- |\n| **Property** | **Type** | **Description** |\n| data | String | Response data. The format depends on the value of `dataType` in the request. |\n| status | Number | Response code. |\n| headers | Object | Response header. |\n\n## Error Code\n\n|     |     |\n| --- | --- |\n| **Error** | **Description** |\n| 2 | Incorrect parameter. Check whether the URL is in HTTPS format and all parameters are correct. |\n| 4 | Not authorized to call the interface. The error might result from the following:<br>- The server domain whitelist is not configured. In this case, configure the server domain whitelist under `Mini Program` > `Configuration` > `Server Domain Whitelist`. The mini program can only communicate with the domains in the whitelist when calling the `my.request` and `my.uploadFile` APIs. If the server domain whitelist is updated, the whitelist comes effective only when a new version of the mini program is published.<br>- Errors occur with your account and you cannot login to the mini program platform. In this case, when you debug in the Mini Program studio, select _Ignore httpRequest domain name validity check_ or _Ignore Webview domain name validity check_ under `Details` \\> `Domain name information`, and then preview the debugging request.<br>- Check whether the HTTP request domain name is incorrect. |\n| 12 | Network error. |\n| 13 | Timeout. |\n| 14 | Decoding failure. |\n| 19 | HTTP error. |\n| 20 | Request stopped/service end traffic limit. |\n\n**Note:**\n\nThe error code of 14 might be returned in the following cases:\n\n- When the value of `dataType` is `json`, the Mini Program framework firstly perform the `JSON.prase` operation on the returned results. If the parsing fails, the error code of 14 is returned.\n- When the value of `dataType` is `text` and the returned content has a bad format, the error code of 14 is returned.\n\nTo solve the error, check whether the `dataType` setting is incorrect firstly.\n\n## Return Value\n\n### RequestTask\n\nNetwork request task object.\n\n#### Method\n\nRequestTask.abort()\n\n**Note:**\n\nIf **Not authorized to call the interface** is returned, configure the domain whitelist under `Mini Program` \\> `Configuration` \\> `Server Domain Whitelist` in the mini program platform.\n\n[iframe](https://tracert.alipay.com/cross.html)",
  "metadata": {
    "og:description": "Network request of a Mini Program.Important: my.request request header is {'content-type': 'application/json'} by default, instead of {'content-type': 'application/x-www-form-urlencoded'}.",
    "description": "Network request of a Mini Program.Important: my.request request header is {'content-type': 'application/json'} by default, instead of {'content-type': 'application/x-www-form-urlencoded'}.",
    "og:url": "",
    "keywords": "",
    "ogUrl": "",
    "og:title": "my.request | Developer's Guide | Documentation",
    "ogImage": "",
    "og:type": "website",
    "ogDescription": "Network request of a Mini Program.Important: my.request request header is {'content-type': 'application/json'} by default, instead of {'content-type': 'application/x-www-form-urlencoded'}.",
    "title": "my.request | Developer's Guide | Documentation",
    "viewport": "width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover",
    "og:image": "",
    "ogTitle": "my.request | Developer's Guide | Documentation",
    "favicon": "https://gw.alipayobjects.com/mdn/rms_150082/afts/img/A*rOH-T5TEL-cAAAAAAAAAAABkARQnAQ",
    "robots": "noarchive",
    "scrapeId": "908500d8-73da-415c-90fe-2ac609fedacb",
    "sourceURL": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_network_request",
    "url": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_network_request",
    "statusCode": 200
  },
  "html": "<!DOCTYPE html><html data-theme=\"light\" style=\"--vh: 1000px;\">\n    <body>\n    \n    \n    <div id=\"root\"><div class=\"index-module_height100__dDLuI\"><div style=\"top:0\"></div><div class=\"styles-module_searchWrap__mIEtV index-module_mobileSearch__Lianv \"><svg class=\"icon icon-search styles-module_searchIcon__2wekS\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"></path></svg><input type=\"text\" title=\"Press 's' to start the search\" placeholder=\"Search documentation\"><div class=\"styles-module_resultWrap__LQyY1 \"><div class=\"styles-module_result__6EDKs\"><div class=\"styles-module_resultScroll__x5srB\"></div></div><div class=\"styles-module_mask__naKUh\"></div></div></div><div class=\"undefined index-module_height100__dDLuI\"><div class=\"index-module_container__-pyWH    idocs-global-container  idocs-global-normal-container\"><div class=\"index-module_center__Kh8xX  idocs-global-index-center \" style=\"max-width: none; min-height: calc(var(--vh, 1vh) * 100 - 26px);\"><main class=\"index-module_main__2B9Eq    idocs-global-main-with-toc\" style=\"padding-left:264px;width:0\"><article class=\"index-module_content__6p5ch  idocs-global-content\"><div class=\"index-module_contentInner__KQHGJ idocs-global-content-inner\"><div class=\"styles-module_docBody__zUo8V\"><h1 class=\"styles-module_title__6bcTh styles-module_anchored__AxVRP \"><span class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span><span>my.request</span></span></h1><div class=\"styles-module_updateDate__1rqmL\"><time datetime=\"2022-07-03 18:44\" style=\"color: var(--font-color-third);\"><svg class=\"icon icon-clock\" width=\"1em\" height=\"1em\"><path d=\"M6.832 0C3.058 0 0 3.134 0 7s3.058 7 6.832 7 6.833-3.134 6.833-7-3.059-7-6.833-7zm4.152 11.253a5.835 5.835 0 01-1.867 1.29 5.695 5.695 0 01-2.285.473 5.717 5.717 0 01-2.284-.472 5.872 5.872 0 01-1.867-1.29 5.995 5.995 0 01-1.259-1.912A6.096 6.096 0 01.961 7c0-.812.155-1.6.46-2.34A6.032 6.032 0 012.68 2.746a5.835 5.835 0 011.866-1.29A5.706 5.706 0 016.832.984c.793 0 1.562.159 2.285.472.699.304 1.326.737 1.867 1.29.539.552.963 1.196 1.258 1.912.307.742.462 1.53.462 2.342s-.155 1.6-.46 2.34a5.998 5.998 0 01-1.26 1.913zM9.78 6.891H7.313V3.609a.486.486 0 00-.48-.492c-.266 0-.481.22-.481.492v3.282c0 .544.43.984.96.984h2.47c.265 0 .48-.22.48-.492a.486.486 0 00-.48-.492z\" fill=\"currentColor\" fill-rule=\"nonzero\" fill-opacity=\".7\"></path></svg>2022-07-03 18:44</time></div><div class=\"styles-module_content__2jcQS styles-module_yuqueContent__iJuXe\"><p data-lake-id=\"370fa523f62e8d094897021ce831fbe9\"><span>Network request of a Mini Program.</span></p><h2 id=\"Note\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"Note\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Notes</span></h2><ol><li><span>Configure the domain name whitelist at first under </span><code><span>Mini Program</span></code><span class=\"lake-fontsize-11\" style=\"color:#333333\"> &gt; </span><code><span>Configuration</span></code><span class=\"lake-fontsize-11\" style=\"color:#333333\">&gt; </span><code><span>Server Domain Whitelist</span></code><span>. The Mini Program can only communicate with the domain names in the whitelist during the API calls: </span><code><span>my.request</span></code><span> (send HTTP request), </span><code><span>my.uploadFile</span></code><span> (</span><span>upload file</span><span>), and </span><code><span>my.downloadFile</span></code><span> (</span><span>download file</span><span>).</span></li><li><span>During the Mini Program development, in the developer tool, select whether to ignore the httpRequest domain name validity check under </span><code><span>Details</span></code><span> &gt; </span><code><span>Domain name information</span></code><span>. If yes, the domain name validity will not be checked in the simulator, preview, and real machine debugging scenarios. However, before the Mini Program goes online, you must maintain the domain names in the whitelist, otherwise, the domain names cannot be effective in the official release.</span></li></ol><p data-lake-id=\"cf7f8a1f41a417017c7a5ef59a2e0ba6\"><span>Important: </span><code><span>my.request</span></code><span> request header is </span><strong><span>{'content-type': 'application/json'} </span></strong><span>by default,</span><strong><span> </span></strong><span>instead of </span><strong><span>{'content-type': 'application/x-www-form-urlencoded'}</span></strong><span>.</span></p><h2 id=\"2d071c97\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"2d071c97\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Sample Code</span></h2><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-javascript\" style=\"white-space:pre\"><span>my.request({\n</span><span>  </span><span style=\"color:#986801\">url</span><span>: </span><span style=\"color:#50a14f\">'https://httpbin.org/post'</span><span>,\n</span><span>  </span><span style=\"color:#986801\">method</span><span>: </span><span style=\"color:#50a14f\">'POST'</span><span>,\n</span><span>  </span><span style=\"color:#986801\">data</span><span>: {\n</span><span>    </span><span style=\"color:#986801\">from</span><span>: </span><span style=\"color:#50a14f\">'Mini Program'</span><span>,\n</span><span>    </span><span style=\"color:#986801\">production</span><span>: </span><span style=\"color:#50a14f\">'JSAPI'</span><span>,\n</span>  },\n<span>  </span><span style=\"color:#986801\">dataType</span><span>: </span><span style=\"color:#50a14f\">'json'</span><span>,\n</span><span>  </span><span style=\"color:#986801\">success</span><span>: </span><span class=\"hljs-function\" style=\"color:#a626a4\">function</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">res</span><span class=\"hljs-function\">) </span><span>{\n</span><span>    my.alert({</span><span style=\"color:#986801\">content</span><span>: </span><span style=\"color:#50a14f\">'success'</span><span>});\n</span>  },\n<span>  </span><span style=\"color:#986801\">fail</span><span>: </span><span class=\"hljs-function\" style=\"color:#a626a4\">function</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">res</span><span class=\"hljs-function\">) </span><span>{\n</span><span>    my.alert({</span><span style=\"color:#986801\">content</span><span>: </span><span style=\"color:#50a14f\">'fail'</span><span>});\n</span>  },\n<span>  </span><span style=\"color:#986801\">complete</span><span>: </span><span class=\"hljs-function\" style=\"color:#a626a4\">function</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">res</span><span class=\"hljs-function\">) </span><span>{\n</span>    my.hideLoading();\n<span>    my.alert({</span><span style=\"color:#986801\">content</span><span>: </span><span style=\"color:#50a14f\">'complete'</span><span>});\n</span>  }\n<!-- -->});\n<!-- -->\n<span></span><span style=\"color:#a626a4\">const</span><span> task = my.request({</span><span style=\"color:#986801\">url</span><span>: </span><span style=\"color:#50a14f\">'https://httpbin.org/post'</span><span>})\n</span>task.abort()</code></pre></div><h2 id=\"Parameters\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"Parameters\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Parameters</span></h2><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:749px\" class=\"lake-table\"><colgroup><col width=\"103\"><col width=\"95\"><col width=\"102\"><col width=\"449\"></colgroup><tbody><tr><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"udd97fb3f\"><strong><span>Property</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"ud6dfe3d7\"><strong><span>Type</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"f44a1b8d40ad5ebb86f97b1c2f803ca1\" style=\"text-align:left\"><strong><span class=\"lake-fontsize-11\" style=\"color:#262626\">Required</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"u0042ad4d\"><strong><span>Description</span></strong></p></td></tr><tr><td><p data-lake-id=\"u30feea71\"><span>url</span></p></td><td><p data-lake-id=\"u6a2c013b\"><span>String</span></p></td><td><p data-lake-id=\"u49f9ad8f\"><span>Yes</span></p></td><td><p data-lake-id=\"u9a75d10f\"><span>Target server url.</span></p></td></tr><tr><td><p data-lake-id=\"uf0227bd2\"><span>headers</span></p></td><td><p data-lake-id=\"uc059c5c5\"><span>Object</span></p></td><td><p data-lake-id=\"ua1bb1eeb\"><span>No</span></p></td><td><p data-lake-id=\"u84c76c5f\"><span>Set the request HTTP header. The default value is&nbsp;</span></p><p data-lake-id=\"u678e2676\"><code><span>{'content-type': 'application/json'}</span></code></p><p data-lake-id=\"u875ac9dd\"><span>.</span></p></td></tr><tr><td><p data-lake-id=\"ube1a7e87\"><span>method</span></p></td><td><p data-lake-id=\"uc562f1e3\"><span>String</span></p></td><td><p data-lake-id=\"uffd4be45\"><span>No</span></p></td><td><p data-lake-id=\"u6a986b1b\"><span>The default value is GET. Both GET and POST are supported.</span></p></td></tr><tr><td><p data-lake-id=\"uab1aadba\"><span>data</span></p></td><td><p data-lake-id=\"uda141010\"><span>Object</span></p></td><td><p data-lake-id=\"u208c4718\"><span>No</span></p></td><td><p data-lake-id=\"ub87ff907\"><span>Request parameter.</span></p></td></tr><tr><td><p data-lake-id=\"u659e86e2\"><span>timeout</span></p></td><td><p data-lake-id=\"uaadf252d\"><span>Number</span></p></td><td><p data-lake-id=\"ube60cc7c\"><span>No</span></p></td><td><p data-lake-id=\"u8fbeab54\"><span>Timeout period in ms. The default value is 30000.</span></p></td></tr><tr><td><p data-lake-id=\"uce60b41b\"><span>dataType</span></p></td><td><p data-lake-id=\"u2ed81fd5\"><span>String</span></p></td><td><p data-lake-id=\"u7728707c\"><span>No</span></p></td><td><p data-lake-id=\"edb90cc751d68fc34c7d872713749bca\"><span>Expected format of the returned data. The following formats are supported:</span></p><ul><li><span>json</span></li><li><span>text</span></li><li><span>base64</span></li></ul><p data-lake-id=\"29fb6826ae91e747f635a2976c663f36\"><span>The default format is json.</span></p></td></tr><tr><td><p data-lake-id=\"u4fccd679\"><span>success</span></p></td><td><p data-lake-id=\"uac53b278\"><span>Function</span></p></td><td><p data-lake-id=\"u43cf2176\"><span>No</span></p></td><td><p data-lake-id=\"a9bb98cc918247ede7f3c4db571096a7\"><span>The callback function for a successful API call.</span></p></td></tr><tr><td><p data-lake-id=\"ub8ac2120\"><span>fail</span></p></td><td><p data-lake-id=\"ub323527b\"><span>Function</span></p></td><td><p data-lake-id=\"u28877d8c\"><span>No</span></p></td><td><p data-lake-id=\"68624ba05a8e624fde0ee6889af6791b\"><span>The callback function for a failed API call.</span></p></td></tr><tr><td><p data-lake-id=\"uf71d4329\"><span>complete</span></p></td><td><p data-lake-id=\"u7dd3b61d\"><span>Function</span></p></td><td><p data-lake-id=\"ud93f694b\"><span>No</span></p></td><td><p data-lake-id=\"9efe9b24ea840a5501374f7fe18ee04a\"><span>The callback function used when the API call is completed.&nbsp;This function is always executed no matter the call succeeds or fails.</span></p></td></tr></tbody></table></div><h3 id=\"3ca47271\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"3ca47271\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Data Parameter Description</span></h3><p data-lake-id=\"13f5589fdf7669e9b1f8dc4f75df82b2\"><span>Data transferred to the server is eventually expressed in String. If the type is not String, the data will be converted into String. Conversion rules are:</span></p><ul><li><span>If the method is </span><code><span>GET</span></code><span>, the data will be converted into query string: encodeURIComponent(k)=encodeURIComponent(v)&amp;encodeURIComponent(k)=encodeURIComponent(v)...</span></li><li><span>If the method is </span><code><span>POST</span></code><span> and the </span><code><span>headers['content-type']</span></code><span> is </span><code><span>application/json</span></code><span>, the data will be JSON serialized.</span></li><li><span>If the method is </span><code><span>POST</span></code><span> and the </span><code><span>headers['content-type']</span></code><span> is </span><code><span>application/x-www-form-urlencoded</span></code><span>, the data will be converted into query string: encodeURIComponent(k)=encodeURIComponent(v)&amp;encodeURIComponent(k)=encodeURIComponent(v)...</span></li></ul><h3 id=\"9097f31e\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"9097f31e\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Success Callback Function</span></h3><p data-lake-id=\"552a9500cdc6b0ebd104a4bd66cfc97f\"><span>The type of the incoming parameter is Object with the following attributes:</span></p><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:751px\" class=\"lake-table\"><colgroup><col width=\"107\"><col width=\"105\"><col width=\"539\"></colgroup><tbody><tr><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"u8238e6d0\"><strong><span>Property</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"u3c7d63b3\"><strong><span>Type</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"uf56a3527\"><strong><span>Description</span></strong></p></td></tr><tr><td><p data-lake-id=\"ub4f093a6\"><span>data</span></p></td><td><p data-lake-id=\"u817a9280\"><span>String</span></p></td><td><p data-lake-id=\"5492d14f078a7c0856423e03a7f69bc7\" style=\"text-align:left\"><span>Response data. The format depends on the value of&nbsp;</span><code><span>dataType</span></code><span>&nbsp;in the request.</span></p></td></tr><tr><td><p data-lake-id=\"u3291c0c2\"><span>status</span></p></td><td><p data-lake-id=\"ue9f76da5\"><span>Number</span></p></td><td><p data-lake-id=\"u5a916108\"><span>Response code.</span></p></td></tr><tr><td><p data-lake-id=\"u26b5861d\"><span>headers</span></p></td><td><p data-lake-id=\"ud92e0a52\"><span>Object</span></p></td><td><p data-lake-id=\"u27bcddf0\"><span>Response header.</span></p></td></tr></tbody></table></div><h2 id=\"6e51a1e3\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"6e51a1e3\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Error Code</span></h2><div class=\"styles-module_scrollX__JARyY\"><table style=\"width:749px\" class=\"lake-table\"><colgroup><col width=\"93\"><col width=\"656\"></colgroup><tbody><tr><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"u4ea94222\"><strong><span>Error</span></strong></p></td><td style=\"background-color:#D4EEFC\"><p data-lake-id=\"ub1ef3fff\"><strong><span>Description</span></strong></p></td></tr><tr><td><p data-lake-id=\"2437cac6ad8f03448ae403be9a3af9ed_p_0\"><span>2</span></p></td><td><p data-lake-id=\"44390cf86d6b76c1e1f15320756d14b6_p_0\"><span>Incorrect parameter. Check whether the URL is in HTTPS format and all parameters are correct.</span></p></td></tr><tr><td><p data-lake-id=\"11fc7b8f05796c67b865e4f8b8ccf452\" style=\"text-align:left\"><span>4</span></p></td><td><p data-lake-id=\"2cb9829b42eaca7a8f4765f0f11e5ab9\" style=\"text-align:left\"><span>Not authorized to call the interface. The error might result from the following:</span></p><ul><li style=\"text-align:left\"><span>The server domain whitelist is not configured. In this case, configure the server domain whitelist under </span><code><span>Mini Program</span></code><span class=\"lake-fontsize-11\" style=\"color:#333333\">&nbsp;&gt;&nbsp;</span><code><span>Configuration</span></code><span class=\"lake-fontsize-11\" style=\"color:#333333\">&gt;&nbsp;</span><code><span>Server Domain Whitelist</span></code><span>. The mini program can only communicate with the domains in the whitelist when calling the </span><code><span>my.request</span></code><span> and </span><code><span>my.uploadFile</span></code><span> APIs. If the server domain whitelist is updated, the whitelist comes effective only when a new version of the mini program is published.</span></li><li style=\"text-align:left\"><span>Errors occur with your account and you cannot login to the mini program platform. In this case, when you debug in the Mini Program studio, select </span><em><span>Ignore httpRequest domain name validity check</span></em><strong><span>&nbsp;</span></strong><span>or&nbsp;</span><em><span>Ignore Webview&nbsp;domain name validity check</span></em><strong><span>&nbsp;</span></strong><span>under&nbsp;</span><code><span>Details</span></code><span> &gt; </span><code><span>Domain name information</span></code><span>, and then preview the debugging request.</span></li><li style=\"text-align:left\"><span>Check whether the HTTP request domain name is incorrect.&nbsp;</span></li></ul></td></tr><tr><td><p data-lake-id=\"uec5d91ea\"><span>12</span></p></td><td><p data-lake-id=\"u7396967f\"><span>Network error.</span></p></td></tr><tr><td><p data-lake-id=\"u4fb3b5d6\"><span>13</span></p></td><td><p data-lake-id=\"u9459f798\"><span>Timeout.</span></p></td></tr><tr><td><p data-lake-id=\"u768e30da\"><span>14</span></p></td><td><p data-lake-id=\"ua20200ed\"><span>Decoding failure.</span></p></td></tr><tr><td><p data-lake-id=\"u8761a382\"><span>19</span></p></td><td><p data-lake-id=\"u76a5781c\"><span>HTTP error.</span></p></td></tr><tr><td><p data-lake-id=\"u7f59e451\"><span>20</span></p></td><td><p data-lake-id=\"u823b786e\"><span>Request stopped/service end traffic limit.</span></p></td></tr></tbody></table></div><p data-lake-id=\"9dc90a6ab5b1a16eb1b2df1a4dd64ac0\"><strong><span>Note:</span></strong></p><p data-lake-id=\"ec12586e6f62424a23c46635a67b34b6\"><span>The error code of 14 might be returned in the following cases:</span></p><ul><li><span>When the value of </span><code><span>dataType</span></code><span> is </span><code><span>json</span></code><span>, the Mini Program framework firstly perform the </span><code><span>JSON.prase</span></code><span> operation on the returned results. If the parsing fails, the error code of 14 is returned. </span></li><li><span>When the value of </span><code><span>dataType</span></code><span> is </span><code><span>text</span></code><span> and the returned content has a bad format, </span><span>the error code of 14 is returned</span><span>. </span></li></ul><p data-lake-id=\"2b22ed049ecd3e00e35eb1c8cf15c3c7\"><span>To solve the error, check whether the </span><code><span>dataType</span></code><span> setting is incorrect </span><span>firstly</span><span>.</span></p><h2 id=\"64fca1d7\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"64fca1d7\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Return Value</span></h2><h3 id=\"RequestTask\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"RequestTask\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>RequestTask</span></h3><p data-lake-id=\"7a2508fb0bce92460427888c1c83b053\"><span>Network request task object.</span></p><h4 id=\"Method\" class=\"styles-module_anchored__AxVRP h4 \"><span data-id=\"Method\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span>Method</span></h4><p data-lake-id=\"3d746f2a54d438dea9cad786436be30e\"><span>RequestTask.abort()</span></p><p data-lake-id=\"18ec16c17e53b9d484ea752eb0daae98\"><strong><span>Note: </span></strong></p><p data-lake-id=\"70e75df7a30916f0160cc9f301425f3f\"><span>If </span><strong><span>Not authorized to call the interface</span></strong><span> is returned, configure the domain whitelist under </span><code><span>Mini Program</span></code><span class=\"lake-fontsize-11\" style=\"color:#333333\"> &gt; </span><code><span>Configuration</span></code><span class=\"lake-fontsize-11\" style=\"color:#333333\">&gt; </span><code><span>Server Domain Whitelist</span></code><span> in the mini program platform.</span></p></div></div><div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><button class=\"pswp__button pswp__button--share\" title=\"Share\"></button><button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button><button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button><button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div></div></article></main></div></div></div></div></div>\n    \n    \n  \n  <iframe src=\"https://tracert.alipay.com/cross.html\" style=\"width: 1px; height: 1px; position: absolute; left: -100px; bottom: -100px; display: none;\"></iframe></body></html>",
  "warning": "This scrape job was throttled at your current concurrency limit. If you'd like to scrape faster, you can upgrade your plan."
}