{
  "markdown": "# Learn More About Todo App Demo\n\n2022-07-03 18:44\n\n## Overview\n\nWe will introduce the development of a Mini Program in detail through the Todo App Demo.\n\n## Global Configuration\n\nThe `app.js` is the entry point to a Mini Program, you can configure the lifecycle of a Mini Program, declare global variables, and perform app initialization in this file. The following code snippet shows an example of calling APIs for storage and getting user information. For more APIs, see [API document](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_overview).\n\ncopy\n\n```javascript\n// Call the storage API to get the stored data\nconst todos = my.getStorageSync({key:'todos'}).data || [\\\n    { text: 'Learning Javascript', completed: true },\\\n    { text: 'Learning ES2016', completed: true },\\\n    { text: 'Learning Mini Program ', completed: false },\\\n  ];\n\nApp({\n  // Declare global data\n  todos,\n\n  userInfo: null,\n\n  // Declare global method\n  setTodos(todos) {\n    this.todos = todos;\n    // Call storage API to store data\n    my.setStorageSync({key:'todos', data:todos});\n  },\n\n  getUserInfo() {\n    return new Promise((resolve, reject) => {\n      if (this.userInfo) resolve(this.userInfo);\n      // Call user authorization API to get user info\n      my.getAuthCode({\n        success: (authcode) => {\n          console.info(authcode);\n\n          my.getAuthUserInfo({\n            scopes: ['auth_user'],\n            success: (res) => {\n              this.userInfo = res;\n              resolve(this.userInfo);\n            },\n            fail: () => {\n              reject({});\n            },\n          });\n        },\n        fail: () => {\n          reject({});\n        },\n      });\n    });\n  },\n});\n```\n\nThe `app.json` is the global configuration file of the Mini Program, where it is possible to configure the general navigation bar title, window background color and other configurations of the Mini Program. For more configurations, see [global configuration documentation](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_app_global-configuration).\n\ncopy\n\n```json\n{\n  \"pages\": [\\\n    \"pages/todos/todos\",\\\n    \"pages/add-todo/add-todo\"\\\n  ],\n  \"window\": {\n    \"defaultTitle\": \"Todo App\"\n  }\n}\n```\n\nThe `app.acss` is the global style of a Mini Program. The selectors defined in the app.acss can be applied to all pages in the Mini Program project.\n\ncopy\n\n```css\npage {\n  flex: 1;\n  display: flex;\n}\n```\n\nThe page selector is a special selector supported by the framework, which works with the page root node container available in the framework.\n\n## Mini Program Page\n\nWe have two pages in this demo project: Todo List page and Add Todo page, both reside in the `pages` directory. All page paths of the Mini Program must be declared in the `app.json`, and a page path starts from the project root directory and should omit the filename extension. The very first path declared `app.json` is the home page of a Mini Program.\n\nEach [Mini Program page](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_page_overview) consists of four types of files under the same directory:\n\n- JS logic script file with the `.js` extension\n\n- Configuration file with the `.json` extension\n\n- Style file with the `.acss` extension\n\n- UI Layout file with the `.axml` extension.\n\n### Todo List Page\n\nThe todos.axml is the structure template file of the page:\n\ncopy\n\n```html\n<view class=\"page-todos\">\n  <view class=\"user\">\n    <image class=\"avatar\" src=\"{{user.avatar}}\" background-size=\"cover\"></image>\n    <view class=\"nickname\">{{user.nickName}}'s Todo List</view>\n  </view>\n  <view class=\"todo-items\">\n    <checkbox-group class=\"todo-items-group\" onChange=\"onTodoChanged\">\n      <label class=\"todo-item\" a:for=\"{{todos}}\">\n        <checkbox value=\"{{item.text}}\" checked=\"{{item.completed}}\" />\n        <text class=\"{{item.completed ? 'checked' : ''}}\">{{item.text}}</text>\n      </label>\n    </checkbox-group>\n    <view class=\"todo-item\">\n      <button onTap=\"addTodo\">Add Todo</button>\n    </view>\n  </view>\n</view>\n```\n\nThis UI layout have built-in UI components such as [`<view/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_view-container_view), [`<image/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_multimedia_image), [`<text/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_basic-content_text), [`<button/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_button), [`<label/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_label) and [`<checkbox/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_checkbox) to build up the page structure, and we use `a:for` attribute to perform list rendering which iterates the todos list and render a `label` for each todo data respectively.\n\nFor binding data, see [Data binding](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_axml-reference_data-binding) document. For binding event, see [event handling](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_event-system_event-introduction) document.\n\nThe `todos.js` is the logic script file of the page:\n\ncopy\n\n```javascript\n// Get global app instance\nconst app = getApp();\n\nPage({\n  data: {},\n  onLoad() {\n    // Get user information and render\n    app.getUserInfo().then(\n      user => this.setData({\n        user,\n      }),\n    );\n  },\n  // Listen to lifecycle\n  onShow() {\n    // Render global data to current page\n    this.setData({ todos: app.todos });\n  },\n  // Event handler\n  onTodoChanged(e) {\n    // Modify global data and re-render\n    const checkedTodos = e.detail.value;\n    app.setTodos(app.todos.map(todo => ({\n      ...todo,\n      completed: checkedTodos.indexOf(todo.text) > -1,\n    })));\n    this.setData({ todos: app.todos });\n  },\n  addTodo() {\n    // Call page jump API for page jump\n    my.navigateTo({ url: '../add-todo/add-todo' });\n  },\n});\n```\n\nIn this file, we have:\n\n- Listen to and process the lifecycle function of the page ( `onHide`, `onShow`, `onLoad`, `onUnload`, `onReady`).\n\n- Get Mini Program app instance and other page instances ( `getApp`, `getCurrentPages`).\n\n- Declare and process data\n\n- Respond to page interaction events, call APIs, etc.\n\n- Attention here: the `app.todos` object is the global variable defined in `app.js`.\n\nThe `todos.acss` is the style file of the page:\n\ncopy\n\n```css\n.page-todos {\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n}\n\n.user {\n  display: flex;\n  padding: 30px 30px 0 30px;\n}\n\n.avatar {\n  width: 128rpx;\n  height: 128rpx;\n  margin-right: 40rpx;\n  border-radius: 50%;\n}\n\n.nickname {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  font-size: 40rpx;\n}\n\n.todo-items {\n  padding: 80rpx;\n}\n\n.todo-items-group {\n  display: flex;\n  flex-direction: column;\n}\n\n.checked {\n  color: #d9d9d9;\n  text-decoration: line-through;\n}\n\n.todo-item {\n  margin-bottom: 15px;\n}\n```\n\nThe `acss` styling file is not mandatory. See [Style](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_acss-reference) document for `acss` file syntax. When a page has the style sheet, the style rule in the page style sheet overrides the style rules in the `app.acss`. if the style sheet is not specified for the page, it is also possible to directly use the style rules specified in `app.acss`.\n\nThe `todos.json` is the configuration file of the page. Here it is an empty file.\n\nThe configuration file is not mandatory. When a page has the configuration file, the configuration item overwrites the same configuration items in the window of app.json. If no page configuration file is specified, the page directly uses the default configuration in app.json. Therefore, the index page title is the Todo App specified for app.json.\n\n### Add Todo Page\n\nThe `add-todo.axml` is the structure template file of the page:\n\ncopy\n\n```html\n<view class=\"page-add-todo\">\n  <view class=\"add-todo\">\n    <input\n      class=\"add-todo-input\"\n      placeholder=\"What needs to be done?\"\n      onBlur=\"onBlur\"\n      value=\"{{inputValue}}\"\n    />\n  </view>\n  <view class=\"todo-footer\">\n    <add-button text=\"Add Todo\" onClickMe=\"add\" ></add-button>\n  </view>\n</view>\n```\n\nThere are two core functions in the page:\n\n1. Use the [`<input/>`](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_input) component to accept user input.\n\n2. The `<add-button>` is a [custom component](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_custom-component_create-custom-component_overview). We can wrap the whole codes of some function into a custom component for easy reuse elsewhere.\n\n`add-todo.js` page logic code:\n\ncopy\n\n```javascript\nconst app = getApp();\n\nPage({\n  data: {\n    inputValue: '',\n  },\n  onBlur(e) {\n    this.setData({\n      inputValue: e.detail.value,\n    });\n  },\n  add() {\n    app.todos = app.todos.concat([\\\n      {\\\n        text: this.data.inputValue,\\\n        compeleted: false,\\\n      },\\\n    ]);\n    my.navigateBack();\n  },\n});\n```\n\n`add-todo.acss` is consistent with `todos.acss` usage and will not be described again.\n\nSince the `add-todo.json` refers to a custom component, it should be declared in json, otherwise error will be reported:\n\ncopy\n\n```json\n\"usingComponents\": {\n    \"add-button\": \"/components/add-button/add-button\"\n}\n```\n\nWe will learn how to publish a Mini Program in the [next tutorial](https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/quick-start_release-mini-program).\n\n[iframe](https://tracert.alipay.com/cross.html)",
  "metadata": {
    "ogImage": "",
    "og:title": "Learn More About Todo App Demo | Developer's Guide | Documentation",
    "ogDescription": "We will introduce the development of a Mini Program in detail through the Todo App Demo.The app.",
    "og:image": "",
    "robots": "noarchive",
    "ogTitle": "Learn More About Todo App Demo | Developer's Guide | Documentation",
    "ogUrl": "",
    "description": "We will introduce the development of a Mini Program in detail through the Todo App Demo.The app.",
    "og:type": "website",
    "keywords": "",
    "viewport": "width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, viewport-fit=cover",
    "favicon": "https://gw.alipayobjects.com/mdn/rms_150082/afts/img/A*rOH-T5TEL-cAAAAAAAAAAABkARQnAQ",
    "title": "Learn More About Todo App Demo | Developer's Guide | Documentation",
    "og:description": "We will introduce the development of a Mini Program in detail through the Todo App Demo.The app.",
    "og:url": "",
    "scrapeId": "669e54f1-ec9a-472b-b70b-b0d5c506a924",
    "sourceURL": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/quick-start_learn-more-about-todo-app-demo",
    "url": "https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/quick-start_learn-more-about-todo-app-demo",
    "statusCode": 200
  },
  "html": "<!DOCTYPE html><html style=\"--vh: 1000px;\" data-theme=\"light\">\n    <body>\n    \n    \n    <div id=\"root\"><div class=\"index-module_height100__dDLuI\"><div style=\"top:0\"></div><div class=\"styles-module_searchWrap__mIEtV index-module_mobileSearch__Lianv \"><svg class=\"icon icon-search styles-module_searchIcon__2wekS\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z\"></path></svg><input type=\"text\" title=\"Press 's' to start the search\" placeholder=\"Search documentation\"><div class=\"styles-module_resultWrap__LQyY1 \"><div class=\"styles-module_result__6EDKs\"><div class=\"styles-module_resultScroll__x5srB\"></div></div><div class=\"styles-module_mask__naKUh\"></div></div></div><div class=\"undefined index-module_height100__dDLuI\"><div class=\"index-module_container__-pyWH    idocs-global-container  idocs-global-normal-container\"><div class=\"index-module_center__Kh8xX  idocs-global-index-center \" style=\"max-width: none; min-height: calc(var(--vh, 1vh) * 100 - 26px);\"><main class=\"index-module_main__2B9Eq    idocs-global-main-with-toc\" style=\"padding-left:264px;width:0\"><article class=\"index-module_content__6p5ch  idocs-global-content\"><div class=\"index-module_contentInner__KQHGJ idocs-global-content-inner\"><div class=\"styles-module_docBody__zUo8V\"><h1 class=\"styles-module_title__6bcTh styles-module_anchored__AxVRP \"><span class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span><span><span>Learn More About Todo App Demo</span></span></h1><div class=\"styles-module_updateDate__1rqmL\"><time datetime=\"2022-07-03 18:44\" style=\"color: var(--font-color-third);\"><svg class=\"icon icon-clock\" width=\"1em\" height=\"1em\"><path d=\"M6.832 0C3.058 0 0 3.134 0 7s3.058 7 6.832 7 6.833-3.134 6.833-7-3.059-7-6.833-7zm4.152 11.253a5.835 5.835 0 01-1.867 1.29 5.695 5.695 0 01-2.285.473 5.717 5.717 0 01-2.284-.472 5.872 5.872 0 01-1.867-1.29 5.995 5.995 0 01-1.259-1.912A6.096 6.096 0 01.961 7c0-.812.155-1.6.46-2.34A6.032 6.032 0 012.68 2.746a5.835 5.835 0 011.866-1.29A5.706 5.706 0 016.832.984c.793 0 1.562.159 2.285.472.699.304 1.326.737 1.867 1.29.539.552.963 1.196 1.258 1.912.307.742.462 1.53.462 2.342s-.155 1.6-.46 2.34a5.998 5.998 0 01-1.26 1.913zM9.78 6.891H7.313V3.609a.486.486 0 00-.48-.492c-.266 0-.481.22-.481.492v3.282c0 .544.43.984.96.984h2.47c.265 0 .48-.22.48-.492a.486.486 0 00-.48-.492z\" fill=\"currentColor\" fill-rule=\"nonzero\" fill-opacity=\".7\"></path></svg>2022-07-03 18:44</time></div><div class=\"styles-module_content__2jcQS styles-module_yuqueContent__iJuXe\"><h2 id=\"Overview\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"Overview\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Overview</h2><p>We will introduce the development of a Mini Program in detail through the Todo App Demo.</p><a name=\"Global-Configuration\"></a><h2 id=\"6408d076\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"6408d076\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Global Configuration</h2><p>The <code>app.js</code> is the entry point to a Mini Program, you can configure the lifecycle of a Mini Program, declare global variables, and perform app initialization in this file. The following code snippet shows an example of calling APIs for storage and getting user information. For more APIs, see <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/api_overview\" data-idocs-page-id=\"30416cfd-1f60-4760-8783-10479468901e\" data-idocs-page-slug=\"api_overview\">API document</a>.</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-javascript\" style=\"white-space:pre\"><span style=\"color:#a0a1a7;font-style:italic\">// Call the storage API to get the stored data</span><span>\n</span><span></span><span style=\"color:#a626a4\">const</span><span> todos = my.getStorageSync({</span><span style=\"color:#986801\">key</span><span>:</span><span style=\"color:#50a14f\">'todos'</span><span>}).data || [\n</span><span>    { </span><span style=\"color:#986801\">text</span><span>: </span><span style=\"color:#50a14f\">'Learning Javascript'</span><span>, </span><span style=\"color:#986801\">completed</span><span>: </span><span style=\"color:#0184bb\">true</span><span> },\n</span><span>    { </span><span style=\"color:#986801\">text</span><span>: </span><span style=\"color:#50a14f\">'Learning ES2016'</span><span>, </span><span style=\"color:#986801\">completed</span><span>: </span><span style=\"color:#0184bb\">true</span><span> },\n</span><span>    { </span><span style=\"color:#986801\">text</span><span>: </span><span style=\"color:#50a14f\">'Learning Mini Program '</span><span>, </span><span style=\"color:#986801\">completed</span><span>: </span><span style=\"color:#0184bb\">false</span><span> },\n</span>  ];\n<!-- -->\n<!-- -->App({\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Declare global data</span><span>\n</span>  todos,\n<!-- -->\n<span>  </span><span style=\"color:#986801\">userInfo</span><span>: </span><span style=\"color:#0184bb\">null</span><span>,\n</span>\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Declare global method</span><span>\n</span><span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">setTodos</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">todos</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#c18401\">this</span><span>.todos = todos;\n</span><span>    </span><span style=\"color:#a0a1a7;font-style:italic\">// Call storage API to store data</span><span>\n</span><span>    my.setStorageSync({</span><span style=\"color:#986801\">key</span><span>:</span><span style=\"color:#50a14f\">'todos'</span><span>, </span><span style=\"color:#986801\">data</span><span>:todos});\n</span>  },\n<!-- -->\n<span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">getUserInfo</span><span class=\"hljs-function\">(</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#a626a4\">return</span><span> </span><span style=\"color:#a626a4\">new</span><span> </span><span style=\"color:#c18401\">Promise</span><span>(</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">resolve, reject</span><span class=\"hljs-function\">) =&gt;</span><span> {\n</span><span>      </span><span style=\"color:#a626a4\">if</span><span> (</span><span style=\"color:#c18401\">this</span><span>.userInfo) resolve(</span><span style=\"color:#c18401\">this</span><span>.userInfo);\n</span><span>      </span><span style=\"color:#a0a1a7;font-style:italic\">// Call user authorization API to get user info</span><span>\n</span>      my.getAuthCode({\n<span>        </span><span style=\"color:#986801\">success</span><span>: </span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">authcode</span><span class=\"hljs-function\">) =&gt;</span><span> {\n</span><span>          </span><span style=\"color:#c18401\">console</span><span>.info(authcode);\n</span>\n<!-- -->          my.getAuthUserInfo({\n<span>            </span><span style=\"color:#986801\">scopes</span><span>: [</span><span style=\"color:#50a14f\">'auth_user'</span><span>],\n</span><span>            </span><span style=\"color:#986801\">success</span><span>: </span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">res</span><span class=\"hljs-function\">) =&gt;</span><span> {\n</span><span>              </span><span style=\"color:#c18401\">this</span><span>.userInfo = res;\n</span><span>              resolve(</span><span style=\"color:#c18401\">this</span><span>.userInfo);\n</span>            },\n<span>            </span><span style=\"color:#986801\">fail</span><span>: </span><span class=\"hljs-function\">() =&gt;</span><span> { \n</span>              reject({});\n<!-- -->            },\n<!-- -->          });\n<!-- -->        },\n<span>        </span><span style=\"color:#986801\">fail</span><span>: </span><span class=\"hljs-function\">() =&gt;</span><span> { \n</span>          reject({});\n<!-- -->        },\n<!-- -->      });\n<!-- -->    });\n<!-- -->  },\n<!-- -->});</code></pre></div><p>The <code>app.json</code> is the global configuration file of the Mini Program, where it is possible to configure the general navigation bar title, window background color and other configurations of the Mini Program. For more configurations, see <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_app_global-configuration\" data-idocs-page-id=\"2b813ac8-9b2e-462d-a599-2783e9e51435\" data-idocs-page-slug=\"framework_app_global-configuration\">global configuration documentation</a>.</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-json\" style=\"white-space:pre\"><span>{\n</span><span>  </span><span style=\"color:#986801\">\"pages\"</span><span>: [\n</span><span>    </span><span style=\"color:#50a14f\">\"pages/todos/todos\"</span><span>,    \n</span><span>    </span><span style=\"color:#50a14f\">\"pages/add-todo/add-todo\"</span><span>\n</span>  ],\n<span>  </span><span style=\"color:#986801\">\"window\"</span><span>: {\n</span><span>    </span><span style=\"color:#986801\">\"defaultTitle\"</span><span>: </span><span style=\"color:#50a14f\">\"Todo App\"</span><span>\n</span>  }\n<!-- -->}</code></pre></div><p>The <code>app.acss</code> is the global style of a Mini Program. The selectors defined in the app.acss can be applied to all pages in the Mini Program project.</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-css\" style=\"white-space:pre\"><span>page {\n</span><span>  </span><span style=\"color:#50a14f\">flex</span><span>: </span><span style=\"color:#986801\">1</span><span>;\n</span><span>  </span><span style=\"color:#50a14f\">display</span><span>: flex;\n</span>}</code></pre></div><p>The page selector is a special selector supported by the framework, which works with the page root node container available in the framework.</p><a name=\"Mini-Program-Page\"></a><h2 id=\"38869aba\" class=\"styles-module_anchored__AxVRP h2 \"><span data-id=\"38869aba\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Mini Program Page</h2><p>We have two pages in this demo project: Todo List page and Add Todo page, both reside in the <code>pages</code> directory. All page paths of the Mini Program must be declared in the <code>app.json</code>, and a page path starts from the project root directory and should omit the filename extension. The very first path declared <code>app.json</code> is the home page of a Mini Program.</p><p>Each <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_page_overview\" data-idocs-page-id=\"e019babf-7cbe-4a02-99aa-1fda2e5d2bc3\" data-idocs-page-slug=\"framework_page_overview\">Mini Program page</a> consists of four types of files under the same directory:</p><ul><li>JS logic script file with the <code>.js</code> extension</li></ul><ul><li>Configuration file with the <code>.json</code> extension</li></ul><ul><li>Style file with the <code>.acss</code> extension</li></ul><ul><li>UI Layout file with the <code>.axml</code> extension.</li></ul><a name=\"Todo-List-Page\"></a><h3 id=\"c81ea6bb\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"c81ea6bb\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Todo List Page</h3><p>The todos.axml is the structure template file of the page:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-html\" style=\"white-space:pre\"><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"page-todos\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">  </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"user\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">    </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">image</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"avatar\"</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">src</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">user.avatar</span><span style=\"color:#986801\">}}</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">background-size</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"cover\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">image</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">    </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"nickname\"</span><span class=\"xml hljs-tag\">&gt;</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">user.nickName</span><span style=\"color:#986801\">}}</span><span class=\"xml\">'s Todo List</span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">  </span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">  </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"todo-items\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">    </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">checkbox-group</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"todo-items-group\"</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">onChange</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"onTodoChanged\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">      </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">label</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"todo-item\"</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">a:for</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">todos</span><span style=\"color:#986801\">}}</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">        </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">checkbox</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">value</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">item.text</span><span style=\"color:#986801\">}}</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">checked</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">item.completed</span><span style=\"color:#986801\">}}</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span class=\"xml hljs-tag\"> /&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">        </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">text</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">item.completed</span><span style=\"color:#986801\"> ? </span><span style=\"color:#50a14f\">'checked'</span><span style=\"color:#986801\"> : </span><span style=\"color:#50a14f\">''</span><span style=\"color:#986801\">}}</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"</span><span class=\"xml hljs-tag\">&gt;</span><span style=\"color:#986801\">{{</span><span style=\"color:#e45649\">item.text</span><span style=\"color:#986801\">}}</span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">text</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">      </span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">label</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">    </span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">checkbox-group</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">    </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">class</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"todo-item\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">      </span><span class=\"xml hljs-tag\">&lt;</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">button</span><span class=\"xml hljs-tag\"> </span><span class=\"xml hljs-tag\" style=\"color:#986801\">onTap</span><span class=\"xml hljs-tag\">=</span><span class=\"xml hljs-tag\" style=\"color:#50a14f\">\"addTodo\"</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">Add Todo</span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">button</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">    </span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\">  </span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\">&gt;</span><span class=\"xml\">\n</span><span class=\"xml\"></span><span class=\"xml hljs-tag\">&lt;/</span><span class=\"xml hljs-tag\" style=\"color:#e45649\">view</span><span class=\"xml hljs-tag\">&gt;</span></code></pre></div><p>This UI layout have built-in UI components such as <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_view-container_view\" data-idocs-page-id=\"589a4fca-5b28-4936-b126-eeb006b50ec1\" data-idocs-page-slug=\"component_view-container_view\"><code>&lt;view/&gt;</code></a>,<a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_multimedia_image\" data-idocs-page-id=\"f7471cd9-5cbe-4bb7-b239-3fe1513457ab\" data-idocs-page-slug=\"component_multimedia_image\"><code>&lt;image/&gt;</code></a>,<a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_basic-content_text\" data-idocs-page-id=\"dbeb8edf-7c0a-49c4-965f-ff17727febc7\" data-idocs-page-slug=\"component_basic-content_text\"><code>&lt;text/&gt;</code></a>,<a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_button\" data-idocs-page-id=\"371692b4-4d41-4e94-9d78-255de3f7386d\" data-idocs-page-slug=\"component_form-component_button\"><code>&lt;button/&gt;</code></a>,<a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_label\" data-idocs-page-id=\"af982adc-2dc8-440a-895f-57ef1f729607\" data-idocs-page-slug=\"component_form-component_label\"><code>&lt;label/&gt;</code></a> and <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_checkbox\" data-idocs-page-id=\"14a9dad1-1447-4c02-841b-e1ef8d031215\" data-idocs-page-slug=\"component_form-component_checkbox\"><code>&lt;checkbox/&gt;</code></a> to build up the page structure, and we use <code>a:for</code> attribute to perform list rendering which iterates the todos list and render a <code>label</code> for each todo data respectively.</p><p>For binding data, see <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_axml-reference_data-binding\" data-idocs-page-id=\"b0c344af-68fa-4994-9e6e-ed23ec70feaa\" data-idocs-page-slug=\"framework_axml-reference_data-binding\">Data binding</a> document. For binding event, see <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_event-system_event-introduction\" data-idocs-page-id=\"03f23574-d7f2-49f7-924b-13af7aad2a7f\" data-idocs-page-slug=\"framework_event-system_event-introduction\">event handling</a> document.</p><p>The <code>todos.js</code> is the logic script file of the page:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-javascript\" style=\"white-space:pre\"><span style=\"color:#a0a1a7;font-style:italic\">// Get global app instance</span><span>\n</span><span></span><span style=\"color:#a626a4\">const</span><span> app = getApp();\n</span>\n<!-- -->Page({\n<span>  </span><span style=\"color:#986801\">data</span><span>: {},\n</span><span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">onLoad</span><span class=\"hljs-function\">(</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#a0a1a7;font-style:italic\">// Get user information and render</span><span>\n</span>    app.getUserInfo().then(\n<span>      </span><span class=\"hljs-function hljs-params\">user</span><span class=\"hljs-function\"> =&gt;</span><span> </span><span style=\"color:#c18401\">this</span><span>.setData({\n</span>        user,\n<!-- -->      }),\n<!-- -->    );\n<!-- -->  },\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Listen to lifecycle</span><span>\n</span><span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">onShow</span><span class=\"hljs-function\">(</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#a0a1a7;font-style:italic\">// Render global data to current page</span><span>\n</span><span>    </span><span style=\"color:#c18401\">this</span><span>.setData({ </span><span style=\"color:#986801\">todos</span><span>: app.todos });\n</span>  },\n<span>  </span><span style=\"color:#a0a1a7;font-style:italic\">// Event handler</span><span>\n</span><span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">onTodoChanged</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">e</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#a0a1a7;font-style:italic\">// Modify global data and re-render</span><span>\n</span><span>    </span><span style=\"color:#a626a4\">const</span><span> checkedTodos = e.detail.value;\n</span><span>    app.setTodos(app.todos.map(</span><span class=\"hljs-function hljs-params\">todo</span><span class=\"hljs-function\"> =&gt;</span><span> ({\n</span>      ...todo,\n<span>      </span><span style=\"color:#986801\">completed</span><span>: checkedTodos.indexOf(todo.text) &gt; -</span><span style=\"color:#986801\">1</span><span>,\n</span>    })));\n<span>    </span><span style=\"color:#c18401\">this</span><span>.setData({ </span><span style=\"color:#986801\">todos</span><span>: app.todos });\n</span>  },\n<span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">addTodo</span><span class=\"hljs-function\">(</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#a0a1a7;font-style:italic\">// Call page jump API for page jump</span><span>\n</span><span>    my.navigateTo({ </span><span style=\"color:#986801\">url</span><span>: </span><span style=\"color:#50a14f\">'../add-todo/add-todo'</span><span> });\n</span>  },\n<!-- -->});</code></pre></div><p>In this file, we have:</p><ul><li>Listen to and process the lifecycle function of the page (<code>onHide</code>, <code>onShow</code>, <code>onLoad</code>, <code>onUnload</code>, <code>onReady</code>).</li></ul><ul><li>Get Mini Program app instance and other page instances (<code>getApp</code>, <code>getCurrentPages</code>).</li></ul><ul><li>Declare and process data</li></ul><ul><li>Respond to page interaction events, call APIs, etc.</li></ul><ul><li>Attention here: the <code>app.todos</code> object is the global variable defined in <code>app.js</code>.</li></ul><p>The <code>todos.acss</code> is the style file of the page:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-css\" style=\"white-space:pre\"><span style=\"color:#986801\">.page-todos</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">flex</span><span>: </span><span style=\"color:#986801\">1</span><span>;\n</span><span>  </span><span style=\"color:#50a14f\">display</span><span>: flex;\n</span><span>  </span><span style=\"color:#50a14f\">flex-direction</span><span>: column;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.user</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">display</span><span>: flex;\n</span><span>  </span><span style=\"color:#50a14f\">padding</span><span>: </span><span style=\"color:#986801\">30px</span><span> </span><span style=\"color:#986801\">30px</span><span> </span><span style=\"color:#986801\">0</span><span> </span><span style=\"color:#986801\">30px</span><span>;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.avatar</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">width</span><span>: </span><span style=\"color:#986801\">128</span><span>rpx;\n</span><span>  </span><span style=\"color:#50a14f\">height</span><span>: </span><span style=\"color:#986801\">128</span><span>rpx;\n</span><span>  </span><span style=\"color:#50a14f\">margin-right</span><span>: </span><span style=\"color:#986801\">40</span><span>rpx;\n</span><span>  </span><span style=\"color:#50a14f\">border-radius</span><span>: </span><span style=\"color:#986801\">50%</span><span>;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.nickname</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">display</span><span>: flex;\n</span><span>  </span><span style=\"color:#50a14f\">flex-direction</span><span>: column;\n</span><span>  </span><span style=\"color:#50a14f\">justify-content</span><span>: center;\n</span><span>  </span><span style=\"color:#50a14f\">font-size</span><span>: </span><span style=\"color:#986801\">40</span><span>rpx;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.todo-items</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">padding</span><span>: </span><span style=\"color:#986801\">80</span><span>rpx;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.todo-items-group</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">display</span><span>: flex;\n</span><span>  </span><span style=\"color:#50a14f\">flex-direction</span><span>: column;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.checked</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">color</span><span>: </span><span style=\"color:#986801\">#d9d9d9</span><span>;\n</span><span>  </span><span style=\"color:#50a14f\">text-decoration</span><span>: line-through;\n</span>}\n<!-- -->\n<span></span><span style=\"color:#986801\">.todo-item</span><span> {\n</span><span>  </span><span style=\"color:#50a14f\">margin-bottom</span><span>: </span><span style=\"color:#986801\">15px</span><span>;\n</span>}</code></pre></div><p>The <code>acss</code> styling file is not mandatory. See <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_acss-reference\" data-idocs-page-id=\"483adcb0-c4fb-4115-91c5-5855443ea318\" data-idocs-page-slug=\"framework_acss-reference\">Style</a> document for <code>acss</code> file syntax. When a page has the style sheet, the style rule in the page style sheet overrides the style rules in the <code>app.acss</code>. if the style sheet is not specified for the page, it is also possible to directly use the style rules specified in <code>app.acss</code>.</p><p>The <code>todos.json</code> is the configuration file of the page. Here it is an empty file.</p><p>The configuration file is not mandatory. When a page has the configuration file, the configuration item overwrites the same configuration items in the window of app.json. If no page configuration file is specified, the page directly uses the default configuration in app.json. Therefore, the index page title is the Todo App specified for app.json.</p><a name=\"Add-Todo-Page\"></a><h3 id=\"50f0c7b3\" class=\"styles-module_anchored__AxVRP h3 \"><span data-id=\"50f0c7b3\" class=\"index-module_anchor__UrjO7 styles-module_anchorLink__mbBm1\"><span role=\"img\" aria-label=\"link\" class=\"anticon anticon-link\"><svg viewBox=\"64 64 896 896\" focusable=\"false\" data-icon=\"link\" width=\"1em\" height=\"1em\" fill=\"currentColor\" aria-hidden=\"true\"><path d=\"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z\"></path></svg></span></span>Add Todo Page</h3><p>The <code>add-todo.axml</code> is the structure template file of the page:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-html\" style=\"white-space:pre\"><span>&lt;view </span><span style=\"color:#986801\">class</span><span>=</span><span style=\"color:#50a14f\">\"page-add-todo\"</span><span>&gt;\n</span><span>  &lt;view </span><span style=\"color:#986801\">class</span><span>=</span><span style=\"color:#50a14f\">\"add-todo\"</span><span>&gt;\n</span>    &lt;input \n<span>      </span><span style=\"color:#986801\">class</span><span>=</span><span style=\"color:#50a14f\">\"add-todo-input\"</span><span>\n</span><span>      </span><span style=\"color:#986801\">placeholder</span><span>=</span><span style=\"color:#50a14f\">\"What needs to be done?\"</span><span>\n</span><span>      </span><span style=\"color:#986801\">onBlur</span><span>=</span><span style=\"color:#50a14f\">\"onBlur\"</span><span>\n</span><span>      </span><span style=\"color:#986801\">value</span><span>=</span><span style=\"color:#50a14f\">\"{{inputValue}}\"</span><span>\n</span>    /&gt;\n<!-- -->  &lt;/view&gt;\n<span>  &lt;view </span><span style=\"color:#986801\">class</span><span>=</span><span style=\"color:#50a14f\">\"todo-footer\"</span><span>&gt;\n</span><span>    &lt;add-button </span><span style=\"color:#986801\">text</span><span>=</span><span style=\"color:#50a14f\">\"Add Todo\"</span><span> </span><span style=\"color:#0184bb\">on</span><span>ClickMe=</span><span style=\"color:#50a14f\">\"add\"</span><span> &gt;&lt;/add-button&gt;\n</span>  &lt;/view&gt;\n<!-- -->&lt;/view&gt;</code></pre></div><p>There are two core functions in the page:</p><ol start=\"1\"><li>Use the <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/component_form-component_input\" data-idocs-page-id=\"be7218df-3874-4cb8-ab24-1f796c0427f9\" data-idocs-page-slug=\"component_form-component_input\"><code>&lt;input/&gt;</code></a> component to accept user input.</li></ol><ol start=\"2\"><li>The <code>&lt;add-button&gt;</code> is a <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/framework_custom-component_create-custom-component_overview\" data-idocs-page-id=\"37705b42-a223-4a06-aa2a-ae22697f3d04\" data-idocs-page-slug=\"framework_custom-component_create-custom-component_overview\">custom component</a>. We can wrap the whole codes of some function into a custom component for easy reuse elsewhere.</li></ol><p><code>add-todo.js</code> page logic code:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-javascript\" style=\"white-space:pre\"><span style=\"color:#a626a4\">const</span><span> app = getApp();\n</span>\n<!-- -->Page({\n<span>  </span><span style=\"color:#986801\">data</span><span>: {\n</span><span>    </span><span style=\"color:#986801\">inputValue</span><span>: </span><span style=\"color:#50a14f\">''</span><span>,\n</span>  },\n<span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">onBlur</span><span class=\"hljs-function\">(</span><span class=\"hljs-function hljs-params\">e</span><span class=\"hljs-function\">)</span><span> {\n</span><span>    </span><span style=\"color:#c18401\">this</span><span>.setData({\n</span><span>      </span><span style=\"color:#986801\">inputValue</span><span>: e.detail.value,\n</span>    });\n<!-- -->  },\n<span>  </span><span class=\"hljs-function\" style=\"color:#4078f2\">add</span><span class=\"hljs-function\">(</span><span class=\"hljs-function\">)</span><span> {\n</span>    app.todos = app.todos.concat([\n<!-- -->      {\n<span>        </span><span style=\"color:#986801\">text</span><span>: </span><span style=\"color:#c18401\">this</span><span>.data.inputValue,\n</span><span>        </span><span style=\"color:#986801\">compeleted</span><span>: </span><span style=\"color:#0184bb\">false</span><span>,\n</span>      },\n<!-- -->    ]);\n<!-- -->    my.navigateBack();\n<!-- -->  },\n<!-- -->});</code></pre></div><p><code>add-todo.acss</code> is consistent with <code>todos.acss</code> usage and will not be described again.</p><p>Since the <code>add-todo.json</code> refers to a custom component, it should be declared in json, otherwise error will be reported:</p><div class=\"styles-module_copyWrapper__Fc5qV\"><div class=\"styles-module_copyButton__vn-Pc\"><svg class=\"icon icon-copy\" viewBox=\"64 64 896 896\" width=\"1em\" height=\"1em\" fill=\"#ccc\" aria-hidden=\"true\"><path d=\"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z\"></path></svg>copy</div><pre style=\"display:block;overflow-x:auto;padding:0.5em;color:#383a42;background:#fafafa;transition:background var(--transition-delay)\"><code class=\"language-json\" style=\"white-space:pre\"><span style=\"color:#50a14f\">\"usingComponents\"</span><span>: {\n</span><span>    </span><span style=\"color:#986801\">\"add-button\"</span><span>: </span><span style=\"color:#50a14f\">\"/components/add-button/add-button\"</span><span>\n</span>}</code></pre></div><p>We will learn how to publish a Mini Program in the <a href=\"https://miniprogram.gcash.com/docs/miniprogram_gcash/mpdev/quick-start_release-mini-program\" data-idocs-page-id=\"baf023db-b600-425f-8930-12c82764c8f3\" data-idocs-page-slug=\"quick-start_release-mini-program\">next tutorial</a>.</p></div></div><div class=\"pswp\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"true\"><div class=\"pswp__bg\"></div><div class=\"pswp__scroll-wrap\"><div class=\"pswp__container\"><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div><div class=\"pswp__item\"></div></div><div class=\"pswp__ui pswp__ui--hidden\"><div class=\"pswp__top-bar\"><div class=\"pswp__counter\"></div><button class=\"pswp__button pswp__button--close\" title=\"Close (Esc)\"></button><button class=\"pswp__button pswp__button--share\" title=\"Share\"></button><button class=\"pswp__button pswp__button--fs\" title=\"Toggle fullscreen\"></button><button class=\"pswp__button pswp__button--zoom\" title=\"Zoom in/out\"></button><div class=\"pswp__preloader\"><div class=\"pswp__preloader__icn\"><div class=\"pswp__preloader__cut\"><div class=\"pswp__preloader__donut\"></div></div></div></div></div><div class=\"pswp__share-modal pswp__share-modal--hidden pswp__single-tap\"><div class=\"pswp__share-tooltip\"></div></div><button class=\"pswp__button pswp__button--arrow--left\" title=\"Previous (arrow left)\"></button><button class=\"pswp__button pswp__button--arrow--right\" title=\"Next (arrow right)\"></button><div class=\"pswp__caption\"><div class=\"pswp__caption__center\"></div></div></div></div></div></div></article></main></div></div></div></div></div>\n    \n    \n  \n  <iframe src=\"https://tracert.alipay.com/cross.html\" style=\"width: 1px; height: 1px; position: absolute; left: -100px; bottom: -100px; display: none;\"></iframe></body></html>"
}